{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./test/dummy/frontend/js/initializers/rails.js","webpack:///./test/dummy/frontend/js/services/notification_center.coffee","webpack:///./test/dummy/frontend/js/reducers/main/index.js","webpack:///./test/dummy/frontend/js/stores/main/index.js","webpack:///./test/dummy/frontend/js/reducers/admin/articles.js","webpack:///./test/dummy/frontend/js/reducers/admin/users.js","webpack:///./test/dummy/frontend/js/reducers/admin/index.js","webpack:///./test/dummy/frontend/js/stores/admin/index.js","webpack:///./test/dummy/frontend/js/models/article.coffee","webpack:///./test/dummy/frontend/js/models/article/comment.coffee","webpack:///./test/dummy/frontend/js/models/user.coffee","webpack:///./test/dummy/frontend/js/views/shared/flash.coffee","webpack:///./test/dummy/frontend/js/controllers/concerns/disconnection.coffee","webpack:///./test/dummy/frontend/js/components/admin/Article.js","webpack:///./test/dummy/frontend/js/components/admin/ArticleList.js","webpack:///./test/dummy/frontend/js/containers/admin/ArticleListWrapper.js","webpack:///./test/dummy/frontend/js/views/admin/articles/List.js","webpack:///./test/dummy/frontend/js/components/admin/comment.js","webpack:///./test/dummy/frontend/js/containers/admin/StatefulCommentList.js","webpack:///./test/dummy/frontend/js/views/admin/articles/Edit.js","webpack:///./test/dummy/frontend/js/views/admin/articles/Form.js","webpack:///./test/dummy/frontend/js/controllers/admin/articles.coffee","webpack:///./test/dummy/frontend/js/components/admin/User.js","webpack:///./test/dummy/frontend/js/components/admin/UserList.js","webpack:///./test/dummy/frontend/js/containers/admin/UserListWrapper.js","webpack:///./test/dummy/frontend/js/views/admin/users/Show.js","webpack:///./test/dummy/frontend/js/views/admin/users/Form.js","webpack:///./test/dummy/frontend/js/controllers/admin.coffee","webpack:///./test/dummy/frontend/js/controllers/admin/Users.js","webpack:///./test/dummy/frontend/js/services/Connectivity.js","webpack:///./test/dummy/frontend/js/initializers/loco.js","webpack:///./test/dummy/frontend/js/containers/main/pages/LoadMoreLink.js","webpack:///./test/dummy/frontend/js/components/main/Article.js","webpack:///./test/dummy/frontend/js/components/main/ArticleList.js","webpack:///./test/dummy/frontend/js/containers/main/pages/ArticleListWrapper.js","webpack:///./test/dummy/frontend/js/controllers/main.coffee","webpack:///./test/dummy/frontend/js/controllers/main/Pages.js","webpack:///./test/dummy/frontend/js/views/main/users/user_registration_form.coffee","webpack:///./test/dummy/frontend/js/controllers/main/users.coffee","webpack:///./test/dummy/frontend/js/models/index.js","webpack:///./test/dummy/frontend/index.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","0","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","Rails","start","notification_center_coffee","receivedSignal","signal","this","_pingSignal","_messageSignal","loco","namespaceController","constructor","App","Controllers","User","alert","view","_getRoomView","receivedMessage","message","author","controller","Rooms","action","getView","reducer","state","type","articles","_toConsumableArray","payload","concat","index","article","findArticle","id","find","a","indexOf","store","createStore","arguments","undefined","articles_toConsumableArray","users","users_toConsumableArray","combineReducers","article_coffee","superClass","Article","__super__","published","publishedAt","child","parent","hasProp","ctor","Base","identity","resources","url","paginate","per","main","admin","attributes","title","validations","presence","within","content","minimum","remoteName","createdAt","updatedAt","commentsCount","adminReview","adminRate","categoryId","adminReviewStartedAt","validate","vulgarityLevel","exec","addErrorMessage","for","setDefaultValuesForAdminReview","Date","now","comment_coffee","Comment","comment_coffee_hasProp","param","text","vulgarity","articleId","emotion","pinned","approved","user_coffee","user_coffee_hasProp","email","format","with","username","password","on","confirmation","passwordConfirmation","confirmed","console","log","flash_coffee","Flash","opts","ref","ref1","ref2","ref3","notice","warning","hide","flash_coffee_hasProp","setNotice","setAlert","setWarning","render","node","document","querySelector","classList","remove","add","textContent","hideAfterTime","time","setTimeout","disconnection_coffee","disconnectedForTooLong","_ref","date","Services","toString","react_default","createElement","className","href","propTypes","PropTypes","instanceOf","ArticleModel","isRequired","ArticleList","list","map","admin_Article","Fragment","arrayOf","ArticleListWrapper","props","_useState2","_slicedToArray","useState","setArticles","useEffect","unsubscribe","subscribe","getState","admin_ArticleList","List","_classCallCheck","_possibleConstructorReturn","_getPrototypeOf","Views","renderElement","admin_ArticleListWrapper","getElementById","comment","strftime","CommentModel","StatefulCommentList","StatefulCommentList_slicedToArray","comments","setComments","admin_comment","Edit","_this","Edit_classCallCheck","Edit_possibleConstructorReturn","Edit_getPrototypeOf","connectWith","_renderArticle","admin_StatefulCommentList","_this2","reload","then","applyChanges","Form","Form_classCallCheck","Form_possibleConstructorReturn","Form_getPrototypeOf","UI","articles_coffee","articles_coffee_hasProp","articles_List","resp","stores_admin","dispatch","edit","editView","articles_Edit","params","articles_Form","all","renderComments","updateArticle","commentsQuantityChangedForArticle","article_id","user","data-method","data-confirm","onClick","e","userId","preventDefault","Env","emit","user_id","ping","UserModel","UserList","admin_User","UserListWrapper","UserListWrapper_slicedToArray","setUsers","admin_UserList","Show","Show_classCallCheck","Show_possibleConstructorReturn","Show_getPrototypeOf","_updateEditLink","editLink","getAttribute","setAttribute","replace","users_Form_classCallCheck","users_Form_possibleConstructorReturn","users_Form_getPrototypeOf","initObj","Admin","Users","React","admin_coffee_hasProp","initialize","setScope","assign","Articles","admin_Users","admin_coffee","commentsChanged","diff","_findArticle2","Connectivity_slicedToArray","mainStore","_objectSpread","Connectivity","Connectivity_classCallCheck","Connectivity_possibleConstructorReturn","Connectivity_getPrototypeOf","AdminController","abbr","resource","adminStore","_findArticle4","Deps","cable","ActionCable","createConsumer","NotificationCenter","connectivity","Loco","notifications","enable","size","postInit","getWire","setPollingTime","init","LoadMoreLink","LoadMoreLink_slicedToArray","page","setPage","_useState4","noMorePosts","setNoMorePosts","handleClick","currentPage","catch","err","main_Article","ArticleListWrapper_slicedToArray","main_ArticleList","Main","Pages","pages_ArticleListWrapper","user_registration_form_coffee","UserRegistrationForm","user_registration_form_coffee_hasProp","delegator","callbackSuccess","_confirming","_confirmed","_created","style","display","location","users_coffee","users_coffee_hasProp","main_coffee_hasProp","main_Pages","main_coffee","Models","CustomModels"],"mappings":"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","file":"application.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t0: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([129,1]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import Rails from \"rails-ujs\";\n\nRails.start();\n","import { Env } from \"loco-js\"\n\nclass NotificationCenter\n  receivedSignal: (data) ->\n    switch data.signal\n      when 'ping'\n        this._pingSignal()\n      when 'message'\n        this._messageSignal data\n\n  _pingSignal: ->\n    return if Env.namespaceController.constructor isnt App.Controllers.User\n    alert 'Ping!'\n\n  _messageSignal: (data) ->\n    return if not view = this._getRoomView()\n    view.receivedMessage data.message, data.author\n\n  _getRoomView: ->\n    return false if Env.namespaceController.constructor isnt App.Controllers.User\n    return false if Env.controller.constructor isnt App.Controllers.User.Rooms\n    return false if Env.action isnt 'show'\n    Env.controller.getView 'show'\n\nexport default NotificationCenter","const reducer = (state, action) => {\n  switch (action.type) {\n    case \"SET\":\n      return { articles: [...action.payload.articles] };\n    case \"ADD\":\n      return { articles: [...state.articles, ...action.payload.articles] };\n    case \"UPDATE\":\n      return {\n        articles: [\n          ...state.articles.slice(0, action.payload.index),\n          action.payload.article,\n          ...state.articles.slice(action.payload.index + 1)\n        ]\n      };\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n\nexport const findArticle = (state, id) => {\n  const article = state.articles.find(a => a.id === id);\n  if (!article) return [null, null];\n  const index = state.articles.indexOf(article);\n  return [article, index];\n};\n","import { createStore } from \"redux\";\n\nimport reducer from \"reducers/main\";\n\nconst store = createStore(reducer, { articles: [] });\n\nexport default store;\n","const articles = (state = [], action) => {\n  switch (action.type) {\n    case \"PREPEND_ARTICLE\":\n      return [...action.payload.articles, ...state];\n    case \"SET_ARTICLES\":\n      return [...action.payload.articles];\n    default:\n      return state;\n  }\n};\n\nexport default articles;\n","const users = (state = [], action) => {\n  switch (action.type) {\n    case \"APPEND_USER\":\n      return [...state, ...action.payload.users];\n    case \"SET_USERS\":\n      return [...action.payload.users];\n    case \"PREPEND_USER\":\n      return [...action.payload.users, ...state];\n    default:\n      return state;\n  }\n};\n\nexport default users;\n","import { combineReducers } from \"redux\";\n\nimport articles from \"./articles\";\nimport users from \"./users\";\n\nexport default combineReducers({\n  articles,\n  users\n});\n","import { createStore } from \"redux\";\n\nimport reducer from \"reducers/admin\";\n\nconst store = createStore(reducer, { users: [], articles: [] });\n\nexport default store;\n","import { Models } from \"loco-js\"\n\nclass Article extends Models.Base\n  @identity = \"Article\"\n  @resources =\n    url: '/user/articles', paginate: {per: 5}\n    main:\n      url: '/articles', paginate: {per: 3}\n    admin:\n      url: '/admin/articles', paginate: {per: 4}\n\n  @attributes =\n    title:\n      validations:\n        presence: true\n        length: {within: [3, 255]}\n    content:\n      validations:\n        presence: true\n        length: {minimum: 100}\n      remoteName: \"text\"\n    createdAt:\n      type: \"Date\"\n      remoteName: \"created_at\"\n    updatedAt:\n      type: \"Date\"\n      remoteName: \"updated_at\"\n    commentsCount:\n      type: \"Int\"\n      remoteName: \"comments_count\"\n    publishedAt:\n      type: \"Date\"\n      remoteName: \"published_at\"\n    published: {}\n    adminReview:\n      remoteName: \"admin_review\"\n    adminRate:\n      type: \"Int\"\n      remoteName: \"admin_rate\"\n    categoryId:\n      type: \"Int\"\n      remoteName: \"category_id\"\n    adminReviewStartedAt:\n      remoteName: \"admin_review_started_at\"\n\n  @receivedSignal: (signal, data) ->\n\n  @validate = [\"vulgarityLevel\"]\n\n  constructor: (data) ->\n    super data\n    @published = if @publishedAt? then true else false\n\n  receivedSignal: (signal, data) ->\n\n  vulgarityLevel: ->\n    if (this.title? and /fuck/i.exec(this.title)) or (this.content? and /fuck/i.exec(this.content))\n      this.addErrorMessage \"Article contains strong language.\", for: 'base'\n\n  setDefaultValuesForAdminReview: ->\n    @adminRate ?= 3\n    @categoryId ?= 6\n    @adminReviewStartedAt = Date.now()\n\nexport default Article\n","import { Models } from \"loco-js\"\n\nclass Comment extends Models.Base\n  @identity = \"Article.Comment\"\n  @remoteName = \"Comment\"\n  @resources =\n    url: '/user/articles/:articleId/comments', paginate: {per: 10}\n    main:\n      url: '/articles/:articleId/comments', paginate: {per: 5, param: \"page-num\"}\n    admin:\n      url: '/admin/articles/:articleId/comments', paginate: {per: 5}\n\n  @attributes =\n    author:\n      validations:\n        presence: true\n    text:\n      validations:\n        presence: true\n        vulgarity: true\n    articleId:\n      type: \"Int\"\n      validations:\n        presence: true\n      remoteName: \"article_id\"\n    createdAt:\n      type: \"Date\"\n      remoteName: \"created_at\"\n    updatedAt:\n      type: \"Date\"\n      remoteName: \"updated_at\"\n    emotion:\n      type: \"Int\"\n    pinned:\n      type: \"Boolean\"\n    adminRate:\n      type: \"Int\"\n      remoteName: \"admin_rate\"\n    approved:\n      type: \"Boolean\"\n\n  constructor: (data) -> super data\n\n  @receivedSignal: (signal, data) ->\n\n  receivedSignal: (signal, data) ->\n\nexport default Comment\n","import { Models } from \"loco-js\"\n\nclass User extends Models.Base\n  @identity = \"User\"\n  @resources =\n    url: \"/users\"\n    admin:\n      url: \"/admin/users\"\n\n  @paginate = {per: 10}\n\n  @attributes =\n    email:\n      validations:\n        presence: true\n        format: {with: /^([^@\\s]+)@((?:[-a-z0-9]+\\.)+[a-z]{2,})$/i}\n    username:\n      validations:\n        presence: true\n        format: {with: /^[a-z][a-z0-9_\\-]*$/i}\n    password:\n      validations:\n        presence: {on: \"create\"}\n        confirmation: true\n    passwordConfirmation:\n      remoteName: \"password_confirmation\"\n    confirmed: {}\n    createdAt:\n      type: \"Date\"\n      remoteName: \"created_at\"\n    updatedAt:\n      type: \"Date\"\n      remoteName: \"updated_at\"\n\n  @receivedSignal: (signal, data) -> console.log \"App.Models.User.receivedSignal: #{signal}\"\n\n  constructor: (data) -> super data\n\n  receivedSignal: (signal, data) -> console.log \"App.Models.User#receivedSignal: #{signal}\"\n\nexport default User\n","import { Views } from \"loco-js\"\n\nclass Flash extends Views.Base\n  constructor: (opts = {}) ->\n    super opts\n    @notice = opts.notice ? null\n    @alert = opts.alert ? null\n    @warning = opts.warning ? null\n    @hide = opts.hide ? true\n\n  setNotice: (text) -> @notice = text\n  setAlert: (text) -> @alert = text\n  setWarning: (text) -> @warning = text\n\n  render: ->\n    node = document.querySelector('.flash')\n    node.classList.remove('notice')\n    node.classList.remove('alert')\n    node.classList.remove('warning')\n    if @notice?\n      node.classList.add('notice')\n      document.querySelector('.flash p').textContent = @notice\n    else if @alert?\n      node.classList.add('alert')\n      document.querySelector('.flash p').textContent = @alert\n    else if @warning?\n      node.classList.add('warning')\n      document.querySelector('.flash p').textContent = @warning\n    node.classList.remove('none') # slideDown initially\n    this.hideAfterTime() if @hide\n\n  hideAfterTime: (time = 4000) ->\n    setTimeout ->\n      document.querySelector('.flash').classList.add('none') # slideUp initially\n    , time\n\nexport default Flash","import Flash from \"views/shared/flash.coffee\"\n\nclass Disconnection\n  disconnectedForTooLong: (time) ->\n    msg = \"You have been disconnected from the server for too long. Reload page!\"\n    view = new Flash alert: msg, hide: false\n    view.render()\n\nexport default Disconnection","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Services } from \"loco-js\";\n\nimport ArticleModel from \"models/article.coffee\";\n\nfunction Article({ article }) {\n  const date = new Services.Date(article.publishedAt).toString(\"short\");\n\n  return (\n    <article id={`article_${article.id}`}>\n      <h2>{article.title}</h2>\n      <p>\n        <i>\n          {article.author} wrote this on {date} /{\" \"}\n          <span className=\"comments_quantity\">\n            {article.commentsCount} comment\n            {article.commentsCount === 1 ? \"\" : \"s\"}\n          </span>\n        </i>\n      </p>\n      <p>{article.content}</p>\n      <p>\n        <a href={`/admin/articles/${article.id}/edit`}>Review</a>\n      </p>\n    </article>\n  );\n}\n\nArticle.propTypes = {\n  article: PropTypes.instanceOf(ArticleModel).isRequired\n};\n\nexport default Article;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport Article from \"./Article\";\nimport ArticleModel from \"models/article.coffee\";\n\nfunction ArticleList({ articles }) {\n  const list = articles.map(article => (\n    <Article key={article.id} article={article} />\n  ));\n\n  return <>{list}</>;\n}\n\nArticleList.propTypes = {\n  articles: PropTypes.arrayOf(PropTypes.instanceOf(ArticleModel)).isRequired\n};\n\nexport default ArticleList;\n","import React, { useEffect, useState } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport store from \"stores/admin\";\nimport ArticleList from \"components/admin/ArticleList\";\nimport ArticleModel from \"models/article.coffee\";\n\nfunction ArticleListWrapper(props) {\n  const [articles, setArticles] = useState(props.articles);\n\n  useEffect(() => {\n    const unsubscribe = store.subscribe(() =>\n      setArticles(store.getState().articles)\n    );\n\n    return () => {\n      unsubscribe();\n    };\n  });\n\n  return <ArticleList articles={articles} />;\n}\n\nArticleListWrapper.propTypes = {\n  articles: PropTypes.arrayOf(PropTypes.instanceOf(ArticleModel)).isRequired\n};\n\nexport default ArticleListWrapper;\n","import { Views } from \"loco-js\";\nimport React from \"react\";\nimport { render as renderElement } from \"react-dom\";\n\nimport ArticleListWrapper from \"containers/admin/ArticleListWrapper\";\n\nclass List extends Views.Base {\n  constructor(opts = {}) {\n    super(opts);\n  }\n\n  render({ articles }) {\n    renderElement(\n      <ArticleListWrapper articles={articles} />,\n      document.getElementById(\"articles\")\n    );\n  }\n\n  //updateArticle: (articleId) ->\n  //  return unless document.getElementById(\"article_#{articleId}\")\n  //  App.Models.Article.find(id: articleId).then (article) =>\n  //    document.getElementById(\"article_#{articleId}\").outerHTML = this._articleForListTemplate(article)\n  //\n  //commentsQuantityChangedForArticle: (articleId, quantity) ->\n  //  return unless document.getElementById(\"article_#{articleId}\")\n  //  sel = document.querySelector(\"#article_#{articleId} span.comments_quantity\")\n  //  match = /\\d+/.exec(sel.textContent)\n  //  quantity = parseInt(match[0]) + quantity\n  //  sel.textContent = \"#{quantity} comment#{if quantity is 1 then '' else 's'}\"\n  //\n  //_articleForListTemplate: (article) ->\n  //  JST[\"templates/admin/articles/article_for_list\"] article: article\n}\n\nexport default List;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Services } from \"loco-js\";\n\nimport CommentModel from \"models/article/comment.coffee\";\n\nfunction Comment({ comment }) {\n  const createdAt = new Services.Date(comment.createdAt).strftime(\"%d %b %y\");\n\n  return (\n    <p id={`comment_${comment.id}`}>\n      <b>{comment.author}</b> on <i>{createdAt}</i> (\n      <a\n        href={`/admin/articles/${comment.articleId}/comments/${\n          comment.id\n        }/edit`}\n      >\n        edit\n      </a>\n      )\n      <br />\n      {comment.text}\n    </p>\n  );\n}\n\nComment.propTypes = {\n  comment: PropTypes.instanceOf(CommentModel).isRequired\n};\n\nexport default Comment;\n","import React, { useEffect, useState } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport store from \"stores/admin\";\nimport CommentModel from \"models/article/comment.coffee\";\nimport Comment from \"components/admin/comment\";\n\nfunction StatefulCommentList(props) {\n  const [comments, setComments] = useState(props.comments);\n\n  useEffect(() => {\n    const unsubscribe = store.subscribe(() =>\n      setComments(store.getState().comments)\n    );\n\n    return () => {\n      unsubscribe();\n    };\n  });\n\n  if (comments.length === 0) {\n    return <p>No comments</p>;\n  }\n\n  return (\n    <>\n      {comments.map(comment => (\n        <Comment comment={comment} key={comment.id} />\n      ))}\n    </>\n  );\n}\n\nStatefulCommentList.propTypes = {\n  comments: PropTypes.arrayOf(PropTypes.instanceOf(CommentModel)).isRequired\n};\n\nexport default StatefulCommentList;\n","import React from \"react\";\nimport { render as renderElement } from \"react-dom\";\nimport { Views } from \"loco-js\";\n\nimport StatefulCommentList from \"containers/admin/StatefulCommentList\";\n\nclass Edit extends Views.Base {\n  constructor(opts = {}) {\n    super(opts);\n    this.article = null;\n  }\n\n  render(article) {\n    this.article = article;\n    this.connectWith(article);\n    this._renderArticle();\n  }\n\n  renderComments(comments) {\n    renderElement(\n      <StatefulCommentList comments={comments} />,\n      document.getElementById(\"comments\")\n    );\n  }\n\n  receivedSignal(signal) {\n    switch (signal) {\n      case \"updated\":\n        this.article.reload().then(() => {\n          this.article.applyChanges();\n          this._renderArticle();\n        });\n    }\n  }\n\n  _renderArticle() {\n    document.getElementById(\"article_author\").textContent = this.article.author;\n    document.getElementById(\"article_title\").textContent = this.article.title;\n    document.getElementById(\"article_text\").textContent = this.article.content;\n  }\n}\n\nexport default Edit;\n","import { Views, UI } from \"loco-js\";\n\nclass Form extends Views.Base {\n  constructor(opts = {}) {\n    super(opts);\n  }\n\n  render(article) {\n    article.setDefaultValuesForAdminReview();\n    const form = new UI.Form({ id: \"edit_article_form\", for: article });\n    form.render();\n  }\n}\n\nexport default Form;\n","import { Controllers } from \"loco-js\";\n\nimport store from \"stores/admin\";\nimport Article from \"models/article.coffee\";\nimport Comment from \"models/article/comment.coffee\";\nimport List from \"views/admin/articles/List\";\nimport Edit from \"views/admin/articles/Edit\";\nimport Form from \"views/admin/articles/Form\";\n\nclass Articles extends Controllers.Base\n  published: ->\n    @view = new List\n    #this.connectWith([Article, Comment]);\n    Article.get('published').then (resp) =>\n      store.dispatch({ type: \"SET_ARTICLES\", payload: { articles: resp.resources } });\n      @view.render articles: resp.resources\n\n  edit: ->\n    editView = new Edit\n    Article.find(this.params.id).then (article) ->\n      editView.render(article)\n      formView = new Form\n      formView.render(article)\n    Comment.all(articleId: this.params.id).then (resp) ->\n      editView.renderComments(resp.resources)\n\n  receivedSignal: (signal, data) ->\n    switch signal\n      when 'Article updated'\n        @view.updateArticle data.id\n      when 'Article.Comment created'\n        @view.commentsQuantityChangedForArticle data.article_id, 1\n      when 'Article.Comment destroyed'\n        @view.commentsQuantityChangedForArticle data.article_id, -1\n\nexport default Articles;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Env } from \"loco-js\";\n\nimport UserModel from \"models/user.coffee\";\n\nconst User = ({ user }) => {\n  const ping = (e, userId) => {\n    e.preventDefault();\n    Env.loco.emit({ signal: \"ping\", user_id: userId });\n  };\n\n  return (\n    <tr id={`user_${user.id}`}>\n      <td>{user.email}</td>\n      <td>{user.username}</td>\n      <td className=\"confirmed\">{user.confirmed ? \"Yes\" : \"No\"}</td>\n      <td>\n        <a href={`/admin/users/${user.id}`}>Show</a> |{\" \"}\n        <a href={`/admin/users/${user.id}/edit`}>Edit</a> |{\" \"}\n        <a\n          href={`/admin/users/${user.id}`}\n          data-method=\"delete\"\n          data-confirm=\"Are you sure?\"\n        >\n          Delete\n        </a>{\" \"}\n        |{\" \"}\n        <a href=\"#\" onClick={e => ping(e, user.id)}>\n          Ping\n        </a>\n      </td>\n    </tr>\n  );\n};\n\nUser.propTypes = {\n  user: PropTypes.instanceOf(UserModel).isRequired\n};\n\nexport default User;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport User from \"./User\";\nimport UserModel from \"models/user.coffee\";\n\nfunction UserList({ users }) {\n  const list = users.map(user => <User key={`user_${user.id}`} user={user} />);\n\n  return <>{list}</>;\n}\n\nUserList.propTypes = {\n  users: PropTypes.arrayOf(PropTypes.instanceOf(UserModel)).isRequired\n};\n\nexport default UserList;\n","import React, { useEffect, useState } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport store from \"stores/admin\";\nimport UserList from \"components/admin/UserList\";\nimport UserModel from \"models/user.coffee\";\n\nfunction UserListWrapper(props) {\n  const [users, setUsers] = useState(props.users);\n\n  useEffect(() => {\n    const unsubscribe = store.subscribe(() => setUsers(store.getState().users));\n\n    return () => {\n      unsubscribe();\n    };\n  });\n\n  return <UserList users={users} />;\n}\n\nUserListWrapper.propTypes = {\n  users: PropTypes.arrayOf(PropTypes.instanceOf(UserModel)).isRequired\n};\n\nexport default UserListWrapper;\n","import { Views } from \"loco-js\";\n\nclass Show extends Views.Base {\n  constructor(opts = {}) {\n    super(opts);\n    this.user = opts.user;\n  }\n\n  render() {\n    document.getElementById(\"user_email\").textContent = this.user.email;\n    document.getElementById(\"user_username\").textContent = this.user.username;\n    document.getElementById(\"user_confirmed\").textContent = this.user.confirmed\n      ? \"Yes\"\n      : \"No\";\n    this._updateEditLink();\n  }\n\n  _updateEditLink() {\n    const editLink = document.getElementById(\"edit_link\");\n    const href = editLink.getAttribute(\"href\");\n    editLink.setAttribute(\"href\", href.replace(\"/0/\", \"/#{@user.id}/\"));\n  }\n}\n\nexport default Show;\n","import { UI, Views } from \"loco-js\";\n\nclass Form extends Views.Base {\n  constructor(opts = {}) {\n    super(opts);\n    this.user = opts.user;\n  }\n\n  render() {\n    const form = new UI.Form({\n      for: this.user,\n      initObj: true,\n      id: \"admin_user_form\"\n    });\n    form.render();\n  }\n}\n\nexport default Form;\n","import { Controllers, Mix } from \"loco-js\"\n\nimport Disconnection from \"./concerns/disconnection.coffee\"\nimport Articles from \"./admin/articles.coffee\";\nimport Users from \"./admin/Users\";\n\nclass Admin extends Mix Controllers.Base, Disconnection\n  initialize: -> this.setScope 'admin'\n\nObject.assign(Admin, {\n  Articles,\n  Users\n})\n\nexport default Admin\n","import React from \"react\";\nimport { render as renderElement } from \"react-dom\";\nimport { Controllers } from \"loco-js\";\n\nimport store from \"stores/admin\";\nimport User from \"models/user.coffee\";\nimport UserListWrapper from \"containers/admin/UserListWrapper\";\nimport Show from \"views/admin/users/Show\";\nimport Form from \"views/admin/users/Form\";\n\nclass Users extends Controllers.Base {\n  index() {\n    User.get(\"all\").then(resp => {\n      store.dispatch({ type: \"SET_USERS\", payload: { users: resp.resources } });\n      renderElement(\n        React.createElement(UserListWrapper, { users: resp.resources }),\n        document.querySelector(\"table tbody\")\n      );\n    });\n  }\n\n  show() {\n    User.find(this.params.id).then(user => new Show({ user: user }).render());\n  }\n\n  edit() {\n    const view = new Form({ user: new User({ id: this.params.id }) });\n    view.render();\n  }\n}\n\nexport default Users;\n","import { Env, Views } from \"loco-js\";\n\nimport mainStore from \"stores/main\";\nimport adminStore from \"stores/admin\";\nimport { findArticle } from \"reducers/main\";\n\nimport Article from \"models/article.coffee\";\nimport Comment from \"models/article/comment.coffee\";\nimport User from \"models/user.coffee\";\n\nimport AdminController from \"controllers/admin.coffee\";\n\nconst commentsChanged = (articleId, diff) => {\n  const [article, index] = findArticle(mainStore.getState(), articleId);\n  if (!article) return;\n  mainStore.dispatch({\n    type: \"UPDATE\",\n    payload: {\n      article: new Article({\n        ...article,\n        commentsCount: article.commentsCount + diff\n      }),\n      index: index\n    }\n  });\n};\n\nclass Connectivity extends Views.Base {\n  constructor(opts = {}) {\n    super(opts);\n  }\n\n  receivedSignal(signal, data) {\n    switch (signal) {\n      case \"Article published\":\n        if (Env.namespaceController.constructor === AdminController) {\n          Article.find({ id: data.id, abbr: true, resource: \"admin\" }).then(\n            article => {\n              adminStore.dispatch({\n                type: \"PREPEND_ARTICLE\",\n                payload: { articles: [article] }\n              });\n            }\n          );\n        } else {\n          Article.find({ id: data.id, abbr: true }).then(article => {\n            mainStore.dispatch({\n              type: \"ADD\",\n              payload: { articles: [article] }\n            });\n          });\n        }\n        break;\n      case \"Article updated\": {\n        const [article, index] = findArticle(mainStore.getState(), data.id);\n        if (!article) break;\n        Article.find({ id: data.id, abbr: true }).then(article =>\n          mainStore.dispatch({\n            type: \"UPDATE\",\n            payload: { article: article, index: index }\n          })\n        );\n        break;\n      }\n      case \"Article.Comment created\":\n        commentsChanged(data.article_id, 1);\n        break;\n      case \"Article.Comment destroyed\":\n        commentsChanged(data.article_id, -1);\n        break;\n      case \"User created\":\n        User.find(data.id).then(user =>\n          adminStore.dispatch({\n            type: \"PREPEND_USER\",\n            payload: { users: [user] }\n          })\n        );\n        break;\n    }\n  }\n\n  call() {\n    this.connectWith([Article, Comment, User]);\n  }\n}\n\nexport default Connectivity;\n","import { Deps, Env, Loco } from \"loco-js\";\nimport ActionCable from \"actioncable\";\nimport NotificationCenter from \"services/notification_center.coffee\";\nimport Connectivity from \"services/Connectivity\";\n\nDeps.cable = ActionCable.createConsumer();\nDeps.NotificationCenter = NotificationCenter;\n\nconst connectivity = new Connectivity();\n\nconst loco = new Loco({\n  notifications: {\n    enable: true,\n    log: true,\n    size: 10\n  },\n  postInit: () => {\n    connectivity.call();\n\n    if (\n      document.querySelector(\"body\").getAttribute(\"data-rails-env\") !== \"test\"\n    )\n      return;\n    Env.loco.getWire().setPollingTime(1000);\n  }\n});\n\nloco.init();\n","import React, { useState } from \"react\";\n\nimport Article from \"models/article.coffee\";\nimport store from \"stores/main\";\n\nexport default function LoadMoreLink() {\n  const [page, setPage] = useState(1);\n  const [noMorePosts, setNoMorePosts] = useState(false);\n\n  function handleClick(e) {\n    e.preventDefault();\n    const currentPage = page + 1;\n    setPage(currentPage);\n    Article.get(\"all\", { page: currentPage })\n      .then(resp => {\n        if (resp.resources.length > 0) {\n          store.dispatch({\n            type: \"ADD\",\n            payload: { articles: resp.resources }\n          });\n        } else {\n          setNoMorePosts(true);\n        }\n      })\n      .catch(err => alert(`Invalid URL: ${err}`));\n  }\n\n  function output() {\n    if (noMorePosts) return <span>No more posts.</span>;\n    else\n      return (\n        <a href=\"#\" id=\"load_more\" onClick={handleClick}>\n          Load more…\n        </a>\n      );\n  }\n\n  return output();\n}\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Services } from \"loco-js\";\n\nimport ArticleModel from \"models/article.coffee\";\n\nfunction Article({ article }) {\n  const date = new Services.Date(article.publishedAt).toString(\"short\");\n\n  return (\n    <article id={`article_${article.id}`}>\n      <h2>{article.title}</h2>\n      <p>\n        <i>\n          {article.author} wrote this on {date} /{\" \"}\n          <a\n            href={`/articles/${article.id}#comments`}\n            className=\"comments_quantity\"\n          >\n            {article.commentsCount} comment\n            {article.commentsCount === 1 ? \"\" : \"s\"}\n          </a>\n        </i>\n      </p>\n      <p>{article.content}</p>\n      <p>\n        <a href={`/articles/${article.id}`}>Continued…</a>\n      </p>\n    </article>\n  );\n}\n\nArticle.propTypes = {\n  article: PropTypes.instanceOf(ArticleModel).isRequired\n};\n\nexport default Article;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport Article from \"./Article\";\nimport ArticleModel from \"models/article.coffee\";\n\nfunction ArticleList({ articles }) {\n  const list = articles.map(article => (\n    <Article key={`article_${article.id}`} article={article} />\n  ));\n\n  return <>{list}</>;\n}\n\nArticleList.propTypes = {\n  articles: PropTypes.arrayOf(PropTypes.instanceOf(ArticleModel)).isRequired\n};\n\nexport default ArticleList;\n","import React, { useEffect, useState } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport store from \"stores/main\";\nimport ArticleList from \"components/main/ArticleList\";\nimport ArticleModel from \"models/article.coffee\";\n\nfunction ArticleListWrapper(props) {\n  const [articles, setArticles] = useState(props.articles);\n\n  useEffect(() => {\n    const unsubscribe = store.subscribe(() =>\n      setArticles(store.getState().articles)\n    );\n\n    return () => {\n      unsubscribe();\n    };\n  });\n\n  return <ArticleList articles={articles} />;\n}\n\nArticleListWrapper.propTypes = {\n  articles: PropTypes.arrayOf(PropTypes.instanceOf(ArticleModel)).isRequired\n};\n\nexport default ArticleListWrapper;\n","import { Controllers, Mix } from \"loco-js\"\n\nimport Disconnection from \"./concerns/disconnection.coffee\"\nimport Pages from \"./main/Pages\"\nimport Users from \"./main/users.coffee\"\n\nclass Main extends Mix Controllers.Base, Disconnection\n  initialize: -> this.setScope 'main'\n\nObject.assign(Main, {\n  Pages,\n  Users\n})\n\nexport default Main","import React from \"react\";\nimport { render as renderElement } from \"react-dom\";\nimport { Controllers } from \"loco-js\";\n\nimport store from \"stores/main\";\nimport Article from \"models/article.coffee\";\nimport LoadMoreLink from \"containers/main/pages/LoadMoreLink\";\nimport ArticleListWrapper from \"containers/main/pages/ArticleListWrapper\";\n\nclass Pages extends Controllers.Base {\n  index() {\n    renderElement(\n      <LoadMoreLink />,\n      document.getElementById(\"load_more_wrapper\")\n    );\n\n    Article.get(\"all\", { page: 1 }).then(resp => {\n      store.dispatch({ type: \"SET\", payload: { articles: resp.resources } });\n      renderElement(\n        <ArticleListWrapper articles={resp.resources} />,\n        document.getElementById(\"articles\")\n      );\n    });\n  }\n}\n\nexport default Pages;\n","import { UI, Views } from \"loco-js\"\n\nimport User from \"models/user.coffee\"\nimport Flash from \"views/shared/flash.coffee\"\n\nclass UserRegistrationForm extends Views.Base\n  constructor: (opts = {}) ->\n    super opts\n\n  render: ->\n    form = new UI.Form for: new User, delegator: this, callbackSuccess: '_created'\n    form.render()\n\n  receivedSignal: (signal, data) ->\n    switch signal\n      when 'confirming' then this._confirming()\n      when 'confirmed' then this._confirmed()\n\n  _created: (data) ->\n    this.connectWith new User(id: data.id)\n    document.querySelector('form').style.display = 'none'\n    document.getElementById('sign_in_paragraph').classList.remove('none')\n    document.getElementById('verification_info').classList.remove('none')\n    flash = new Flash notice: data.notice\n    flash.render()\n\n  _confirming: ->\n    document.getElementById('verification_info').textContent = document.getElementById('verification_progress').textContent\n\n  _confirmed: -> window.location.href = '/user/sessions/new?event=confirmed'\n\nexport default UserRegistrationForm","import { Controllers } from \"loco-js\"\n\nimport UserRegistrationForm from \"views/main/users/user_registration_form.coffee\"\n\nclass Users extends Controllers.Base\n  new: ->\n    view = new UserRegistrationForm\n    view.render()\n\nexport default Users\n","import Article from \"./article.coffee\";\nimport Comment from \"./article/comment.coffee\";\nimport User from \"./user.coffee\";\n\nObject.assign(Article, { Comment });\n\nconst Models = {\n  Article,\n  User\n};\n\nexport default Models;\n","import { Controllers, Models } from \"loco-js\";\n\nimport \"initializers/rails\";\nimport \"initializers/loco\";\n\nimport \"scaffold.css\";\nimport \"global.scss\";\n\nimport Admin from \"controllers/admin.coffee\";\nimport Main from \"controllers/main.coffee\";\n\nimport CustomModels from \"models\";\n\nObject.assign(Models, CustomModels);\n\nObject.assign(Controllers, {\n  Admin,\n  Main\n});\n"],"sourceRoot":""}