{"version":3,"file":"application.js","mappings":"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","sources":["webpack:///webpack/runtime/chunk loaded","webpack:///LocoModel/webpack/universalModuleDefinition","webpack:///LocoModel/webpack/bootstrap","webpack:///LocoModel/webpack/runtime/define property getters","webpack:///LocoModel/webpack/runtime/hasOwnProperty shorthand","webpack:///LocoModel/webpack/runtime/make namespace object","webpack:///LocoModel/src/config.js","webpack:///LocoModel/src/i18n.js","webpack:///LocoModel/src/locales/en.coffee","webpack:///LocoModel/src/IdentityMap.js","webpack:///LocoModel/src/validators/base.coffee","webpack:///LocoModel/src/validators/absence.coffee","webpack:///LocoModel/src/validators/confirmation.coffee","webpack:///LocoModel/src/validators/exclusion.coffee","webpack:///LocoModel/src/validators/format.coffee","webpack:///LocoModel/src/validators/inclusion.coffee","webpack:///LocoModel/src/validators/length.coffee","webpack:///LocoModel/src/validators/numericality.coffee","webpack:///LocoModel/src/validators/presence.coffee","webpack:///LocoModel/src/validators/size.coffee","webpack:///LocoModel/src/validators.js","webpack:///LocoModel/src/helpers/obj.js","webpack:///LocoModel/src/base.coffee","webpack:///LocoModel/src/helpers/connectivity.js","webpack:///LocoModel/src/models.js","webpack:///LocoModel/src/index.js","webpack:///Loco/webpack/universalModuleDefinition","webpack:///Loco/webpack/bootstrap","webpack:///Loco/webpack/runtime/define property getters","webpack:///Loco/webpack/runtime/hasOwnProperty shorthand","webpack:///Loco/webpack/runtime/make namespace object","webpack:///Loco/src/deps.js","webpack:///Loco/src/utils/object.coffee","webpack:///Loco/src/wire/openRequest.js","webpack:///Loco/src/line/idempotencyKeys.js","webpack:///Loco/src/getModelForRemoteName.coffee","webpack:///Loco/src/wire/processNotification.js","webpack:///Loco/src/wire.coffee","webpack:///Loco/src/line.js","webpack:///Loco/src/line/processSystemNotification.js","webpack:///Loco/src/loco.coffee","webpack:///Loco/src/index.js","webpack:///./test/dummy/frontend/js/initializers/rails.js","webpack:///./test/dummy/frontend/js/controllers/Base.js","webpack:///./test/dummy/frontend/js/actions.js","webpack:///./test/dummy/frontend/js/reducers/articles.js","webpack:///./test/dummy/frontend/js/reducers/comments.js","webpack:///./test/dummy/frontend/js/reducers/users.js","webpack:///./test/dummy/frontend/js/reducers/index.js","webpack:///./test/dummy/frontend/js/store.js","webpack:///./test/dummy/frontend/js/models/Article.js","webpack:///./test/dummy/frontend/js/models/article/Comment.js","webpack:///./test/dummy/frontend/js/services/Date.js","webpack:///./test/dummy/frontend/js/components/admin/comment.js","webpack:///./test/dummy/frontend/js/components/admin/CommentList.js","webpack:///./test/dummy/frontend/js/views/admin/articles/Edit.js","webpack:///./test/dummy/frontend/js/components/admin/Article.js","webpack:///./test/dummy/frontend/js/containers/admin/ArticleList.js","webpack:///./test/dummy/frontend/js/controllers/admin/Articles.js","webpack:///./test/dummy/frontend/js/views/admin/articles/Form.js","webpack:///./test/dummy/frontend/js/views/admin/sessions/Form.js","webpack:///./test/dummy/frontend/js/models/User.js","webpack:///./test/dummy/frontend/js/selectors/index.js","webpack:///./test/dummy/frontend/js/selectors/articles.js","webpack:///./test/dummy/frontend/js/selectors/comments.js","webpack:///./test/dummy/frontend/js/components/main/Comment.js","webpack:///./test/dummy/frontend/js/containers/main/articles/CommentList.js","webpack:///./test/dummy/frontend/js/containers/main/articles/CommentsNumber.js","webpack:///./test/dummy/frontend/js/helpers/text.js","webpack:///./test/dummy/frontend/js/views/shared/Flash.js","webpack:///./test/dummy/frontend/js/views/main/articles/Show.js","webpack:///./test/dummy/frontend/js/containers/main/pages/LoadMoreLink.js","webpack:///./test/dummy/frontend/js/components/main/Article.js","webpack:///./test/dummy/frontend/js/containers/main/pages/ArticleList.js","webpack:///./test/dummy/frontend/js/views/main/users/UserRegistrationForm.js","webpack:///./test/dummy/frontend/js/controllers/Main.js","webpack:///./test/dummy/frontend/js/controllers/main/Articles.js","webpack:///./test/dummy/frontend/js/controllers/main/Pages.js","webpack:///./test/dummy/frontend/js/controllers/main/Users.js","webpack:///./test/dummy/frontend/js/models/room/Member.js","webpack:///./test/dummy/frontend/js/models/Room.js","webpack:///./test/dummy/frontend/js/views/user/rooms/List.js","webpack:///./test/dummy/frontend/js/views/user/rooms/Show.js","webpack:///./test/dummy/frontend/js/controllers/user/Rooms.js","webpack:///./test/dummy/frontend/js/views/user/articles/Show.js","webpack:///./test/dummy/frontend/js/containers/user/Comment.js","webpack:///./test/dummy/frontend/js/containers/user/CommentList.js","webpack:///./test/dummy/frontend/js/views/user/articles/Form.js","webpack:///./test/dummy/frontend/js/components/user/Article.js","webpack:///./test/dummy/frontend/js/containers/user/ArticleList.js","webpack:///./test/dummy/frontend/js/controllers/user/Articles.js","webpack:///./test/dummy/frontend/js/controllers/User.js","webpack:///./test/dummy/frontend/js/services/NotificationCenter.js","webpack:///./test/dummy/frontend/js/initializers/loco.js","webpack:///./test/dummy/frontend/js/components/admin/User.js","webpack:///./test/dummy/frontend/js/containers/admin/UserList.js","webpack:///./test/dummy/frontend/js/controllers/Admin.js","webpack:///./test/dummy/frontend/js/controllers/admin/Comments.js","webpack:///./test/dummy/frontend/js/views/admin/comments/Form.js","webpack:///./test/dummy/frontend/js/controllers/admin/Sessions.js","webpack:///./test/dummy/frontend/js/controllers/admin/Users.js","webpack:///./test/dummy/frontend/js/views/admin/users/Show.js","webpack:///./test/dummy/frontend/js/views/admin/users/Form.js","webpack:///./test/dummy/frontend/js/initializers/loco-core.js","webpack:///./test/dummy/frontend/js/validators/Vulgarity.js","webpack:///./test/dummy/frontend/js/locales/base/pl.js","webpack:///./test/dummy/frontend/js/locales/models/user/pl.js","webpack:///./test/dummy/frontend/js/locales/validators/en.vulgarity.js","webpack:///./test/dummy/frontend/js/locales/validators/pl.vulgarity.js","webpack:///./test/dummy/frontend/js/locales/services/en.Date.js","webpack:///./test/dummy/frontend/index.js","webpack:///webpack/bootstrap","webpack:///webpack/runtime/compat get default export","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/global","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/jsonp chunk loading","webpack:///webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"LocoModel\"] = factory();\n\telse\n\t\troot[\"LocoModel\"] = factory();\n})(self, () => {\nreturn ","// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","class Configurator {\n  constructor() {\n    this.localeVar = \"en\";\n    this.protocolWithHostVar = null;\n    this.scopeVar = null;\n  }\n\n  get locale() {\n    return this.localeVar;\n  }\n\n  set locale(val) {\n    this.localeVar = val;\n  }\n\n  get protocolWithHost() {\n    return this.protocolWithHostVar;\n  }\n\n  set protocolWithHost(val) {\n    if (!val) {\n      this.protocolWithHostVar = null;\n    } else if (val[val.length - 1] === \"/\") {\n      this.protocolWithHostVar = val.slice(0, val.length - 1);\n    } else {\n      this.protocolWithHostVar = val;\n    }\n  }\n\n  get scope() {\n    return this.scopeVar;\n  }\n\n  set scope(val) {\n    this.scopeVar = val;\n  }\n}\n\nconst Config = new Configurator();\n\nexport default Config;\n","import en from \"./locales/en.coffee\";\n\nconst I18n = {\n  en,\n};\n\nexport default I18n;\n","en =\n  variants: {}\n  models: {}\n  attributes: {}\n  errors:\n    messages:\n      accepted: \"must be accepted\"\n      blank: \"can't be blank\"\n      confirmation: \"doesn't match %{attribute}\"\n      empty: \"can't be empty\"\n      equal_to: \"must be equal to %{count}\"\n      even: \"must be even\"\n      exclusion: \"is reserved\"\n      greater_than: \"must be greater than %{count}\"\n      greater_than_or_equal_to: \"must be greater than or equal to %{count}\"\n      inclusion: \"is not included in the list\"\n      invalid: \"is invalid\"\n      less_than: \"must be less than %{count}\"\n      less_than_or_equal_to: \"must be less than or equal to %{count}\"\n      not_a_number: \"is not a number\"\n      not_an_integer: \"must be an integer\"\n      odd: \"must be odd\"\n      present: \"must be blank\"\n      too_long:\n        one: \"is too long (maximum is 1 character)\"\n        other: \"is too long (maximum is %{count} characters)\"\n      too_short:\n        one: \"is too short (minimum is 1 character)\"\n        other: \"is too short (minimum is %{count} characters)\"\n      wrong_length:\n        one: \"is the wrong length (should be 1 character)\"\n        other: \"is the wrong length (should be %{count} characters)\"\n      other_than: \"must be other than %{count}\"\n\nexport default en","/*\nEx.\nimap = {\n  Post: {\n    1: [\n      #<Post id:1>\n    ],\n    10: [\n      #<Post id:10>, #<PostView>\n    ],\n    collection: [\n      #<PostsView>\n    ]\n  }\n}\n*/\nlet imap = {};\n\nconst findPosition = (arr) => {\n  let idx = arr.length;\n  arr.find((element, index) => {\n    if (element === null) {\n      idx = index;\n      return true;\n    }\n  });\n  return idx;\n};\n\nconst addToImap = (arr, obj) => {\n  if (arr.indexOf(obj) !== -1) return null;\n  const idx = findPosition(arr);\n  arr[idx] = obj;\n  return idx;\n};\n\nconst connect = (obj, opts = {}) => {\n  const model = opts.with;\n  add(model);\n  const arr = imap[model.getIdentity()][model.id];\n  return addToImap(arr, obj);\n};\n\nconst addCollection = (identity, opts = {}) => {\n  if (imap[identity] === undefined) imap[identity] = {};\n  if (imap[identity][\"collection\"] === undefined)\n    imap[identity][\"collection\"] = [];\n  const arr = imap[identity][\"collection\"];\n  return addToImap(arr, opts.to);\n};\n\nconst subscribe = (args) => {\n  const forExistingElement = () => {};\n  if (typeof args.to === \"object\") {\n    const idx = connect(args.with, { with: args.to });\n    if (idx === null) return forExistingElement;\n    return () => {\n      unsubscribe(args.to.getIdentity(), args.to.id, idx);\n    };\n  } else if (typeof args.to === \"function\") {\n    const idx = addCollection(args.to.getIdentity(), {\n      to: args.with,\n    });\n    if (idx === null) return forExistingElement;\n    return () => {\n      unsubscribe(args.to.getIdentity(), \"collection\", idx);\n    };\n  }\n};\n\nconst unsubscribe = (identity, id, idx) => (imap[identity][id][idx] = null);\n\nconst add = (obj) => {\n  const identity = obj.getIdentity();\n  if (imap[identity] === undefined) imap[identity] = {};\n  if (imap[identity][obj.id] === undefined) imap[identity][obj.id] = [];\n  imap[identity][obj.id][0] = obj;\n};\n\nconst find = (klass, id) => {\n  return imap[klass] !== undefined && imap[klass][id] != undefined\n    ? imap[klass][id][0]\n    : null;\n};\n\nconst findConnected = (klass, id) => {\n  if (\n    imap[klass] !== undefined &&\n    imap[klass][id] !== undefined &&\n    imap[klass][id].length > 1\n  ) {\n    return imap[klass][id].slice(1);\n  } else {\n    return [];\n  }\n};\n\nexport default {\n  get imap() {\n    return imap;\n  },\n  clear: () => (imap = {}),\n  subscribe,\n  unsubscribe,\n  add,\n  find,\n  findConnected,\n};\n","import Validators from '../validators'\n\nclass Base\n  @sharedInstances = {}\n\n  @instance: (obj, attr, opts) ->\n    validatorName = @identity\n    if not @sharedInstances[validatorName]?\n      @sharedInstances[validatorName] = new Validators[validatorName]\n    sharedInstance = @sharedInstances[validatorName]\n    sharedInstance.assignAttribs obj, attr, opts\n    return sharedInstance\n\n  constructor: ->\n    @obj = null\n    @attr = null\n    @val = null\n    @opts = null\n\n  assignAttribs: (obj, attr, opts) ->\n    @obj = obj\n    @attr = attr\n    @val = @obj[@attr]\n    @opts = opts\n\nexport default Base","import Base from './base.coffee'\nimport I18n from '../i18n'\nimport Config from '../config'\n\nclass Absence extends Base\n  @identity = \"Absence\"\n\n  constructor: -> super()\n\n  validate: ->\n    switch typeof @val\n      when 'string'\n        return if @val? and @val.length is 0\n      else\n        return if not @val?\n    this._addErrorMessage()\n\n  _addErrorMessage: ->\n    message = if @opts.message?\n      @opts.message\n    else\n      I18n[Config.locale].errors.messages.present\n    @obj.addErrorMessage message, for: @attr\n\nexport default Absence","import Base from './base.coffee'\nimport I18n from '../i18n'\nimport Config from '../config'\n\nclass Confirmation extends Base\n  @identity = \"Confirmation\"\n\n  constructor: -> super()\n\n  validate: ->\n    properVal = @obj[this._properAttr()]\n    return if @val? and properVal? and @val is properVal\n    this._addErrorMessage()\n\n  _addErrorMessage: ->\n    defaultAttrName = @attr.charAt(0).toUpperCase() + @attr.slice(1)\n    attrNames = I18n[Config.locale].attributes[@obj.getIdentity()]\n    attrName = (attrNames and attrNames[@attr]) || defaultAttrName\n    message = if @opts.message?\n      @opts.message\n    else\n      I18n[Config.locale].errors.messages.confirmation\n    message = message.replace '%{attribute}', attrName\n    @obj.addErrorMessage message, for: this._properAttr()\n\n  _properAttr: -> \"#{@attr}Confirmation\"\n\nexport default Confirmation","import Base from './base.coffee'\nimport I18n from '../i18n'\nimport Config from '../config'\n\nclass Exclusion extends Base\n  @identity = \"Exclusion\"\n\n  constructor: -> super()\n\n  validate: ->\n    set = @opts.in or @opts.within or []\n    return if set.indexOf(@val) is -1\n    this._addErrorMessage()\n\n  _addErrorMessage: ->\n    message = if @opts.message?\n      @opts.message\n    else\n      I18n[Config.locale].errors.messages.exclusion\n    @obj.addErrorMessage message, for: @attr\n\nexport default Exclusion","import Base from './base.coffee'\nimport I18n from '../i18n'\nimport Config from '../config'\n\nclass Format extends Base\n  @identity = \"Format\"\n\n  constructor: -> super()\n\n  validate: ->\n    match = @opts.with.exec @val\n    return if match?\n    this._addErrorMessage()\n\n  _addErrorMessage: ->\n    message = if @opts.message?\n      @opts.message\n    else\n      I18n[Config.locale].errors.messages.invalid\n    @obj.addErrorMessage message, for: @attr\n\nexport default Format","import Base from './base.coffee'\nimport I18n from '../i18n'\nimport Config from '../config'\n\nclass Inclusion extends Base\n  @identity = \"Inclusion\"\n\n  constructor: -> super()\n\n  validate: ->\n    set = @opts.in or @opts.within or []\n    return if set.indexOf(@val) isnt -1\n    this._addErrorMessage()\n\n  _addErrorMessage: ->\n    message = if @opts.message?\n      @opts.message\n    else\n      I18n[Config.locale].errors.messages.inclusion\n    @obj.addErrorMessage message, for: @attr\n\nexport default Inclusion","import Base from './base.coffee'\nimport I18n from '../i18n'\nimport Config from '../config'\n\nclass Length extends Base\n  @identity = \"Length\"\n\n  constructor: -> super()\n\n  validate: ->\n    return if not @val?\n    message = if this._range()[0]? and this._range()[1]? and this._range()[0] is this._range()[1] and @val.length isnt this._range()[0]\n      this._selectErrorMessage 'wrong_length', this._range()[0]\n    else if this._range()[0]? and @val.length < this._range()[0]\n      this._selectErrorMessage 'too_short', this._range()[0]\n    else if this._range()[1]? and @val.length > this._range()[1]\n      this._selectErrorMessage 'too_long', this._range()[1]\n    else\n      null\n    return if message is null\n    @obj.addErrorMessage message, for: @attr\n\n  _range: ->\n    from = @opts.minimum or @opts.is or (@opts.within? and @opts.within[0]) or null\n    to = @opts.maximum or @opts.is or (@opts.within? and @opts.within[1]) or null\n    [from, to]\n\n  _selectErrorMessage: (msg, val) ->\n    if val is 1\n      return I18n[Config.locale].errors.messages[msg].one\n    message = null\n    for variant in ['few', 'many']\n      if this._checkVariant variant, val\n        message = I18n[Config.locale].errors.messages[msg][variant]\n        break\n    if not message?\n      message = I18n[Config.locale].errors.messages[msg].other\n    if @opts.message?\n      message = @opts.message\n    if /%{count}/.exec message\n      message = message.replace '%{count}', val\n    message\n\n  _checkVariant: (variant, val) ->\n    return if not I18n[Config.locale].variants[variant]?\n    I18n[Config.locale].variants[variant] val\n\nexport default Length","import Base from './base.coffee'\nimport I18n from '../i18n'\nimport Config from '../config'\n\nclass Numericality extends Base\n  @identity = \"Numericality\"\n\n  constructor: -> super()\n\n  validate: ->\n    if isNaN @val\n      this._addNaNErrorMessage()\n    else if @opts.only_integer? and Number(@val) isnt parseInt(@val)\n      this._addIntErrorMessage()\n    else if @opts.greater_than? and Number(@val) <= @opts.greater_than\n      this._addGreatherThanErrorMessage()\n    else if @opts.greater_than_or_equal_to? and Number(@val) < @opts.greater_than_or_equal_to\n      this._addGreatherThanOrEqualToErrorMessage()\n    else if @opts.equal_to? and Number(@val) isnt @opts.equal_to\n      this._addEqualToErrorMessage()\n    else if @opts.less_than? and Number(@val) >= @opts.less_than\n      this._addLessThanErrorMessage()\n    else if @opts.less_than_or_equal_to? and Number(@val) > @opts.less_than_or_equal_to\n      this._addLessThanOrEqualToErrorMessage()\n    else if @opts.other_than? and Number(@val) is @opts.other_than\n      this._addOtherThanErrorMessage()\n    else if @opts.odd? and Number(@val) % 2 isnt 1\n      this._addOddErrorMessage()\n    else if @opts.even? and Number(@val) % 2 isnt 0\n      this._addEvenErrorMessage()\n\n  _addNaNErrorMessage: ->\n    message = if @opts.message?\n      @opts.message\n    else\n      I18n[Config.locale].errors.messages.not_a_number\n    @obj.addErrorMessage message, for: @attr\n\n  _addIntErrorMessage: ->\n    message = I18n[Config.locale].errors.messages.not_an_integer\n    @obj.addErrorMessage message, for: @attr\n\n  _addGreatherThanErrorMessage: ->\n    message = I18n[Config.locale].errors.messages.greater_than\n    message = message.replace '%{count}', @opts.greater_than\n    @obj.addErrorMessage message, for: @attr\n\n  _addGreatherThanOrEqualToErrorMessage: ->\n    message = I18n[Config.locale].errors.messages.greater_than_or_equal_to\n    message = message.replace '%{count}', @opts.greater_than_or_equal_to\n    @obj.addErrorMessage message, for: @attr\n\n  _addEqualToErrorMessage: ->\n    message = I18n[Config.locale].errors.messages.equal_to\n    message = message.replace '%{count}', @opts.equal_to\n    @obj.addErrorMessage message, for: @attr\n\n  _addLessThanErrorMessage: ->\n    message = I18n[Config.locale].errors.messages.less_than\n    message = message.replace '%{count}', @opts.less_than\n    @obj.addErrorMessage message, for: @attr\n\n  _addLessThanOrEqualToErrorMessage: ->\n    message = I18n[Config.locale].errors.messages.less_than_or_equal_to\n    message = message.replace '%{count}', @opts.less_than_or_equal_to\n    @obj.addErrorMessage message, for: @attr\n\n  _addOtherThanErrorMessage: ->\n    message = I18n[Config.locale].errors.messages.other_than\n    message = message.replace '%{count}', @opts.other_than\n    @obj.addErrorMessage message, for: @attr\n\n  _addOddErrorMessage: ->\n    message = I18n[Config.locale].errors.messages.odd\n    @obj.addErrorMessage message, for: @attr\n\n  _addEvenErrorMessage: ->\n    message = I18n[Config.locale].errors.messages.even\n    @obj.addErrorMessage message, for: @attr\n\nexport default Numericality","import Base from './base.coffee'\nimport I18n from '../i18n'\nimport Config from '../config'\n\nclass Presence extends Base\n  @identity = \"Presence\"\n\n  constructor: -> super()\n\n  validate: ->\n    switch typeof @val\n      when 'string'\n        return if @val? and @val.length > 0\n      else\n        return if @val?\n    this._addErrorMessage()\n\n  _addErrorMessage: ->\n    message = if @opts.message?\n      @opts.message\n    else\n      I18n[Config.locale].errors.messages.blank\n    @obj.addErrorMessage message, for: @attr\n\nexport default Presence","import Base from './base.coffee'\nimport Length from './length.coffee'\n\nclass Size extends Base\n  @identity = \"Size\"\n\n  constructor: -> super()\n\n  validate: -> Length.instance(@obj, @attr, @opts).validate()\n\nexport default Size","import Absence from \"./validators/absence.coffee\";\nimport Base from \"./validators/base.coffee\";\nimport Confirmation from \"./validators/confirmation.coffee\";\nimport Exclusion from \"./validators/exclusion.coffee\";\nimport Format from \"./validators/format.coffee\";\nimport Inclusion from \"./validators/inclusion.coffee\";\nimport Length from \"./validators/length.coffee\";\nimport Numericality from \"./validators/numericality.coffee\";\nimport Presence from \"./validators/presence.coffee\";\nimport Size from \"./validators/size.coffee\";\n\nconst Validators = {\n  Absence,\n  Base,\n  Confirmation,\n  Exclusion,\n  Format,\n  Inclusion,\n  Length,\n  Numericality,\n  Presence,\n  Size,\n};\n\nexport default Validators;\n","export const toURIParams = (obj) => {\n  let str = \"\";\n  Object.keys(obj).forEach((key) => {\n    if (str !== \"\") str = `${str}&`;\n    str = `${str}${key}=${encodeURIComponent(obj[key])}`;\n  });\n  return str;\n};\n\nexport default toURIParams;\n","import Validators from './validators'\nimport Config from './config'\nimport IdentityMap from './IdentityMap'\nimport { sendReq } from './helpers/connectivity';\n\nclass Base\n  @getIdentity: -> if this.identity? then this.identity else throw(\"Specify Model's identity!\")\n\n  @getRemoteName: -> if this.remoteName? then this.remoteName else this.getIdentity()\n\n  @all: (opts = {}) -> this.get \"all\", opts\n  @get: (action, opts = {}) -> this.__send \"GET\", action, opts\n  @post: (action, opts = {}) -> this.__send \"POST\", action, opts\n  @put: (action, opts = {}) -> this.__send \"PUT\", action, opts\n  @patch: (action, opts = {}) -> this.__send \"PATCH\", action, opts\n  @delete: (action, opts = {}) -> this.__send \"DELETE\", action, opts\n\n  @find: (idOrObj) ->\n    urlParams = {}\n    if typeof idOrObj is \"object\"\n      urlParams = idOrObj\n      id = idOrObj.id\n      delete urlParams.id\n    else\n      id = idOrObj\n    url = \"#{this.__getResourcesUrl(urlParams)}/#{id}\"\n    req = sendReq('GET', url, urlParams, this.__requestOpts())\n    return new Promise (resolve, reject) =>\n      req.onerror = (e) -> reject(e)\n      req.onload = (e) =>\n        if e.target.status is 404\n          resolve(null)\n          return\n        record = JSON.parse(e.target.response)\n        resolve(this.__initFromJSON(record, idOrObj.resource))\n\n  @getAttribRemoteName: (attrib) ->\n    return null if not this.attributes?\n    return null if not this.attributes[attrib]?\n    return attrib if not this.attributes[attrib].remoteName?\n    this.attributes[attrib].remoteName\n\n  @getResourcesUrlParams: (opts) ->\n    url = this.__getResourcesUrl(resource: opts.resource)\n    regexp = /:(\\w+)\\/?/\n    params = []\n    while match = regexp.exec url\n      params.push match[1]\n      url = url.replace match[0], match[1]\n    params\n\n  @__getResourcesUrl: (opts) ->\n    resourcesUrl = if not this.resources?\n      \"/#{this.getRemoteName().toLowerCase()}s\"\n    else if opts.resource\n      this.resources[opts.resource].url\n    else if Config.scope? and this.resources[Config.scope]?\n      this.resources[Config.scope].url\n    else\n      this.resources.url\n    if this.protocolWithHost?\n      resourcesUrl = \"#{this.protocolWithHost}#{resourcesUrl}\"\n    else if Config.protocolWithHost?\n      resourcesUrl = \"#{Config.protocolWithHost}#{resourcesUrl}\"\n    match = /:([a-zA-Z]+)\\/?/.exec(resourcesUrl)\n    return resourcesUrl if not match?\n    if opts[match[1]]?\n      resourcesUrl = resourcesUrl.replace(\":#{match[1]}\", opts[match[1]])\n      delete opts[match[1]]\n    else if opts.obj? and opts.obj[match[1]]?\n      resourcesUrl = resourcesUrl.replace(\":#{match[1]}\", opts.obj[match[1]])\n    return resourcesUrl\n\n  @__requestOpts: () ->\n    {\n      authorizationHeader: Config.authorizationHeader || this.authorizationHeader,\n      cookiesByCORS: if this.cookiesByCORS? then this.cookiesByCORS else Config.cookiesByCORS\n    }\n\n  @__page: (i, pageData, resp) ->\n    url = pageData.url\n    pageData.params[pageData.pageParam] = i\n    req = sendReq pageData.method, url, pageData.params, this.__requestOpts()\n    return new Promise (resolve, reject) =>\n      req.onerror = (e) -> reject e\n      req.onload = (e) =>\n        data = JSON.parse e.target.response\n        if data.constructor is Array\n          for record in data\n            obj = this.__initFromJSON record, pageData.resource\n            resp.push obj\n        else if data.resources?\n          if resp.constructor is Array\n            resp = {resources: [], count: 0}\n          for record in data.resources\n            obj = this.__initFromJSON record, pageData.resource\n            resp.resources.push obj\n          resp.count = data.count\n        else\n          for key, val of data\n            resp[key] = val\n        resolve resp\n\n  @__paginate: (opts) ->\n    pageData = {\n      method: opts.method,\n      url: opts.url,\n      params: opts.params,\n      pageParam: opts.pageParam,\n      resource: opts.resource\n    }\n    this.__page(opts.pageNum || 1, pageData, []).then (data) =>\n      total = data.count || opts.total\n      promise = Promise.resolve data\n      return promise if opts.pageNum?\n      return promise if total <= opts.perPage\n      max = parseInt total / opts.perPage\n      max += 1 if max isnt total / opts.perPage\n      return promise if max is 1\n      for i in [2..max]\n        func = (i) =>\n          promise = promise.then (_) =>\n            return this.__page i, pageData, data\n        func i\n      return promise\n\n  @__getPaginationParam: (resource) ->\n    defaultParam = 'page'\n    if resource? and this.resources? and this.resources[resource]\n      return this.resources[resource].paginate?.param || defaultParam\n    if Config.scope? and this.resources? and this.resources[Config.scope]?\n      param = this.resources[Config.scope]?.paginate?.param\n      return param || defaultParam\n    if this.resources?.paginate?.param?\n      return this.resources.paginate.param\n    defaultParam\n\n  @__getPaginationPer: (resource) ->\n    if resource? and this.resources? and this.resources[resource]\n      return this.resources[resource].paginate?.per\n    if Config.scope? and this.resources? and this.resources[Config.scope]?\n      return this.resources[Config.scope]?.paginate?.per\n    if this.resources?.paginate?.per?\n      return this.resources.paginate.per\n    null\n\n  @__send: (method, action, opts) ->\n    url = this.__getResourcesUrl opts\n    if action isnt \"all\"\n      url = \"#{url}/#{action}\"\n    data = {\n      method: method,\n      url: url,\n      params: opts,\n      resource: opts.resource,\n      perPage: this.__getPaginationPer(opts.resource),\n      pageNum: opts.page,\n      pageParam: this.__getPaginationParam(opts.resource),\n      total: opts.total || opts.count\n    }\n    this.__paginate data\n\n  @__initFromJSON: (record, resource) ->\n    obj = new this(record)\n    obj.resource = resource\n    IdentityMap.add obj\n    obj\n\n  constructor: (data = {}) ->\n    this.id = null\n    this.errors = null\n    this.resource = data.resource\n    this.__initAttributes() if this.constructor.attributes?\n    this.__assignAttributes(data) if data?\n\n  setResource: (name) -> this.resource = name\n\n  getIdentity: -> this.constructor.getIdentity()\n\n  getAttrRemoteName: (attr) ->\n    return null if not this.constructor.attributes?\n    return null if not this.constructor.attributes[attr]?\n    this.constructor.attributes[attr].remoteName or attr\n\n  getAttrName: (remoteName) ->\n    return remoteName if not this.constructor.attributes?\n    return remoteName if this.constructor.attributes[remoteName]?\n    for name, config of this.constructor.attributes\n      if config.remoteName is remoteName\n        return name\n    remoteName\n\n  getAttrType: (attrName) ->\n    return null if not this.constructor.attributes?\n    return null if not this.constructor.attributes[attrName]?\n    this.constructor.attributes[attrName].type\n\n  assignAttr: (attrName, val) ->\n    attrType = this.getAttrType attrName\n    if not val?\n      this[attrName] = null\n      return\n    switch attrType\n      when \"Date\" then val = new Date Date.parse val\n      when \"Integer\", \"Int\" then val = parseInt val\n      when \"Float\" then val = parseFloat val\n      when \"Boolean\", \"Bool\"\n        val = if typeof val is 'boolean'\n          val\n        else\n          Boolean parseInt val\n      when \"Number\" then val = Number val\n      when \"String\" then val = String val\n    this[attrName] = val\n\n  attributes: ->\n    attribs = {id: this.id}\n    return attribs if not this.constructor.attributes?\n    for name, _ of this.constructor.attributes\n      attribs[name] = this[name]\n    attribs\n\n  isValid: ->\n    return true if not this.constructor.attributes?\n    this.errors = null\n    for name, config of this.constructor.attributes\n      continue if not config.validations?\n      for validationName, validationSettings of config.validations\n        continue if this.id? and validationSettings.on is \"create\"\n        continue if !this.id? and validationSettings.on is \"update\"\n        continue if validationSettings.if? and !validationSettings.if(this)\n        validator = validationName.charAt(0).toUpperCase() + validationName.slice(1)\n        if not Validators[validator]?\n          console.warn \"\\\"#{validator}\\\" validator is not implemented!\"\n          continue\n        pvs = this.__processedValidationSettings validationSettings\n        Validators[validator].instance(this, name, pvs).validate()\n    if this.constructor.validate?\n      this[meth]() for meth in this.constructor.validate\n    !this.errors?\n\n  isInvalid: -> !this.isValid()\n\n  isEmpty: ->\n    for name, val of this.attributes()\n      return false if this[name] isnt null\n    true\n\n  addErrorMessage: (message, opts = {}) ->\n    this.errors = {} if not this.errors?\n    this.errors[opts.for] = [] if not this.errors[opts.for]?\n    this.errors[opts.for].push message\n\n  save: ->\n    httpMeth = if this.id? then \"PUT\" else \"POST\"\n    req = sendReq httpMeth, this.__getResourceUrl(), this.serialize(), this.constructor.__requestOpts()\n    return new Promise (resolve, reject) =>\n      req.onerror = (e) -> reject e\n      req.onload = (e) =>\n        data = JSON.parse e.target.response\n        if data.success\n          resolve data\n          return\n        this.__assignRemoteErrorMessages(data.errors) if data.errors?\n        resolve data\n\n  updateAttribute: (attr) ->\n    req = sendReq 'PUT', this.__getResourceUrl(), this.serialize(attr), this.constructor.__requestOpts()\n    return new Promise (resolve, reject) =>\n      req.onerror = (e) -> reject e\n      req.onload = (e) =>\n        if e.target.status >= 200 and e.target.status < 400\n          data = JSON.parse e.target.response\n          if data.success\n            resolve data\n            return\n          this.__assignRemoteErrorMessages(data.errors) if data.errors?\n          resolve data\n        else if e.target.status >= 500\n          reject e\n\n  serialize: (attr = null) ->\n    return {} if not this.constructor.attributes?\n    hash = {}\n    mainKey = this.constructor.getRemoteName().toLowerCase()\n    hash[mainKey] = {}\n    attribs = {}\n    if attr?\n      attribs[attr] = null\n    else\n      attribs = this.constructor.attributes\n    for attr, _ of attribs\n      remoteName = this.getAttrRemoteName attr\n      hash[mainKey][remoteName] = this[attr]\n    hash\n\n  reload: ->\n    findParams = {id: this.id, resource: this.resource}\n    for param in this.constructor.getResourcesUrlParams(resource: this.resource)\n      findParams[param] = this[param]\n    this.constructor.find findParams\n\n  changes: ->\n    result = {}\n    currentObj = IdentityMap.find this.getIdentity(), this.id\n    for name, val of this.attributes()\n      if val isnt currentObj[name]\n        continue if val? and val.constructor is Date and currentObj[name] - val is 0\n        result[name] = {is: currentObj[name], was: val} if val isnt currentObj[name]\n    return result\n\n  applyChanges: -> this[name] = vals.is for name, vals of this.changes()\n\n  toKey: -> \"#{this.getIdentity().toLowerCase()}_#{this.id}\"\n\n  get: (action, data = {}) -> this.__send \"GET\", action, data\n  post: (action, data = {}) -> this.__send \"POST\", action, data\n  put: (action, data = {}) -> this.__send \"PUT\", action, data\n  patch: (action, data = {}) -> this.__send \"PATCH\", action, data\n  delete: (action, data = {}) -> this.__send \"DELETE\", action, data\n\n  __send: (method, action, data) ->\n    url = this.__getResourceUrl()\n    if action?\n      url = \"#{url}/#{action}\"\n    req = sendReq method, url, data, this.constructor.__requestOpts()\n    return new Promise (resolve, reject) ->\n      req.onerror = (e) -> reject e\n      req.onload = (e) ->\n        if e.target.status >= 200 and e.target.status < 400\n          data = JSON.parse e.target.response\n          resolve data\n        else if e.target.status >= 500\n          reject e\n\n  __assignAttributes: (data) ->\n    for key, val of data\n      attrName = this.getAttrName key\n      this.assignAttr attrName, val\n\n  __initAttributes: ->\n    for name, config of this.constructor.attributes\n      this[name] = null\n\n  __assignRemoteErrorMessages: (remoteErrors) ->\n    for remoteName, errors of remoteErrors\n      attr = this.getAttrName remoteName\n      for error in errors\n        this.addErrorMessage error, for: attr\n\n  __getResourceUrl: ->\n    url = this.constructor.__getResourcesUrl resource: this.resource, obj: this\n    return url if not this.id?\n    \"#{url}/#{this.id}\"\n\n  __processedValidationSettings: (validationSettings) ->\n    res = {}\n    for confName, confVal of validationSettings\n      if typeof confVal is 'function'\n        res[confName] = confVal this\n      else\n        res[confName] = confVal\n    res\n\nexport default Base","import { toURIParams } from \"./obj\";\n\nconst filterParams = (data) => {\n  const params = {};\n  if (!data) return params;\n  const forbidden = [\"resource\", \"total\", \"count\"];\n  Object.keys(data).forEach((prop) => {\n    if (forbidden.indexOf(prop) === -1) {\n      params[prop] = data[prop];\n    }\n  });\n  return params;\n};\n\nexport const sendReq = (httpMeth, url, data, opts = {}) => {\n  const params = filterParams(data);\n  const finalURL = httpMeth === \"GET\" ? `${url}?${toURIParams(params)}` : url;\n  const meta = document.querySelector(\"meta[name='csrf-token']\");\n  const req = new XMLHttpRequest();\n  req.withCredentials = opts.cookiesByCORS === true ? true : false;\n  req.open(httpMeth, finalURL);\n  req.setRequestHeader(\"Accept\", \"application/json\");\n  req.setRequestHeader(\"Content-Type\", \"application/json\");\n  if (meta) {\n    req.setRequestHeader(\"X-CSRF-Token\", meta.content);\n  }\n  if (opts.authorizationHeader != null) {\n    req.setRequestHeader(\"Authorization\", opts.authorizationHeader);\n  }\n  req.send(JSON.stringify(params));\n  return req;\n};\n\nexport default sendReq;\n","import Base from \"./base.coffee\";\n\nBase.prototype.clone = function () {\n  return new this.constructor({ ...this.attributes() });\n};\n\nconst Models = { Base };\n\nexport default Models;\n","import Config from \"./config\";\nimport I18n from \"./i18n\";\nimport IdentityMap from \"./IdentityMap\";\nimport Models from \"./models\";\nimport Validators from \"./validators\";\n\nconst connector = {\n  IdentityMap,\n  Models,\n};\n\nexport { Config, I18n, Models, Validators, connector };\n","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Loco\"] = factory();\n\telse\n\t\troot[\"Loco\"] = factory();\n})(self, () => {\nreturn ","// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","let IdentityMap = null;\nlet Models = null;\n\nconst setIdentityMap = (IM) => IdentityMap = IM;\nconst setModels = (Ms) => Models = Ms;\n\nexport {\n  IdentityMap,\n  Models,\n  setIdentityMap,\n  setModels,\n};\n","class ObjectUtils\n  @toURIParams: (obj) ->\n    str = \"\"\n    for key, val of obj\n      if str isnt \"\"\n        str += \"&\"\n      str += (key + \"=\" + encodeURIComponent(val))\n    str\n\nexport default ObjectUtils","export default (httpMeth, url, opts) => {\n  const meta = document.querySelector(\"meta[name='csrf-token']\");\n  const req = new XMLHttpRequest();\n  req.withCredentials = opts.cookiesByCORS === true ? true : false;\n  req.open(httpMeth, url);\n  req.setRequestHeader(\"Accept\", \"application/json\");\n  if (meta) {\n    req.setRequestHeader(\"X-CSRF-Token\", meta.content);\n  }\n  if (opts.authorizationHeader != null) {\n    req.setRequestHeader(\"Authorization\", opts.authorizationHeader);\n  }\n  return req;\n};\n","const keys = [];\n\nexport default (key) => {\n  if (keys.includes(key)) return true;\n  keys.unshift(key);\n  if (keys.length > 100) keys.pop();\n  return false;\n};\n","import { Models } from './deps'\n\ngetModels = () ->\n  models = []\n  regExp = /^[A-Z]/\n  for func, _ of Models\n    continue if !regExp.exec(func) or func is \"Base\"\n    models.push func\n    for innerFunc, _ of Models[func]\n      models.push \"#{func}.#{innerFunc}\" if regExp.exec innerFunc\n  models\n\ngetModelForRemoteName = (remoteName) ->\n  for model in getModels()\n    parts = model.split \".\"\n    if parts.length is 1\n      return Models[parts[0]] if Models[parts[0]].getRemoteName() is remoteName\n    else if parts.length is 2\n      return Models[parts[0]][parts[1]] if Models[parts[0]][parts[1]].getRemoteName() is remoteName\n\nexport default getModelForRemoteName\n","import { IdentityMap } from \"../deps\";\nimport receivedAlready from \"../line/idempotencyKeys\";\nimport getModelForRemoteName from \"../getModelForRemoteName.coffee\";\n\nconst emitMessageToMembers = (\n  id,\n  name,\n  payload,\n  model,\n  identity,\n  obj = null\n) => {\n  if (obj === null) obj = new model({ id: id });\n  for (const connObj of IdentityMap.findConnected(identity, id)) {\n    connObj(name, payload);\n  }\n};\n\nconst emitMessageToCollection = (name, payload, identity) => {\n  for (const obj of IdentityMap.imap[identity][\"collection\"]) {\n    obj(`${identity} ${name}`, payload);\n  }\n};\n\nconst sendToNotificationCenter = (notificationCenter, type, payload, emit) => {\n  if (notificationCenter == null) return;\n  notificationCenter({ type, payload }, emit);\n};\n\nexport default (notification, opts = {}) => {\n  if (opts.log) console.log(notification);\n  const [className, id, name, payload] = notification;\n  if (receivedAlready(payload.loco.idempotency_key)) return false;\n  delete payload.loco;\n  const model = getModelForRemoteName(className);\n  if (model === undefined) {\n    sendToNotificationCenter(\n      opts.notificationCenter,\n      `${className} ${name}`,\n      payload,\n      opts.emit\n    );\n    return false;\n  }\n  const identity = model.getIdentity();\n  sendToNotificationCenter(\n    opts.notificationCenter,\n    `${identity} ${name}`,\n    payload,\n    opts.emit\n  );\n  if (IdentityMap.imap[identity] === undefined) return false;\n  if (IdentityMap.imap[identity][id] !== undefined)\n    emitMessageToMembers(id, name, payload, model, identity);\n  if (IdentityMap.imap[identity][\"collection\"] === undefined) return false;\n  if (IdentityMap.imap[identity][\"collection\"].length === 0) return false;\n  emitMessageToCollection(name, payload, identity);\n  return true;\n};\n","import ObjectUtils from './utils/object.coffee'\nimport openRequest from './wire/openRequest'\nimport processNotification from \"./wire/processNotification\"\n\nclass Wire\n  constructor: (opts, notificationCenter, reqOpts) ->\n    this.pollingTime = opts.pollingTime ? 3000\n    this.log = if opts.log? and opts.log then true else false\n    this.ssl = opts.ssl\n    this.location = opts.location ? 'notification-center'\n    this.size = opts.size ? 100\n    this.protocolWithHost = opts.protocolWithHost\n    this.allowedDisconnectionTime = opts.allowedDisconnectionTime ? 10\n    this.disconnectedForTooLong = opts.disconnectedForTooLong\n    this.notificationCenter = notificationCenter\n    this.reqOpts = reqOpts\n    this.syncTime = null\n    this.token = null\n    this.pollingInterval = null\n    this.disconnectedSinceTime = null\n    this.uuid = null\n    this.line = null\n\n  setDisconnectedForTooLong: (fn) -> this.disconnectedForTooLong = fn\n\n  setLine: (line) -> this.line = line\n\n  setPollingTime: (val) ->\n    this.pollingTime = val\n    return if this.line?.connected\n    this.disconnect()\n    this.connect()\n\n  connect: ->\n    this.check();\n    this.pollingInterval = setInterval =>\n      if this.line?.connected\n        this.disconnect();\n        return\n      this.check();\n    , this.pollingTime\n\n  disconnect: ->\n    window.clearInterval(this.pollingInterval);\n\n  check: ->\n    request = openRequest('GET', this._getURL() + '?' + ObjectUtils.toURIParams(this._requestParams()), this.reqOpts)\n    request.onload = (e) =>\n      if e.target.status >= 200 and e.target.status < 400\n        data = JSON.parse e.target.response\n        this.disconnectedSinceTime = null\n        this.syncTime = data[1]\n        notifications = data[0]\n        return if notifications.length is 0\n        for notification in notifications\n          processNotification(notification, { log: this.log, notificationCenter: this.notificationCenter, emit: this.line.send })\n        this.check() if notifications.length is this.size\n      else if e.target.status >= 500\n        this._handleDisconnection()\n    request.onerror = =>\n      this._handleDisconnection()\n    request.send()\n\n  fetchSyncTime: (opts = {}) ->\n    request = openRequest('GET', \"#{this._getURL()}/sync-time\", this.reqOpts)\n    request.onerror = =>\n      this[opts.after]() if opts.after?\n    request.onload = (e) =>\n      if e.target.status >= 200 and e.target.status < 400\n        data = JSON.parse e.target.response\n        this.syncTime = data.sync_time\n        this[opts.after]() if opts.after?\n      else if e.target.status >= 500\n        this[opts.after]() if opts.after?\n    request.send()\n\n  _requestParams: ->\n    params = {synced_at: this.syncTime}\n    if this.token? then params.token = this.token\n    if this.uuid? then params.uuid = this.uuid\n    params\n\n  _getURL: ->\n    [protocol, _, host] = window.location.href.split '/'\n    if this.protocolWithHost?\n      [protocol, host] = this.protocolWithHost.split '//'\n    if this.ssl?\n      protocol = if this.ssl then 'https:' else \"http:\"\n    \"#{protocol}//#{host}/#{this.location}\"\n\n  _handleDisconnection: ->\n    if not this.disconnectedSinceTime?\n      this.disconnectedSinceTime = new Date()\n    diffInSec = (new Date() - this.disconnectedSinceTime) / 1000\n    if diffInSec > this.allowedDisconnectionTime and this.disconnectedForTooLong?\n      this.disconnectedForTooLong(this.disconnectedSinceTime)\n\nexport default Wire","import processNotification from \"./wire/processNotification\";\nimport processSystemNotification from \"./line/processSystemNotification\";\n\nclass Line {\n  constructor(cable, notificationCenter, wire) {\n    this.cable = cable;\n    this.notificationCenter = notificationCenter;\n    this.wire = wire;\n    this.connected = false;\n    this.subscription = null;\n  }\n\n  connect() {\n    this.subscription = this.cable.subscriptions.create(\n      {\n        channel: \"Loco::NotificationCenterChannel\",\n      },\n      {\n        connected: () => {\n          console.log(\"WS connected\");\n          this.connected = true;\n          this.notificationCenter({ loco: \"connected\" });\n          this.pong();\n        },\n        disconnected: () => {\n          console.log(\"WS disconnected\");\n          this.connected = false;\n          if (this.wire !== null) {\n            this.wire.uuid = null;\n            this.wire.fetchSyncTime({ after: \"connect\" });\n          }\n          this.notificationCenter({ loco: \"disconnected\" });\n        },\n        rejected: () => {\n          console.log(\"WS rejected\");\n          this.notificationCenter({ loco: \"rejected\" });\n        },\n        received: (data) => {\n          if (data.loco != null) {\n            const res = processSystemNotification(data.loco, {\n              line: this,\n              wire: this.wire,\n              processNotification,\n              notificationCenter: this.notificationCenter,\n            });\n            if (res !== true) return;\n            delete data.loco;\n          }\n          if (Object.keys(data).length === 0) return;\n          this.notificationCenter(data);\n        },\n      }\n    );\n  }\n\n  send(payload) {\n    this.subscription.send(payload);\n  }\n\n  pong() {\n    setTimeout(() => this.send({ loco: { pong: true } }), 3000);\n  }\n}\n\nexport default Line;\n","import receivedAlready from \"./idempotencyKeys\";\n\nexport default (\n  data,\n  { line, wire, processNotification, notificationCenter }\n) => {\n  if (data.ping === true) {\n    line.pong();\n  }\n  if (wire == null) return;\n  if (typeof data.sync_time === \"string\") {\n    wire.syncTime = data.sync_time;\n  }\n  if (typeof data.uuid === \"string\") {\n    console.log(`uuid: ${data.uuid}`);\n    wire.uuid = data.uuid;\n  }\n  if (\n    typeof data.notification === \"object\" &&\n    data.notification.constructor.name === \"Array\"\n  ) {\n    processNotification(data.notification, {\n      log: wire.log,\n      notificationCenter,\n      emit: line.send\n    });\n  }\n  if (typeof data.idempotency_key === \"string\") {\n    if (receivedAlready(data.idempotency_key)) return false;\n  }\n  return true;\n};\n","import { IdentityMap } from './deps'\nimport Wire from './wire.coffee'\nimport Line from './line'\n\nclass Loco\n  constructor: (models) ->\n    this.models = models\n    this.wire = null\n    this.line = null\n\n  getModels: -> this.models\n\n  getLine: -> this.line?.subscription\n\n  getWire: -> this.wire\n\n  setAuthorizationHeader: (val) ->\n    for key, model of this.models\n      model.authorizationHeader = val\n\n  setDisconnectedForTooLong: (fn) ->\n    this.wire.setDisconnectedForTooLong(fn);\n\n  init: (opts) ->\n    notificationsParams = opts.notifications ? {}\n    notificationsParams.protocolWithHost = opts.protocolWithHost\n    if notificationsParams.enable isnt false\n      wireOpts = { cookiesByCORS: opts.cookiesByCORS, authorizationHeader: opts.authorizationHeader }\n      this.wire = new Wire(notificationsParams, opts.notificationCenter, wireOpts)\n      this.wire.fetchSyncTime({ after: 'connect' })\n    if opts.cable?\n      this.line = new Line(opts.cable, opts.notificationCenter, this.wire)\n      this.line.connect()\n    if this.wire?\n      this.wire.setLine(this.line);\n    this._ready =>\n      IdentityMap.clear() if IdentityMap isnt null\n      opts.postInit() if opts.postInit?\n\n  emit: (payload) -> this.line.send(payload)\n\n  _ready: (fn) ->\n    cond = if document.attachEvent then document.readyState is \"complete\" else document.readyState isnt \"loading\"\n    if cond\n      fn()\n    else\n      document.addEventListener 'DOMContentLoaded', fn\n\nexport default Loco","import Loco from \"./loco.coffee\";\nimport { setIdentityMap, setModels, Models } from \"./deps\";\n\nconst processModels = (opts) => {\n  const models = opts.models || {};\n  if (Models === null) return models;\n  for (const i of Object.keys(models)) {\n    Models[i] = models[i];\n  }\n  return models;\n};\n\nconst init = (opts) => {\n  const models = processModels(opts);\n  const loco = new Loco(models);\n  loco.init(opts);\n  return loco;\n};\n\nlet subscribe = () => { };\n\nconst connectWithModel = (connector) => {\n  setIdentityMap(connector.IdentityMap);\n  setModels(connector.Models);\n  subscribe = connector.IdentityMap.subscribe;\n};\n\nexport { init, subscribe, connectWithModel };\n","import Rails from \"@rails/ujs\";\n\nRails.start();\n","import { Config } from \"loco-js-model\";\n\nclass Base {\n  setScope(name) {\n    Config.scope = name;\n  }\n}\n\nexport default Base;\n","/*\n * action types\n */\n\nexport const ADD_ARTICLES = \"ADD_ARTICLES\";\nexport const PREPEND_ARTICLES = \"PREPEND_ARTICLES\";\nexport const REMOVE_ARTICLE = \"REMOVE_ARTICLE\";\nexport const SET_ARTICLES = \"SET_ARTICLES\";\nexport const UPDATE_ARTICLE = \"UPDATE_ARTICLE\";\n\nexport const ADD_COMMENTS = \"ADD_COMMENTS\";\nexport const REMOVE_COMMENT = \"REMOVE_COMMENT\";\nexport const SET_COMMENTS = \"SET_COMMENTS\";\nexport const UPDATE_COMMENT = \"UPDATE_COMMENT\";\n\nexport const PREPEND_USERS = \"PREPEND_USERS\";\nexport const SET_USERS = \"SET_USERS\";\n\n/*\n * action creators\n */\n\nexport function addArticles(articles) {\n  return { type: ADD_ARTICLES, articles };\n}\n\nexport function prependArticles(articles) {\n  return { type: PREPEND_ARTICLES, articles };\n}\n\nexport function removeArticle(id) {\n  return { type: REMOVE_ARTICLE, id };\n}\n\nexport function setArticles(articles) {\n  return { type: SET_ARTICLES, articles };\n}\n\nexport function updateArticle(article, index) {\n  return { type: UPDATE_ARTICLE, article, index };\n}\n\nexport function addComments(comments, articleId) {\n  return { type: ADD_COMMENTS, articleId, comments };\n}\n\nexport function removeComment(id, articleId) {\n  return { type: REMOVE_COMMENT, id, articleId };\n}\n\nexport function setComments(comments, articleId) {\n  return { type: SET_COMMENTS, comments, articleId };\n}\n\nexport function updateComment(comment, articleId, index) {\n  return { type: UPDATE_COMMENT, comment, articleId, index };\n}\n\nexport function prependUsers(users) {\n  return { type: PREPEND_USERS, users };\n}\n\nexport function setUsers(users) {\n  return { type: PREPEND_USERS, users };\n}\n","import produce from \"immer\";\n\nimport {\n  ADD_ARTICLES,\n  PREPEND_ARTICLES,\n  REMOVE_ARTICLE,\n  SET_ARTICLES,\n  UPDATE_ARTICLE,\n} from \"actions\";\n\nexport default produce((draft = [], action) => {\n  switch (action.type) {\n    case ADD_ARTICLES:\n      return draft.concat(action.articles);\n    case PREPEND_ARTICLES:\n      return action.articles.concat(draft);\n    case REMOVE_ARTICLE:\n      return draft.filter((article) => article.id !== action.id);\n    case SET_ARTICLES:\n      return action.articles;\n    case UPDATE_ARTICLE:\n      draft[action.index] = action.article;\n      break;\n    default:\n      return draft;\n  }\n});\n","import produce from \"immer\";\n\nimport {\n  ADD_COMMENTS,\n  REMOVE_COMMENT,\n  SET_COMMENTS,\n  UPDATE_COMMENT,\n} from \"actions\";\n\nexport default produce((draft = {}, action) => {\n  switch (action.type) {\n    case ADD_COMMENTS:\n      if (draft[action.articleId] === undefined) {\n        draft[action.articleId] = [];\n      }\n      draft[action.articleId] = draft[action.articleId].concat(action.comments);\n      break;\n    case REMOVE_COMMENT:\n      if (draft[action.articleId] == null) return draft;\n      draft[action.articleId] = draft[action.articleId].filter(\n        (comment) => comment.id !== action.id\n      );\n      break;\n    case SET_COMMENTS:\n      draft[action.articleId] = action.comments;\n      break;\n    case UPDATE_COMMENT: {\n      const articleId = action.articleId;\n      let index = action.index;\n      if (!index) {\n        const comment = draft[articleId].find(\n          (c) => c.id === action.comment.id\n        );\n        index = draft[articleId].indexOf(comment);\n      }\n      draft[articleId][index] = action.comment;\n      break;\n    }\n    default:\n      return draft;\n  }\n});\n","import produce from \"immer\";\n\nimport { PREPEND_USERS, SET_USERS } from \"actions\";\n\nexport default produce((draft = [], action) => {\n  switch (action.type) {\n    case SET_USERS:\n      return action.users;\n    case PREPEND_USERS:\n      return action.users.concat(draft);\n    default:\n      return draft;\n  }\n});\n","import { combineReducers } from \"redux\";\n\nimport articles from \"./articles\";\nimport comments from \"./comments\";\nimport users from \"./users\";\n\nexport default combineReducers({\n  articles,\n  comments,\n  users,\n});\n","import { createStore } from \"redux\";\n\nimport reducer from \"reducers\";\n\nconst store = createStore(reducer);\n\nexport default store;\n","import { Models } from \"loco-js-model\";\n\nclass Article extends Models.Base {\n  static identity = \"Article\";\n\n  static resources = {\n    url: \"/user/articles\",\n    paginate: { per: 5 },\n    main: {\n      url: \"/articles\",\n      paginate: { per: 3 },\n    },\n    admin: {\n      url: \"/admin/articles\",\n      paginate: { per: 4 },\n    },\n  };\n\n  static attributes = {\n    title: {\n      validations: {\n        presence: true,\n        length: { within: [3, 255] },\n      },\n    },\n    content: {\n      validations: {\n        presence: true,\n        length: { minimum: 100 },\n      },\n      remoteName: \"text\",\n    },\n    createdAt: {\n      type: \"Date\",\n      remoteName: \"created_at\",\n    },\n    updatedAt: {\n      type: \"Date\",\n      remoteName: \"updated_at\",\n    },\n    commentsCount: {\n      type: \"Int\",\n      remoteName: \"comments_count\",\n    },\n    publishedAt: {\n      type: \"Date\",\n      remoteName: \"published_at\",\n    },\n    published: {},\n    adminReview: {\n      remoteName: \"admin_review\",\n    },\n    adminRate: {\n      type: \"Int\",\n      remoteName: \"admin_rate\",\n    },\n    categoryId: {\n      type: \"Int\",\n      remoteName: \"category_id\",\n    },\n    adminReviewStartedAt: {\n      remoteName: \"admin_review_started_at\",\n    },\n  };\n\n  static validate = [\"vulgarityLevel\"];\n\n  constructor(data) {\n    super(data);\n    this.published = this.publishedAt == null ? false : true;\n  }\n\n  vulgarityLevel() {\n    if (\n      (this.title != null && /fuck/i.exec(this.title)) ||\n      (this.content != null && /fuck/i.exec(this.content))\n    )\n      this.addErrorMessage(\"Article contains strong language.\", {\n        for: \"base\",\n      });\n  }\n\n  setDefaultValuesForAdminReview() {\n    this.adminRate = this.adminRate == null ? 3 : this.adminRate;\n    this.categoryId = this.categoryId == null ? 6 : this.categoryId;\n    this.adminReviewStartedAt = Date.now();\n  }\n}\n\nexport default Article;\n","import { Models } from \"loco-js-model\";\n\nclass Comment extends Models.Base {\n  static identity = \"Article.Comment\";\n\n  static remoteName = \"Comment\";\n\n  static resources = {\n    url: \"/user/articles/:articleId/comments\",\n    paginate: { per: 10 },\n    main: {\n      url: \"/articles/:articleId/comments\",\n      paginate: { per: 5, param: \"page-num\" },\n    },\n    admin: {\n      url: \"/admin/articles/:articleId/comments\",\n      paginate: { per: 5 },\n    },\n  };\n\n  static attributes = {\n    author: {\n      validations: {\n        presence: true,\n      },\n    },\n    text: {\n      validations: {\n        presence: true,\n        vulgarity: true,\n      },\n    },\n    articleId: {\n      type: \"Int\",\n      validations: {\n        presence: true,\n      },\n      remoteName: \"article_id\",\n    },\n    createdAt: {\n      type: \"Date\",\n      remoteName: \"created_at\",\n    },\n    updatedAt: {\n      type: \"Date\",\n      remoteName: \"updated_at\",\n    },\n    emotion: {\n      type: \"Int\",\n    },\n    pinned: {\n      type: \"Boolean\",\n    },\n    adminRate: {\n      type: \"Int\",\n      remoteName: \"admin_rate\",\n    },\n    approved: {\n      type: \"Boolean\",\n    },\n  };\n\n  constructor(data) {\n    super(data);\n  }\n}\n\nexport default Comment;\n","import { Config, I18n } from \"loco-js-model\";\n\nclass Date {\n  constructor(date, locale = Config.locale) {\n    this.date = date;\n    this.skope = I18n[locale].date;\n  }\n\n  toString(format = \"default\") {\n    const skope = this.skope.formats;\n    switch (format) {\n      case \"default\":\n        return this.strftime(skope.default);\n      case \"short\":\n        return this.strftime(skope.short);\n      case \"long\":\n        return this.strftime(skope.long);\n      default:\n        console.log(\"Services.Date#toString: unknown format.\");\n    }\n  }\n\n  strftime(str) {\n    str = str.replace(\"%Y\", this.date.getFullYear());\n    str = str.replace(\"%y\", this.date.getFullYear().toString().substr(-2, 2));\n    let month = this.date.getMonth() + 1;\n    month = month >= 10 ? month : `0${month}`;\n    str = str.replace(\"%m\", month);\n    str = str.replace(\"%b\", this.skope.abbr_month_names[this.date.getMonth()]);\n    str = str.replace(\"%B\", this.skope.month_names[this.date.getMonth()]);\n    str = str.replace(\n      \"%d\",\n      this.date.getDate() >= 10\n        ? this.date.getDate()\n        : `0${this.date.getDate()}`\n    );\n    str = str.replace(\n      \"%H\",\n      this.date.getHours() >= 10\n        ? this.date.getHours()\n        : `0${this.date.getHours()}`\n    );\n    str = str.replace(\n      \"%M\",\n      this.date.getMinutes() >= 10\n        ? this.date.getMinutes()\n        : `0${this.date.getMinutes()}`\n    );\n    return str.replace(\n      \"%S\",\n      this.date.getSeconds() >= 10\n        ? this.date.getSeconds()\n        : `0${this.date.getSeconds()}`\n    );\n  }\n}\n\nexport default Date;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport DateService from \"services/Date\";\n\nimport CommentModel from \"models/article/Comment\";\n\nfunction Comment({ comment }) {\n  const createdAt = new DateService(comment.createdAt).strftime(\"%d %b %y\");\n\n  return (\n    <p id={`comment_${comment.id}`}>\n      <b>{comment.author}</b> on <i>{createdAt}</i> (\n      <a\n        href={`/admin/articles/${comment.articleId}/comments/${comment.id}/edit`}\n      >\n        edit\n      </a>\n      )\n      <br />\n      {comment.text}\n    </p>\n  );\n}\n\nComment.propTypes = {\n  comment: PropTypes.instanceOf(CommentModel).isRequired,\n};\n\nexport default Comment;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport CommentModel from \"models/article/Comment\";\nimport Comment from \"components/admin/comment\";\n\nfunction CommentList({ comments }) {\n  if (comments.length === 0) {\n    return <p>No comments</p>;\n  }\n  return (\n    <>\n      {comments.map((comment) => (\n        <Comment comment={comment} key={comment.id} />\n      ))}\n    </>\n  );\n}\n\nCommentList.propTypes = {\n  comments: PropTypes.arrayOf(PropTypes.instanceOf(CommentModel)).isRequired,\n};\n\nexport default CommentList;\n","import React from \"react\";\nimport { render as renderElement } from \"react-dom\";\nimport { subscribe } from \"loco-js\";\n\nimport CommentList from \"components/admin/CommentList\";\n\nconst renderArticle = (article) => {\n  document.getElementById(\"article_author\").textContent = article.author;\n  document.getElementById(\"article_title\").textContent = article.title;\n  document.getElementById(\"article_text\").textContent = article.content;\n};\n\nconst createReceivedMessage = (article) => {\n  return async function (type) {\n    switch (type) {\n      case \"updated\": {\n        const reloadedArticle = await article.reload();\n        renderArticle(reloadedArticle);\n      }\n    }\n  };\n};\n\nexport default {\n  render: (article) => {\n    subscribe({ to: article, with: createReceivedMessage(article) });\n    renderArticle(article);\n  },\n\n  renderComments: (comments) => {\n    renderElement(\n      <CommentList comments={comments} />,\n      document.getElementById(\"comments\")\n    );\n  },\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport DateService from \"services/Date\";\n\nimport ArticleModel from \"models/Article\";\n\nfunction Article({ article }) {\n  const date = new DateService(article.publishedAt).toString(\"short\");\n\n  return (\n    <article id={`article_${article.id}`}>\n      <h2>{article.title}</h2>\n      <p>\n        <i>\n          {article.author} wrote this on {date} /{\" \"}\n          <span className=\"comments_quantity\">\n            {article.commentsCount} comment\n            {article.commentsCount === 1 ? \"\" : \"s\"}\n          </span>\n        </i>\n      </p>\n      <p>{article.content}</p>\n      <p>\n        <a href={`/admin/articles/${article.id}/edit`}>Review</a>\n      </p>\n    </article>\n  );\n}\n\nArticle.propTypes = {\n  article: PropTypes.instanceOf(ArticleModel).isRequired,\n};\n\nexport default Article;\n","import React, { useEffect, useState } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport store from \"store\";\nimport Article from \"components/admin/Article\";\nimport ArticleModel from \"models/Article\";\n\nfunction ArticleList(props) {\n  const [articles, setArticles] = useState(props.articles);\n\n  useEffect(() => {\n    const unsubscribe = store.subscribe(() =>\n      setArticles(store.getState().articles)\n    );\n\n    return () => {\n      unsubscribe();\n    };\n  }, []);\n\n  const list = articles.map((article) => (\n    <Article key={article.id} article={article} />\n  ));\n\n  return <>{list}</>;\n}\n\nArticleList.propTypes = {\n  articles: PropTypes.arrayOf(PropTypes.instanceOf(ArticleModel)).isRequired,\n};\n\nexport default ArticleList;\n","import React from \"react\";\nimport { render } from \"react-dom\";\nimport { helpers } from \"loco-js-core\";\n\nimport { setArticles } from \"actions\";\nimport store from \"store\";\n\nimport Article from \"models/Article\";\nimport Comment from \"models/article/Comment\";\nimport EditView from \"views/admin/articles/Edit\";\nimport renderForm from \"views/admin/articles/Form\";\n\nimport ArticleList from \"containers/admin/ArticleList\";\n\nconst renderArticle = async () => {\n  const article = await Article.find(helpers.params.id);\n  EditView.render(article);\n  renderForm(article);\n};\n\nconst renderComment = async () => {\n  const resp = await Comment.all({ articleId: helpers.params.id });\n  EditView.renderComments(resp.resources);\n};\n\nclass Articles {\n  async published() {\n    const resp = await Article.get(\"published\");\n    store.dispatch(setArticles(resp.resources));\n    render(\n      <ArticleList articles={resp.resources} />,\n      document.getElementById(\"articles\")\n    );\n  }\n\n  async edit() {\n    renderArticle();\n    renderComment();\n  }\n}\n\nexport default Articles;\n","import { UI } from \"loco-js-ui\";\n\nexport default (article) => {\n  article.setDefaultValuesForAdminReview();\n  const form = new UI.Form({ id: \"edit_article_form\", for: article });\n  form.render();\n};\n","import { UI } from \"loco-js-ui\";\n\nconst signedIn = () => (window.location.href = \"/admin\");\n\nexport default () => {\n  const form = new UI.Form({\n    id: \"sign_in_admin\",\n    callbackSuccess: signedIn,\n  });\n  form.render();\n};\n","import { Models } from \"loco-js-model\";\n\nclass User extends Models.Base {\n  static identity = \"User\";\n\n  static resources = {\n    url: \"/users\",\n    admin: {\n      url: \"/admin/users\",\n    },\n  };\n\n  static paginate = { per: 10 };\n\n  static attributes = {\n    email: {\n      validations: {\n        presence: true,\n        format: { with: /^([^@\\s]+)@((?:[-a-z0-9]+\\.)+[a-z]{2,})$/i },\n      },\n    },\n    username: {\n      validations: {\n        presence: true,\n        format: { with: /^[a-z][a-z0-9_-]*$/i },\n      },\n    },\n    password: {\n      validations: {\n        presence: { on: \"create\" },\n        confirmation: true,\n      },\n    },\n    passwordConfirmation: {\n      remoteName: \"password_confirmation\",\n    },\n    confirmed: {},\n    createdAt: {\n      type: \"Date\",\n      remoteName: \"created_at\",\n    },\n    updatedAt: {\n      type: \"Date\",\n      remoteName: \"updated_at\",\n    },\n  };\n\n  constructor(data) {\n    super(data);\n  }\n}\n\nexport default User;\n","export const createFinder = (resourceType) => {\n  return function (state, id, opts = {}) {\n    let resources = state[resourceType];\n    if (opts.parentId) resources = resources[opts.parentId];\n    if (resources === undefined) return [null, null];\n    const resource = resources.find((a) => a.id === id);\n    if (!resource) return [null, null];\n    const index = resources.indexOf(resource);\n    return [resource, index];\n  };\n};\n","import { createFinder } from \"./index\";\n\nexport const findArticle = createFinder(\"articles\");\n\nexport const findComment = createFinder(\"comments\");\n","export const commentsForArticle = (state, articleId) => {\n  return state.comments[articleId];\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport DateService from \"services/Date\";\n\nimport CommentModel from \"models/article/Comment\";\n\nfunction Comment({ comment }) {\n  const createdAt = new DateService(comment.createdAt).strftime(\"%d %b %y\");\n\n  return (\n    <p id={`comment_${comment.id}`}>\n      <b>{comment.author}</b> on <i>{createdAt}</i> wrote:\n      <br />\n      {comment.text}\n    </p>\n  );\n}\n\nComment.propTypes = {\n  comment: PropTypes.instanceOf(CommentModel).isRequired,\n};\n\nexport default Comment;\n","import React, { useEffect, useState } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport store from \"store\";\nimport { commentsForArticle } from \"selectors/comments\";\nimport Comment from \"components/main/Comment\";\nimport CommentModel from \"models/article/Comment\";\n\nfunction CommentList(props) {\n  const articleId = props.articleId;\n  const [comments, setComments] = useState(props.comments);\n\n  useEffect(() => {\n    const unsubscribe = store.subscribe(() => {\n      setComments(commentsForArticle(store.getState(), articleId));\n    });\n\n    return () => {\n      unsubscribe();\n    };\n  }, []);\n\n  const list = comments.map((comment) => (\n    <Comment key={comment.id} comment={comment} />\n  ));\n\n  if (comments.length === 0) {\n    return <p id=\"no_comments\">No comments.</p>;\n  }\n\n  return <>{list}</>;\n}\n\nCommentList.propTypes = {\n  articleId: PropTypes.number.isRequired,\n  comments: PropTypes.arrayOf(PropTypes.instanceOf(CommentModel)).isRequired,\n};\n\nexport default CommentList;\n","import React, { useEffect, useState } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport store from \"store\";\nimport { commentsForArticle } from \"selectors/comments\";\nimport CommentModel from \"models/article/Comment\";\n\nfunction CommentsNumber(props) {\n  const [comments, setComments] = useState(props.comments);\n\n  useEffect(() => {\n    const unsubscribe = store.subscribe(() => {\n      setComments(commentsForArticle(store.getState(), props.articleId));\n    });\n\n    return () => {\n      unsubscribe();\n    };\n  }, []);\n\n  return <>{`${comments.length} comment${comments.length === 1 ? \"\" : \"s\"}`}</>;\n}\n\nCommentsNumber.propTypes = {\n  articleId: PropTypes.number.isRequired,\n  comments: PropTypes.arrayOf(PropTypes.instanceOf(CommentModel)).isRequired,\n};\n\nexport default CommentsNumber;\n","export const simpleFormat = (str) => {\n  str = str.replace(/\\r\\n?/, \"\\n\");\n  str = str.trim();\n  if (str.length > 0) {\n    str = str.replace(/\\n\\n+/g, \"</p><p>\");\n    str = str.replace(/\\n/g, \"<br>\");\n    str = \"<p>\" + str + \"</p>\";\n  }\n  return str;\n};\n","const resetNode = (node) => {\n  node.classList.remove(\"notice\");\n  node.classList.remove(\"alert\");\n  node.classList.remove(\"warning\");\n};\n\nconst setMsg = (opts, msg, node) => {\n  if (opts[msg] == null) return;\n  node.classList.add(msg);\n  document.querySelector(\".flash p\").textContent = opts[msg];\n};\n\nconst hideAfterTime = (time = 4000) => {\n  setTimeout(() => {\n    document.querySelector(\".flash\").classList.add(\"none\"); // slideUp initially\n  }, time);\n};\n\nexport default (opts = {}) => {\n  const { hide } = opts;\n  const node = document.querySelector(\".flash\");\n  resetNode(node);\n  setMsg(opts, \"notice\", node);\n  setMsg(opts, \"alert\", node);\n  setMsg(opts, \"warning\", node);\n  node.classList.remove(\"none\"); // slideDown initially\n  if (hide) hideAfterTime();\n};\n","import { subscribe } from \"loco-js\";\nimport { simpleFormat } from \"helpers/text\";\nimport DateService from \"services/Date\";\nimport { UI } from \"loco-js-ui\";\n\nimport renderFlash from \"views/shared/Flash\";\n\nconst createArticleReceivedMessage = (article) => {\n  return async function (type) {\n    switch (type) {\n      case \"updating\": {\n        const txt =\n          \"Author is currently editing article. Be aware of possible changes.\";\n        renderFlash({ warning: txt });\n        break;\n      }\n      case \"updated\": {\n        const reloadedArticle = await article.reload();\n        renderArticle(reloadedArticle, true);\n      }\n    }\n  };\n};\n\nconst renderArticle = (article, update = false) => {\n  if (update === false) {\n    subscribe({ to: article, with: createArticleReceivedMessage(article) });\n  }\n  document.getElementById(\"title\").textContent = article.title;\n  document.getElementById(\"author\").textContent = article.author;\n  const dateService = new DateService(article.publishedAt);\n  document.getElementById(\"pub_date\").textContent =\n    dateService.toString(\"short\");\n  const textEl = document.getElementById(\"text\");\n  textEl.innerHTML = \"\";\n  const text = simpleFormat(article.content);\n  textEl.insertAdjacentHTML(\"beforeend\", text);\n};\n\nconst renderForm = (comment) => {\n  const form = new UI.Form({\n    for: comment,\n    initObj: true,\n    id: \"new_comment\",\n  });\n  form.render();\n};\n\nexport default {\n  renderArticle,\n  renderForm,\n};\n","import React, { useState } from \"react\";\n\nimport Article from \"models/Article\";\n\nimport { addArticles } from \"actions\";\nimport store from \"store\";\n\nexport default function LoadMoreLink() {\n  const [page, setPage] = useState(1);\n  const [noMorePosts, setNoMorePosts] = useState(false);\n\n  async function handleClick(e) {\n    e.preventDefault();\n    const currentPage = page + 1;\n    setPage(currentPage);\n    let resp = null;\n    try {\n      resp = await Article.get(\"all\", { page: currentPage });\n    } catch (e) {\n      alert(`Invalid URL: ${e}`);\n      return;\n    }\n    if (resp.resources.length > 0) {\n      store.dispatch(addArticles(resp.resources));\n    } else {\n      setNoMorePosts(true);\n    }\n  }\n\n  function output() {\n    if (noMorePosts) return <span>No more posts.</span>;\n    else\n      return (\n        <a href=\"#\" id=\"load_more\" onClick={handleClick}>\n          Load more\n        </a>\n      );\n  }\n\n  return output();\n}\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport DateService from \"services/Date\";\n\nimport ArticleModel from \"models/Article\";\n\nfunction Article({ article }) {\n  const date = new DateService(article.publishedAt).toString(\"short\");\n\n  return (\n    <article id={`article_${article.id}`}>\n      <h2>{article.title}</h2>\n      <p>\n        <i>\n          {article.author} wrote this on {date} /{\" \"}\n          <a\n            href={`/articles/${article.id}#comments`}\n            className=\"comments_quantity\"\n          >\n            {article.commentsCount} comment\n            {article.commentsCount === 1 ? \"\" : \"s\"}\n          </a>\n        </i>\n      </p>\n      <p>{article.content}</p>\n      <p>\n        <a href={`/articles/${article.id}`}>Continued</a>\n      </p>\n    </article>\n  );\n}\n\nArticle.propTypes = {\n  article: PropTypes.instanceOf(ArticleModel).isRequired,\n};\n\nexport default Article;\n","import React, { useEffect, useState } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport store from \"store\";\nimport Article from \"components/main/Article\";\nimport ArticleModel from \"models/Article\";\n\nfunction ArticleList(props) {\n  const [articles, setArticles] = useState(props.articles);\n\n  useEffect(() => {\n    const unsubscribe = store.subscribe(() =>\n      setArticles(store.getState().articles)\n    );\n\n    return () => {\n      unsubscribe();\n    };\n  }, []);\n\n  const list = articles.map((article) => (\n    <Article key={article.id} article={article} />\n  ));\n\n  return <>{list}</>;\n}\n\nArticleList.propTypes = {\n  articles: PropTypes.arrayOf(PropTypes.instanceOf(ArticleModel)).isRequired,\n};\n\nexport default ArticleList;\n","import { subscribe } from \"loco-js\";\nimport { UI } from \"loco-js-ui\";\n\nimport User from \"models/User\";\nimport renderFlash from \"views/shared/Flash\";\n\nconst confirming = () => {\n  document.getElementById(\"verification_info\").textContent =\n    document.getElementById(\"verification_progress\").textContent;\n};\n\nconst confirmed = () => {\n  window.location.href = \"/user/sessions/new?event=confirmed\";\n};\n\nconst receivedMessage = (type) => {\n  switch (type) {\n    case \"confirming\":\n      confirming();\n      break;\n    case \"confirmed\":\n      confirmed();\n  }\n};\n\nconst created = (data) => {\n  subscribe({ to: new User({ id: data.id }), with: receivedMessage });\n  document.querySelector(\"form\").style.display = \"none\";\n  document.getElementById(\"sign_in_paragraph\").classList.remove(\"none\");\n  document.getElementById(\"verification_info\").classList.remove(\"none\");\n  renderFlash({ notice: data.notice });\n};\n\nexport default () => {\n  const form = new UI.Form({\n    for: new User(),\n    callbackSuccess: created,\n  });\n  form.render();\n};\n","import Base from \"./Base\";\nimport Articles from \"./main/Articles\";\nimport Pages from \"./main/Pages\";\nimport Users from \"./main/Users\";\n\nclass Main extends Base {\n  initialize() {\n    this.setScope(\"main\");\n  }\n}\n\nMain.Articles = Articles;\nMain.Pages = Pages;\nMain.Users = Users;\n\nexport default Main;\n","import React from \"react\";\nimport { render } from \"react-dom\";\nimport { helpers } from \"loco-js-core\";\n\nimport { setArticles, setComments } from \"actions\";\nimport store from \"store\";\n\nimport CommentList from \"containers/main/articles/CommentList\";\nimport CommentsNumber from \"containers/main/articles/CommentsNumber\";\n\nimport Article from \"models/Article\";\nimport Comment from \"models/article/Comment\";\nimport ShowView from \"views/main/articles/Show\";\n\nconst renderArticle = async () => {\n  const article = await Article.find(helpers.params.id);\n  store.dispatch(setArticles([article]));\n  ShowView.renderArticle(article);\n};\n\nconst renderComments = async () => {\n  const res = await Comment.get(\"count\", { articleId: helpers.params.id });\n  const comments = await Comment.all({\n    articleId: helpers.params.id,\n    total: res.total,\n  });\n  store.dispatch(setComments(comments, helpers.params.id));\n  render(\n    <CommentList articleId={helpers.params.id} comments={comments} />,\n    document.getElementById(\"comments\")\n  );\n  render(\n    <CommentsNumber articleId={helpers.params.id} comments={comments} />,\n    document.getElementById(\"comments_count\")\n  );\n};\n\nclass Articles {\n  async show() {\n    const newComment = new Comment({ articleId: helpers.params.id });\n    ShowView.renderForm(newComment);\n    renderArticle();\n    renderComments();\n  }\n}\n\nexport default Articles;\n","import React from \"react\";\nimport { render as renderElement } from \"react-dom\";\n\nimport { setArticles } from \"actions\";\nimport store from \"store\";\n\nimport Article from \"models/Article\";\nimport LoadMoreLink from \"containers/main/pages/LoadMoreLink\";\nimport ArticleList from \"containers/main/pages/ArticleList\";\n\nclass Pages {\n  async index() {\n    renderElement(\n      <LoadMoreLink />,\n      document.getElementById(\"load_more_wrapper\")\n    );\n    const resp = await Article.get(\"all\", { page: 1 });\n    store.dispatch(setArticles(resp.resources));\n    renderElement(\n      <ArticleList articles={resp.resources} />,\n      document.getElementById(\"articles\")\n    );\n  }\n}\n\nexport default Pages;\n","import renderUserRegistrationForm from \"views/main/users/UserRegistrationForm\";\n\nclass Users {\n  new() {\n    renderUserRegistrationForm();\n  }\n}\n\nexport default Users;\n","import { Models } from \"loco-js-model\";\n\nclass Member extends Models.Base {\n  static identity = \"Room.Member\";\n\n  static resources = {\n    url: \"/user/rooms/:roomId/members\",\n    paginate: { per: 100 },\n  };\n\n  constructor(data) {\n    super(data);\n  }\n}\n\nexport default Member;\n","import { Models } from \"loco-js-model\";\n\nclass Room extends Models.Base {\n  static identity = \"Room\";\n\n  constructor(data) {\n    super(data);\n  }\n}\n\nexport default Room;\n","import { subscribe } from \"loco-js\";\n\nimport Room from \"models/Room\";\n\nconst memberJoined = (roomId) => {\n  const node = membersNode(roomId);\n  node.textContent = parseInt(node.text()) + 1;\n};\n\nconst memberLeft = (roomId) => {\n  const node = membersNode(roomId);\n  node.textContent = parseInt(node.text()) - 1;\n};\n\nconst membersNode = (roomId) => {\n  document.querySelector(`#room_${roomId} td.members`);\n};\n\nconst renderRoom = (room) => {\n  `\n  <tr id='room_${room.id}'>\n    <td>${room.name}</td>\n    <td class='members'>0</td>\n    <td>\n      <a rel='nofollow' data-method='patch' href='/user/rooms/${room.id}/join'>Join</a> |\n      <a data-confirm='R U sure?' rel='nofollow' data-method='delete'\n        href='/user/rooms/${room.id}'>Destroy</a>\n    </td>\n  </tr>\n  `;\n};\n\nconst receivedMessage = (type, data) => {\n  switch (type) {\n    case \"Room member_joined\":\n      memberJoined(data.room_id);\n      break;\n    case \"Room member_left\":\n      memberLeft(data.room_id);\n      break;\n    case \"Room created\": {\n      document\n        .getElementById(\"rooms_list\")\n        .insertAdjacentHTML(\"beforeend\", renderRoom(data.room));\n      break;\n    }\n    case \"Room destroyed\": {\n      const roomNode = document.getElementById(`room_${data.room_id}`);\n      roomNode.parentNode.removeChild(roomNode);\n    }\n  }\n};\n\nexport default function () {\n  subscribe({ to: Room, with: receivedMessage });\n}\n","import { subscribe } from \"loco-js\";\n\nimport loco from \"initializers/loco\";\nimport Room from \"models/Room\";\n\nconst memberJoined = (member) => {\n  const li = `<li id='user_${member.id}'>${member.username}</li>`;\n  document.getElementById(\"members\").insertAdjacentHTML(\"beforeend\", li);\n};\n\nconst memberLeft = (member) => {\n  const node = document.querySelector(`#members li#user_${member.id}`);\n  node.parentNode.removeChild(node);\n};\n\nconst createReceivedMessage = (roomId) => {\n  return function (type, data) {\n    switch (type) {\n      case \"Room member_joined\":\n        if (data.room_id !== roomId) return;\n        memberJoined(data.member);\n        break;\n      case \"Room member_left\":\n        if (data.room_id !== roomId) return;\n        memberLeft(data.member);\n    }\n  };\n};\n\nconst handleSendingMessage = (roomId) => {\n  document\n    .querySelector(\"[data-behavior~=room-speaker]\")\n    .addEventListener(\"keypress\", (event) => {\n      if (event.keyCode !== 13) return;\n      event.preventDefault();\n      loco.emit({\n        type: \"NEW_MESSAGE\",\n        txt: event.target.value,\n        room_id: roomId,\n      });\n      event.target.value = \"\";\n    });\n};\n\nexport default {\n  render: (roomId) => {\n    subscribe({ to: Room, with: createReceivedMessage(roomId) });\n    handleSendingMessage(roomId);\n  },\n\n  renderMembers: (members) => {\n    for (const member of members) {\n      memberJoined(member);\n    }\n  },\n\n  receivedMessage: (message, author) => {\n    const renderedMessage = `<p class=\"msg\"><b>${author}</b>: ${message}</p>`;\n    document\n      .getElementById(\"messages\")\n      .insertAdjacentHTML(\"beforeend\", renderedMessage);\n  },\n};\n","import { helpers } from \"loco-js-core\";\n\nimport Member from \"models/room/Member\";\n\nimport List from \"views/user/rooms/List\";\nimport Show from \"views/user/rooms/Show\";\n\nclass Rooms {\n  constructor() {\n    this.callbacks = {};\n  }\n\n  index() {\n    List();\n  }\n\n  async show() {\n    this.callbacks[\"receivedMessage\"] = Show.receivedMessage;\n    Show.render(helpers.params.id);\n    const resp = await Member.all({ roomId: helpers.params.id });\n    Show.renderMembers(resp.resources);\n  }\n}\n\nexport default Rooms;\n","import { subscribe } from \"loco-js\";\n\nimport renderFlash from \"views/shared/Flash\";\n\nconst updateEditLink = (id) => {\n  const href = document.getElementById(\"edit_link\").getAttribute(\"href\");\n  document\n    .getElementById(\"edit_link\")\n    .setAttribute(\"href\", href.replace(\"/0/\", `/${id}/`));\n};\n\nconst handlePublishing = (article) => {\n  document\n    .getElementById(\"publish_article\")\n    .addEventListener(\"click\", async (e) => {\n      e.preventDefault();\n      e.target.textContent = \"Publishing...\";\n      try {\n        await article.put(\"publish\");\n        document.getElementById(\"publish_article\").outerHTML =\n          \"<span>Published!</span>\";\n      } catch (err) {\n        document.getElementById(\"publish_article\").textContent = \"Publish\";\n        renderFlash({ alert: \"Connection error!\" });\n      }\n    });\n};\n\nconst renderArticle = (article) => {\n  document.getElementById(\"article_title\").textContent = article.title;\n  document.getElementById(\"article_text\").textContent = article.content;\n  const node = document.getElementById(\"publish_article\");\n  if (node && article.publishedAt != null) node.style.display = \"none\";\n  else if (node) node.style.display = \"\";\n};\n\nconst createArticleReceivedMessage = (article) => {\n  return async function (type) {\n    switch (type) {\n      case \"updated\":\n        await article.reload();\n        article.applyChanges();\n        renderArticle(article);\n        break;\n      case \"destroyed\":\n        window.location.href = \"/user/articles?message=deleted\";\n    }\n  };\n};\n\nexport default (article) => {\n  if (article === null) return;\n  subscribe({ to: article, with: createArticleReceivedMessage(article) });\n  handlePublishing(article);\n  updateEditLink(article.id);\n  renderArticle(article);\n};\n","import React, { useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport DateService from \"services/Date\";\n\nimport { updateComment } from \"actions\";\nimport store from \"store\";\n\nimport CommentModel from \"models/article/Comment\";\n\nfunction Comment({ comment, isAdmin = false }) {\n  const [approving, setApproving] = useState(false);\n\n  const createdAt = new DateService(comment.createdAt).strftime(\"%d %b %y\");\n\n  const handleApproving = async (e) => {\n    e.preventDefault();\n    setApproving(true);\n    comment.approved = true;\n    const res = await comment.updateAttribute(\"approved\");\n    if (!res.ok) return;\n    store.dispatch(\n      updateComment(\n        new CommentModel({ ...comment, approved: true }),\n        comment.articleId\n      )\n    );\n  };\n\n  const adminSection = () => {\n    let approveLink;\n\n    if (comment.approved) {\n      approveLink = (\n        <>\n          <span>approved</span> |{\" \"}\n        </>\n      );\n    } else if (approving) {\n      approveLink = (\n        <>\n          <span>approving...</span> |{\" \"}\n        </>\n      );\n    } else {\n      approveLink = (\n        <>\n          <a\n            href={`/user/articles/${comment.articleId}/comments/${comment.id}/approve`}\n            className=\"approve\"\n            onClick={handleApproving}\n          >\n            approve\n          </a>{\" \"}\n          |{\" \"}\n        </>\n      );\n    }\n\n    return (\n      <>\n        {\" \"}\n        ({approveLink}\n        <a\n          href={`/user/articles/${comment.articleId}/comments/${comment.id}/edit`}\n        >\n          edit\n        </a>{\" \"}\n        |{\" \"}\n        <a\n          href={`/user/articles/${comment.articleId}/comments/${comment.id}`}\n          data-method=\"delete\"\n          data-confirm=\"Are you sure?\"\n        >\n          delete\n        </a>\n        )\n      </>\n    );\n  };\n\n  return (\n    <p id={`comment_${comment.id}`}>\n      <b>{comment.author}</b> on <i>{createdAt}</i>\n      {isAdmin ? adminSection() : \"\"}\n      <br />\n      {comment.text}\n    </p>\n  );\n}\n\nComment.propTypes = {\n  comment: PropTypes.instanceOf(CommentModel).isRequired,\n  isAdmin: PropTypes.bool,\n};\n\nexport default Comment;\n","import React, { useEffect, useState } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport store from \"store\";\nimport { commentsForArticle } from \"selectors/comments\";\nimport Comment from \"containers/user/Comment\";\nimport CommentModel from \"models/article/Comment\";\n\nfunction CommentList(props) {\n  const articleId = props.articleId;\n  const isAdmin = props.isAdmin || false;\n  const [comments, setComments] = useState(props.comments);\n\n  useEffect(() => {\n    const unsubscribe = store.subscribe(() =>\n      setComments(commentsForArticle(store.getState(), articleId))\n    );\n\n    return () => {\n      unsubscribe();\n    };\n  }, []);\n\n  if (comments.length === 0) return <p>No comments.</p>;\n\n  const list = comments.map((comment) => (\n    <Comment key={comment.id} comment={comment} isAdmin={isAdmin} />\n  ));\n\n  return <>{list}</>;\n}\n\nCommentList.propTypes = {\n  articleId: PropTypes.number.isRequired,\n  isAdmin: PropTypes.bool,\n  comments: PropTypes.arrayOf(PropTypes.instanceOf(CommentModel)).isRequired,\n};\n\nexport default CommentList;\n","import React from \"react\";\nimport { render as renderElement } from \"react-dom\";\nimport { subscribe } from \"loco-js\";\nimport { UI } from \"loco-js-ui\";\n\nimport { addArticles, setComments } from \"actions\";\nimport store from \"store\";\n\nimport Comment from \"models/article/Comment\";\n\nimport renderFlash from \"views/shared/Flash\";\n\nimport CommentList from \"containers/user/CommentList\";\n\nconst displayChanges = (article) => {\n  for (const [attrib] of Object.entries(article.changes())) {\n    const sel = document.querySelector(\n      `a.apply_changes[data-for=${article.getAttrRemoteName(attrib)}]`\n    );\n    if (!sel) continue;\n    sel.classList.remove(\"none\");\n  }\n};\n\nconst createReceivedMessage = (article) => {\n  return async function (type, data) {\n    switch (type) {\n      case \"updating\":\n        if (\n          document.querySelector(\"h1\").getAttribute(\"data-mark\") !== data.mark\n        ) {\n          renderFlash({\n            warning: \"Uuups someone else started editing this article.\",\n          });\n        }\n        break;\n      case \"updated\":\n        await article.reload();\n        displayChanges(article);\n        break;\n      case \"destroyed\":\n        window.location.href = \"/user/articles?message=deleted\";\n    }\n  };\n};\n\nconst handleApplyingChanges = (form) => {\n  for (const sel of Array.from(document.querySelectorAll(\"a.apply_changes\"))) {\n    sel.addEventListener(\"click\", (e) => {\n      e.preventDefault();\n      const article = form.getObj();\n      const attrName = article.getAttrName(e.target.getAttribute(\"data-for\"));\n      article[attrName] = article.changes()[attrName].is;\n      form.fill(attrName);\n      e.target.classList.add(\"none\");\n    });\n  }\n};\n\nexport default {\n  render: (article) => {\n    store.dispatch(addArticles([article]));\n    subscribe({ to: article, with: createReceivedMessage(article) });\n    const form = new UI.Form({ for: article });\n    form.render();\n    handleApplyingChanges(form);\n  },\n\n  renderComments: async (articleId) => {\n    const resp = await Comment.all({ articleId: articleId });\n    store.dispatch(setComments(resp.resources, articleId));\n    renderElement(\n      <CommentList\n        articleId={articleId}\n        comments={resp.resources}\n        isAdmin={true}\n      />,\n      document.getElementById(\"comments\")\n    );\n  },\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport ArticleModel from \"models/Article\";\n\nimport { removeArticle } from \"actions\";\nimport store from \"store\";\n\nfunction Article({ article, onArticleDestroyed }) {\n  const handleDeletingArticle = async (e) => {\n    e.preventDefault();\n    if (!confirm(\"Are you sure?\")) return;\n    const data = await article.delete(null);\n    if (data.success) {\n      store.dispatch(removeArticle(data.id));\n    }\n    onArticleDestroyed(data);\n  };\n\n  return (\n    <tr id={`article_${article.id}`}>\n      <td>{article.title}</td>\n      <td>{article.content}</td>\n      <td className=\"comments_quantity\">{article.commentsCount}</td>\n      <td className=\"published\">{article.publishedAt ? \"yes\" : \"no\"}</td>\n      <td>\n        <a href={`/user/articles/${article.id}`}>Show</a> |\n        <a href={`/user/articles/${article.id}/edit`}>Edit</a> |\n        <a\n          href={`/user/articles/${article.id}`}\n          className=\"delete_article\"\n          onClick={handleDeletingArticle}\n        >\n          Delete\n        </a>\n      </td>\n    </tr>\n  );\n}\n\nArticle.propTypes = {\n  article: PropTypes.instanceOf(ArticleModel).isRequired,\n  onArticleDestroyed: PropTypes.func.isRequired,\n};\n\nexport default Article;\n","import React, { useEffect, useState } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport store from \"store\";\nimport Article from \"components/user/Article\";\nimport ArticleModel from \"models/Article\";\n\nfunction ArticleList(props) {\n  const [articles, setArticles] = useState(props.articles);\n\n  useEffect(() => {\n    const unsubscribe = store.subscribe(() =>\n      setArticles(store.getState().articles)\n    );\n\n    return () => {\n      unsubscribe();\n    };\n  }, []);\n\n  const list = articles.map((article) => (\n    <Article\n      key={article.id}\n      article={article}\n      onArticleDestroyed={props.onArticleDestroyed}\n    />\n  ));\n\n  return <>{list}</>;\n}\n\nArticleList.propTypes = {\n  articles: PropTypes.arrayOf(PropTypes.instanceOf(ArticleModel)).isRequired,\n  onArticleDestroyed: PropTypes.func.isRequired,\n};\n\nexport default ArticleList;\n","import React from \"react\";\nimport { render } from \"react-dom\";\nimport { helpers } from \"loco-js-core\";\n\nimport { setArticles, setComments } from \"actions\";\nimport store from \"store\";\n\nimport renderFlash from \"views/shared/Flash\";\nimport ShowView from \"views/user/articles/Show\";\nimport FormView from \"views/user/articles/Form\";\n\nimport Article from \"models/Article\";\nimport Comment from \"models/article/Comment\";\n\nimport ArticleList from \"containers/user/ArticleList\";\nimport CommentList from \"containers/user/CommentList\";\n\nconst renderArticle = async () => {\n  const article = await Article.find(helpers.params.id);\n  store.dispatch(setArticles([article]));\n  ShowView(article);\n};\n\nconst renderComments = async () => {\n  const resp = await Comment.all({ articleId: helpers.params.id });\n  store.dispatch(setComments(resp.resources, helpers.params.id));\n  render(\n    <CommentList articleId={helpers.params.id} comments={resp.resources} />,\n    document.getElementById(\"comments\")\n  );\n};\n\nconst onArticleDestroyed = (res) => {\n  if (res.success) renderFlash({ notice: res.notice });\n  else renderFlash({ alert: res.alert });\n};\n\nclass Articles {\n  async index() {\n    if (helpers.params.message === \"deleted\") {\n      renderFlash({ alert: \"Article has been deleted.\" });\n    }\n    const resp = await Article.get(\"all\");\n    store.dispatch(setArticles(resp.resources));\n    render(\n      <ArticleList\n        articles={resp.resources}\n        onArticleDestroyed={onArticleDestroyed}\n      />,\n      document.getElementById(\"article_list\")\n    );\n  }\n\n  show() {\n    renderArticle();\n    renderComments();\n  }\n\n  new() {\n    FormView.render(new Article());\n  }\n\n  async edit() {\n    FormView.renderComments(helpers.params.id);\n    const article = await Article.find(helpers.params.id);\n    FormView.render(article);\n  }\n}\n\nexport default Articles;\n","import Base from \"./Base\";\nimport Articles from \"./user/Articles\";\nimport Rooms from \"./user/Rooms\";\n\nclass User extends Base { }\n\nUser.Articles = Articles;\nUser.Rooms = Rooms;\n\nexport default User;\n","import getEnv from \"initializers/loco-core\";\n\nimport {\n  addArticles,\n  prependArticles,\n  updateArticle,\n  addComments,\n  prependUsers,\n  removeComment,\n  updateComment,\n} from \"actions\";\nimport store from \"store\";\nimport { findArticle, findComment } from \"selectors/articles\";\n\nimport Article from \"models/Article\";\nimport Comment from \"models/article/Comment\";\nimport User from \"models/User\";\n\nimport AdminController from \"controllers/Admin\";\nimport MainController from \"controllers/Main\";\nimport RoomsController from \"controllers/user/Rooms\";\nimport UserController from \"controllers/User\";\n\nconst articleCreated = async ({ id }) => {\n  if (getEnv().namespaceController.constructor !== UserController) return;\n  const article = await Article.find({ id, abbr: true });\n  store.dispatch(addArticles([article]));\n};\n\nconst articlePublished = async ({ id }) => {\n  if (getEnv().namespaceController.constructor === AdminController) {\n    const article = await Article.find({ id, abbr: true, resource: \"admin\" });\n    store.dispatch(prependArticles([article]));\n  } else {\n    const article = await Article.find({ id, abbr: true });\n    store.dispatch(addArticles([article]));\n  }\n};\n\nconst articleUpdated = async ({ id }) => {\n  const findParams = { id: id, abbr: true };\n  if (getEnv().namespaceController.constructor === AdminController) {\n    findParams[\"resource\"] = \"admin\";\n  }\n  let [article, index] = findArticle(store.getState(), id);\n  if (!article) return;\n  article = await Article.find(findParams);\n  store.dispatch(updateArticle(article, index));\n};\n\nconst commentsChanged = ({ article_id: articleId }, diff) => {\n  const [article, index] = findArticle(store.getState(), articleId);\n  if (!article) return;\n  const updatedArticle = new Article({\n    ...article,\n    commentsCount: article.commentsCount + diff,\n  });\n  store.dispatch(updateArticle(updatedArticle, index));\n};\n\nconst commentCreated = async ({ article_id: articleId, id }) => {\n  const findParams = { articleId, id };\n  if (getEnv().namespaceController.constructor === MainController) {\n    findParams[\"resource\"] = \"main\";\n  }\n  const [article] = findArticle(store.getState(), articleId);\n  if (!article) return;\n  const comment = await Comment.find(findParams);\n  if (comment === null) return;\n  store.dispatch(addComments([comment], articleId));\n  commentsChanged({ article_id: articleId }, 1);\n};\n\nconst commentDestroyed = ({ article_id: articleId, id }) => {\n  store.dispatch(removeComment(id, articleId));\n};\n\nconst commentUpdated = async ({ article_id: articleId, id }) => {\n  const [comment, index] = findComment(store.getState(), id, {\n    parentId: articleId,\n  });\n  if (!comment) return;\n  const reloadedComment = await comment.reload();\n  store.dispatch(updateComment(reloadedComment, articleId, index));\n};\n\nconst ping = () => {\n  if (getEnv().namespaceController.constructor !== UserController) return;\n  alert(\"Ping!\");\n};\n\nconst getCallbackForReceivedMessage = () => {\n  const nullCallback = () => { };\n  if (getEnv().namespaceController.constructor !== UserController)\n    return nullCallback;\n  if (getEnv().controller.constructor !== RoomsController)\n    return nullCallback;\n  if (getEnv().action !== \"show\") return nullCallback;\n  return getEnv().controller.callbacks[\"receivedMessage\"];\n};\n\nexport default async (data) => {\n  switch (data.type) {\n    case \"PING\":\n      ping();\n      break;\n    case \"NEW_MESSAGE\":\n      getCallbackForReceivedMessage()(data.message, data.author);\n      break;\n    case \"Article created\":\n      articleCreated(data.payload);\n      break;\n    case \"Article published\":\n      articlePublished(data.payload);\n      break;\n    case \"Article updated\":\n      articleUpdated(data.payload);\n      break;\n    case \"Article.Comment created\":\n      commentCreated(data.payload);\n      break;\n    case \"Article.Comment destroyed\":\n      commentsChanged(data.payload, -1);\n      commentDestroyed(data.payload);\n      break;\n    case \"Article.Comment updated\":\n      commentUpdated(data.payload);\n      break;\n    case \"User created\": {\n      const user = await User.find(data.payload.id);\n      store.dispatch(prependUsers([user]));\n      break;\n    }\n  }\n};\n","import { init, connectWithModel } from \"loco-js\";\nimport { connector, Config, I18n } from \"loco-js-model\";\nimport { connect as connectUI } from \"loco-js-ui\";\nimport { createConsumer } from \"@rails/actioncable\";\n\nimport NotificationCenter from \"services/NotificationCenter\";\n\nimport Article from \"models/Article\";\nimport Comment from \"models/article/Comment\";\nimport Member from \"models/room/Member\";\nimport Room from \"models/Room\";\nimport User from \"models/User\";\n\nimport renderFlash from \"views/shared/Flash\";\n\nconnectWithModel(connector);\n\nArticle.Comment = Comment;\nRoom.Member = Member;\n\nconst loco = init({\n  cable: createConsumer(),\n  models: {\n    Article,\n    Room,\n    User,\n  },\n  notificationCenter: NotificationCenter,\n  notifications: {\n    log: true,\n    size: 10,\n    disconnectedForTooLong: () => {\n      const msg =\n        \"You have been disconnected from the server for too long. Reload page!\";\n      renderFlash({ alert: msg, hide: false });\n    },\n  },\n  postInit: () => {\n    if (\n      document.querySelector(\"body\").getAttribute(\"data-rails-env\") !== \"test\"\n    )\n      return;\n    loco.getWire().setPollingTime(1000);\n  },\n});\n\nconnectUI({\n  getLocale: () => Config.locale,\n  loco,\n  I18n,\n});\n\nexport default loco;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport loco from \"initializers/loco\";\nimport UserModel from \"models/User\";\n\nconst User = ({ user }) => {\n  const ping = (e, userId) => {\n    e.preventDefault();\n    loco.emit({ type: \"PING\", user_id: userId });\n  };\n\n  return (\n    <tr id={`user_${user.id}`}>\n      <td>{user.email}</td>\n      <td>{user.username}</td>\n      <td className=\"confirmed\">{user.confirmed ? \"Yes\" : \"No\"}</td>\n      <td>\n        <a href={`/admin/users/${user.id}`}>Show</a> |{\" \"}\n        <a href={`/admin/users/${user.id}/edit`}>Edit</a> |{\" \"}\n        <a\n          href={`/admin/users/${user.id}`}\n          data-method=\"delete\"\n          data-confirm=\"Are you sure?\"\n        >\n          Delete\n        </a>{\" \"}\n        |{\" \"}\n        <a href=\"#\" onClick={(e) => ping(e, user.id)}>\n          Ping\n        </a>\n      </td>\n    </tr>\n  );\n};\n\nUser.propTypes = {\n  user: PropTypes.instanceOf(UserModel).isRequired,\n};\n\nexport default User;\n","import React, { useEffect, useState } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport store from \"store\";\nimport User from \"components/admin/User\";\nimport UserModel from \"models/User\";\n\nfunction UserList(props) {\n  const [users, setUsers] = useState(props.users);\n\n  useEffect(() => {\n    const unsubscribe = store.subscribe(() => setUsers(store.getState().users));\n\n    return () => {\n      unsubscribe();\n    };\n  }, []);\n\n  const list = users.map((user) => (\n    <User key={`user_${user.id}`} user={user} />\n  ));\n\n  return <>{list}</>;\n}\n\nUserList.propTypes = {\n  users: PropTypes.arrayOf(PropTypes.instanceOf(UserModel)).isRequired,\n};\n\nexport default UserList;\n","import Base from \"./Base\";\nimport Articles from \"./admin/Articles\";\nimport Comments from \"./admin/Comments\";\nimport Sessions from \"./admin/Sessions\";\nimport Users from \"./admin/Users\";\n\nclass Admin extends Base {\n  initialize() {\n    this.setScope(\"admin\");\n  }\n}\n\nAdmin.Articles = Articles;\nAdmin.Comments = Comments;\nAdmin.Sessions = Sessions;\nAdmin.Users = Users;\n\nexport default Admin;\n","import { helpers } from \"loco-js-core\";\n\nimport renderForm from \"views/admin/comments/Form\";\n\nclass Comments {\n  edit() {\n    renderForm({ commentId: helpers.params.id });\n  }\n}\n\nexport default Comments;\n","import { UI } from \"loco-js-ui\";\n\nimport CommentModel from \"models/article/Comment\";\n\nexport default (opts = {}) => {\n  const form = new UI.Form({\n    for: new CommentModel({ id: opts.commentId, resource: \"admin\" }),\n    id: `edit_comment_${opts.commentId}`,\n    initObj: true,\n  });\n  form.render();\n\n  // only for testing purpose\n  window.test = { commentFormObj: form.getObj() };\n};\n","import renderForm from \"views/admin/sessions/Form\";\n\nclass Sessions {\n  new() {\n    renderForm();\n  }\n}\n\nexport default Sessions;\n","import React from \"react\";\nimport { render as renderElement } from \"react-dom\";\nimport { helpers } from \"loco-js-core\";\n\nimport { setUsers } from \"actions\";\nimport store from \"store\";\n\nimport User from \"models/User\";\nimport UserList from \"containers/admin/UserList\";\nimport renderUser from \"views/admin/users/Show\";\nimport renderForm from \"views/admin/users/Form\";\n\nclass Users {\n  async index() {\n    const resp = await User.get(\"all\");\n    store.dispatch(setUsers(resp.resources));\n    renderElement(\n      <UserList users={resp.resources} />,\n      document.querySelector(\"table tbody\")\n    );\n  }\n\n  async show() {\n    const user = await User.find(helpers.params.id);\n    renderUser(user);\n  }\n\n  edit() {\n    renderForm(new User({ id: helpers.params.id }));\n  }\n}\n\nexport default Users;\n","const updateEditLink = (user) => {\n  const editLink = document.getElementById(\"edit_link\");\n  const href = editLink.getAttribute(\"href\");\n  editLink.setAttribute(\"href\", href.replace(\"/0/\", `/${user.id}/`));\n};\n\nexport default (user) => {\n  document.getElementById(\"user_email\").textContent = user.email;\n  document.getElementById(\"user_username\").textContent = user.username;\n  document.getElementById(\"user_confirmed\").textContent = user.confirmed\n    ? \"Yes\"\n    : \"No\";\n  updateEditLink(user);\n};\n","import { UI } from \"loco-js-ui\";\n\nexport default (user) => {\n  const form = new UI.Form({\n    for: user,\n    initObj: true,\n    id: \"admin_user_form\",\n  });\n  form.render();\n};\n","import { init } from \"loco-js-core\";\n\nimport Admin from \"controllers/Admin\";\nimport Main from \"controllers/Main\";\nimport User from \"controllers/User\";\n\nconst Controllers = {\n  Admin,\n  Main,\n  User,\n};\n\nlet env = null;\n\ndocument.addEventListener(\"DOMContentLoaded\", function() {\n  env = init(Controllers);\n});\n\nconst getEnv = () => env;\n\nexport default getEnv;\n","import { Config, I18n, Validators } from \"loco-js-model\";\n\nValidators.Vulgarity = class extends Validators.Base {\n  static identity = \"Vulgarity\";\n\n  constructor() {\n    super();\n  }\n\n  validate() {\n    if (this.val == null) return;\n    switch (typeof this.val) {\n      case \"string\": {\n        const vulgarWord = this._getVulgarWord();\n        const match = new RegExp(`${vulgarWord}`, [\"i\"]).exec(this.val);\n        if (match) this._addErrorMessage();\n        else return;\n        break;\n      }\n      default:\n        throw new TypeError(\n          `Vulgarity validator is applicable only for strings and ${this.attr} isn't.`\n        );\n    }\n  }\n\n  _addErrorMessage() {\n    const message = I18n[Config.locale].errors.messages.vulgarity;\n    this.obj.addErrorMessage(message, { for: this.attr });\n  }\n\n  _getVulgarWord() {\n    switch (Config.locale) {\n      case \"pl\":\n        return \"kurwa\";\n      case \"en\":\n        return \"fuck\";\n    }\n  }\n};\n","import { I18n } from \"loco-js-model\";\n\nconst lastChar = (s) => s[s.length - 1];\n\nI18n.pl = {\n  variants: {\n    few(i) {\n      const num = parseInt(lastChar(String(i)));\n      [2, 3, 4].indexOf(num) !== -1 &&\n        !(String(i).length === 2 && String(i)[0] === \"1\");\n    },\n  },\n  models: {},\n  attributes: {},\n  ui: {\n    form: {\n      sending: \"Wysyam...\",\n      success: \"Sukces\",\n      errors: {\n        connection: \"Bd z poczeniem\",\n        invalid_data: \"Nieprawidowe dane\",\n      },\n    },\n  },\n  date: {\n    formats: {\n      default: \"%d-%m-%Y\",\n      short: \"%d %b\",\n      long: \"%B %d, %Y\",\n    },\n    day_names: [\n      \"niedziela\",\n      \"poniedziaek\",\n      \"wtorek\",\n      \"roda\",\n      \"czwartek\",\n      \"pitek\",\n      \"sobota\",\n    ],\n    abbr_day_names: [\"nie\", \"pon\", \"wto\", \"ro\", \"czw\", \"pi\", \"sob\"],\n    month_names: [\n      \"stycze\",\n      \"luty\",\n      \"marzec\",\n      \"kwiecie\",\n      \"maj\",\n      \"czerwiec\",\n      \"lipiec\",\n      \"sierpie\",\n      \"wrzesie\",\n      \"padziernik\",\n      \"listopad\",\n      \"grudzie\",\n    ],\n    abbr_month_names: [\n      \"sty\",\n      \"lut\",\n      \"mar\",\n      \"kwi\",\n      \"maj\",\n      \"cze\",\n      \"lip\",\n      \"sie\",\n      \"wrz\",\n      \"pa\",\n      \"lis\",\n      \"gru\",\n    ],\n  },\n  errors: {\n    messages: {\n      accepted: \"musi zosta zaakceptowane\",\n      blank: \"nie moe by puste\",\n      confirmation: \"nie zgadza si z polem %{attribute}\",\n      empty: \"nie moe by puste\",\n      equal_to: \"musi by rwne %{count}\",\n      even: \"musi by parzyste\",\n      exclusion: \"jest zarezerwowane\",\n      greater_than: \"musi by wiksze od %{count}\",\n      greater_than_or_equal_to: \"musi by wiksze lub rwne %{count}\",\n      inclusion: \"nie znajduje si na licie dopuszczalnych wartoci\",\n      invalid: \"jest nieprawidowe\",\n      less_than: \"musi by mniejsze od %{count}\",\n      less_than_or_equal_to: \"musi by mniejsze lub rwne %{count}\",\n      not_a_number: \"nie jest liczb\",\n      not_an_integer: \"musi by liczb cakowit\",\n      odd: \"musi by nieparzyste\",\n      present: \"musi by puste\",\n      too_long: {\n        few: \"jest za dugie (maksymalnie %{count} znaki)\",\n        many: \"jest za dugie (maksymalnie %{count} znakw)\",\n        one: \"jest za dugie (maksymalnie jeden znak)\",\n        other: \"jest za dugie (maksymalnie %{count} znakw)\",\n      },\n      too_short: {\n        few: \"jest za krtkie (przynajmniej %{count} znaki)\",\n        many: \"jest za krtkie (przynajmniej %{count} znakw)\",\n        one: \"jest za krtkie (przynajmniej jeden znak)\",\n        other: \"jest za krtkie (przynajmniej %{count} znakw)\",\n      },\n      wrong_length: {\n        few: \"ma nieprawidow dugo (powinna wynosi %{count} znaki)\",\n        many: \"ma nieprawidow dugo (powinna wynosi %{count} znakw)\",\n        one: \"ma nieprawidow dugo (powinna wynosi jeden znak)\",\n        other: \"ma nieprawidow dugo (powinna wynosi %{count} znakw)\",\n      },\n      other_than: \"musi by inna ni %{count}\",\n    },\n  },\n};\n","import { I18n } from \"loco-js-model\";\n\nI18n.pl.models.User = \"Uytkownik\";\nI18n.pl.attributes.User = {\n  password: \"Haso\",\n  passwordConfirmation: \"Powtrz haso\",\n};\n","import { I18n } from \"loco-js-model\";\n\nI18n.en.errors.messages.vulgarity = \"contains strong language.\";\n","import { I18n } from \"loco-js-model\";\n\nI18n.pl.errors.messages.vulgarity = \"zawiera mocny jzyk.\";\n","import { I18n } from \"loco-js-model\";\n\nI18n.en.date = {\n  formats: {\n    default: \"%Y-%m-%d\",\n    short: \"%b %d\",\n    long: \"%B %d, %Y\",\n  },\n  day_names: [\n    \"Sunday\",\n    \"Monday\",\n    \"Tuesday\",\n    \"Wednesday\",\n    \"Thursday\",\n    \"Friday\",\n    \"Saturday\",\n  ],\n  abbr_day_names: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  month_names: [\n    \"January\",\n    \"February\",\n    \"March\",\n    \"April\",\n    \"May\",\n    \"June\",\n    \"July\",\n    \"August\",\n    \"September\",\n    \"October\",\n    \"November\",\n    \"December\",\n  ],\n  abbr_month_names: [\n    \"Jan\",\n    \"Feb\",\n    \"Mar\",\n    \"Apr\",\n    \"May\",\n    \"Jun\",\n    \"Jul\",\n    \"Aug\",\n    \"Sep\",\n    \"Oct\",\n    \"Nov\",\n    \"Dec\",\n  ],\n};\n","import \"core-js/stable\";\n\nimport \"scaffold.css\";\nimport \"global.css\";\n\nimport \"initializers/rails\";\nimport \"initializers/loco-core\";\nimport loco from \"initializers/loco\";\nimport \"validators/Vulgarity\";\nimport \"locales\";\n\n// for testing purposes only\nwindow.test = {\n  getLine: () => loco.getLine(),\n  getWire: () => loco.getWire(),\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t72: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunk\"] = self[\"webpackChunk\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [968], function() { return __webpack_require__(72304); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","r","self","t","d","__webpack_require__","e","o","Object","defineProperty","enumerable","get","prototype","hasOwnProperty","call","Symbol","toStringTag","value","n","this","localeVar","protocolWithHostVar","scopeVar","key","set","length","slice","s","en","variants","models","attributes","errors","messages","accepted","blank","confirmation","empty","equal_to","even","exclusion","greater_than","greater_than_or_equal_to","inclusion","invalid","less_than","less_than_or_equal_to","not_a_number","not_an_integer","odd","present","too_long","one","other","too_short","wrong_length","other_than","a","u","indexOf","find","l","c","getIdentity","id","h","imap","clear","subscribe","i","to","arguments","with","collection","unsubscribe","add","findConnected","p","obj","attr","val","opts","sharedInstances","instance","identity","R","assignAttribs","__super__","constructor","f","validate","_addErrorMessage","message","locale","addErrorMessage","for","g","_","_properAttr","charAt","toUpperCase","replace","m","y","in","within","b","v","exec","O","E","M","w","_range","_selectErrorMessage","minimum","is","maximum","_checkVariant","j","P","isNaN","_addNaNErrorMessage","only_integer","Number","parseInt","_addIntErrorMessage","_addGreatherThanErrorMessage","_addGreatherThanOrEqualToErrorMessage","_addEqualToErrorMessage","_addLessThanErrorMessage","_addLessThanOrEqualToErrorMessage","_addOtherThanErrorMessage","_addOddErrorMessage","_addEvenErrorMessage","N","S","T","q","Absence","Base","Confirmation","Exclusion","Format","Inclusion","Length","Numericality","Presence","Size","A","I","keys","forEach","concat","encodeURIComponent","document","querySelector","XMLHttpRequest","withCredentials","cookiesByCORS","open","setRequestHeader","content","authorizationHeader","send","JSON","stringify","resource","__initAttributes","__assignAttributes","getRemoteName","remoteName","all","__send","post","put","patch","delete","__getResourcesUrl","__requestOpts","Promise","onerror","onload","target","status","parse","response","__initFromJSON","getAttribRemoteName","getResourcesUrlParams","push","resources","toLowerCase","url","scope","protocolWithHost","__page","params","pageParam","method","Array","count","__paginate","pageNum","then","total","resolve","perPage","__getPaginationParam","paginate","param","__getPaginationPer","per","page","setResource","getAttrRemoteName","getAttrName","getAttrType","type","assignAttr","Date","parseFloat","Boolean","String","isValid","validations","on","if","__processedValidationSettings","console","warn","isInvalid","isEmpty","save","__getResourceUrl","serialize","success","__assignRemoteErrorMessages","updateAttribute","reload","changes","was","applyChanges","toKey","k","clone","U","V","IdentityMap","Models","module","exports","toURIParams","includes","unshift","pop","payload","log","loco","idempotency_key","split","notificationCenter","emit","done","pollingTime","ssl","location","size","allowedDisconnectionTime","disconnectedForTooLong","reqOpts","syncTime","token","pollingInterval","disconnectedSinceTime","uuid","line","setDisconnectedForTooLong","setLine","setPollingTime","connected","disconnect","connect","check","setInterval","window","clearInterval","_getURL","_requestParams","_handleDisconnection","fetchSyncTime","after","sync_time","synced_at","href","cable","wire","subscription","subscriptions","create","channel","pong","disconnected","rejected","received","processNotification","ping","notification","name","setTimeout","getModels","getLine","getWire","setAuthorizationHeader","init","notifications","enable","_ready","postInit","attachEvent","readyState","addEventListener","C","Rails","start","setScope","Config","ADD_ARTICLES","PREPEND_ARTICLES","REMOVE_ARTICLE","SET_ARTICLES","UPDATE_ARTICLE","ADD_COMMENTS","REMOVE_COMMENT","SET_COMMENTS","UPDATE_COMMENT","PREPEND_USERS","addArticles","articles","setArticles","updateArticle","article","index","setComments","comments","articleId","updateComment","comment","produce","draft","action","filter","undefined","users","combineReducers","createStore","reducer","Article","static","main","admin","title","presence","createdAt","updatedAt","commentsCount","publishedAt","published","adminReview","adminRate","categoryId","adminReviewStartedAt","data","super","vulgarityLevel","setDefaultValuesForAdminReview","now","Comment","author","text","vulgarity","emotion","pinned","approved","date","skope","I18n","toString","format","formats","strftime","default","short","long","str","getFullYear","substr","month","getMonth","abbr_month_names","month_names","getDate","getHours","getMinutes","getSeconds","DateService","React","propTypes","PropTypes","CommentModel","isRequired","CommentList","map","renderArticle","getElementById","textContent","createReceivedMessage","async","reloadedArticle","className","ArticleModel","ArticleList","props","useState","useEffect","store","getState","list","helpers","EditView","UI","Form","render","renderForm","signedIn","User","email","username","password","passwordConfirmation","confirmed","createFinder","resourceType","state","parentId","findArticle","findComment","commentsForArticle","CommentsNumber","setMsg","msg","node","classList","hide","remove","resetNode","hideAfterTime","time","createArticleReceivedMessage","renderFlash","warning","update","dateService","textEl","innerHTML","trim","insertAdjacentHTML","initObj","LoadMoreLink","setPage","noMorePosts","setNoMorePosts","onClick","preventDefault","currentPage","resp","alert","dispatch","receivedMessage","created","style","display","notice","Main","initialize","Articles","show","newComment","ShowView","res","renderComments","Pages","renderElement","Users","new","callbackSuccess","Member","Room","membersNode","roomId","memberJoined","room_id","memberLeft","room","roomNode","parentNode","removeChild","member","li","renderedMessage","callbacks","Show","event","keyCode","txt","handleSendingMessage","members","isAdmin","approving","setApproving","handleApproving","ok","adminSection","approveLink","getAttribute","mark","attrib","entries","sel","displayChanges","form","from","querySelectorAll","getObj","attrName","fill","handleApplyingChanges","onArticleDestroyed","confirm","outerHTML","err","handlePublishing","setAttribute","updateEditLink","FormView","edit","Rooms","commentsChanged","article_id","diff","updatedArticle","connectWithModel","connector","createConsumer","getEnv","namespaceController","UserController","controller","RoomsController","nullCallback","abbr","articleCreated","AdminController","prependArticles","articlePublished","findParams","articleUpdated","MainController","addComments","commentCreated","commentDestroyed","removeComment","reloadedComment","commentUpdated","user","prependUsers","connectUI","getLocale","userId","user_id","UserModel","UserList","setUsers","Admin","renderComment","Comments","commentId","test","commentFormObj","Sessions","editLink","renderUser","Controllers","env","Validators","Vulgarity","vulgarWord","_getVulgarWord","RegExp","TypeError","pl","few","num","ui","sending","connection","invalid_data","day_names","abbr_day_names","many","__webpack_module_cache__","moduleId","cachedModule","__webpack_modules__","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","every","splice","getter","__esModule","definition","globalThis","Function","prop","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","bind","__webpack_exports__"],"sourceRoot":""}