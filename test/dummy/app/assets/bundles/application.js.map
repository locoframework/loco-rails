{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./test/dummy/frontend/js/initializers/rails.js","webpack:///./test/dummy/frontend/js/services/notification_center.coffee","webpack:///./test/dummy/frontend/js/reducers/admin/users.js","webpack:///./test/dummy/frontend/js/reducers/admin/index.js","webpack:///./test/dummy/frontend/js/reducers/admin/articles.js","webpack:///./test/dummy/frontend/js/stores/admin/index.js","webpack:///./test/dummy/frontend/js/reducers/main/comments.js","webpack:///./test/dummy/frontend/js/reducers/main/index.js","webpack:///./test/dummy/frontend/js/reducers/main/articles.js","webpack:///./test/dummy/frontend/js/stores/main/index.js","webpack:///./test/dummy/frontend/js/reducers/user/comments.js","webpack:///./test/dummy/frontend/js/reducers/user/index.js","webpack:///./test/dummy/frontend/js/reducers/user/articles.js","webpack:///./test/dummy/frontend/js/stores/user.js","webpack:///./test/dummy/frontend/js/selectors/index.js","webpack:///./test/dummy/frontend/js/selectors/articles.js","webpack:///./test/dummy/frontend/js/models/article.coffee","webpack:///./test/dummy/frontend/js/models/article/comment.coffee","webpack:///./test/dummy/frontend/js/models/user.coffee","webpack:///./test/dummy/frontend/js/views/shared/flash.coffee","webpack:///./test/dummy/frontend/js/controllers/concerns/disconnection.coffee","webpack:///./test/dummy/frontend/js/components/admin/comment.js","webpack:///./test/dummy/frontend/js/components/admin/CommentList.js","webpack:///./test/dummy/frontend/js/views/admin/articles/Edit.js","webpack:///./test/dummy/frontend/js/views/admin/articles/Form.js","webpack:///./test/dummy/frontend/js/components/admin/Article.js","webpack:///./test/dummy/frontend/js/containers/admin/StatefulArticleList.js","webpack:///./test/dummy/frontend/js/controllers/admin/Articles.js","webpack:///./test/dummy/frontend/js/views/admin/comments/Form.js","webpack:///./test/dummy/frontend/js/controllers/admin/Comments.js","webpack:///./test/dummy/frontend/js/components/admin/User.js","webpack:///./test/dummy/frontend/js/containers/admin/StatefulUserList.js","webpack:///./test/dummy/frontend/js/views/admin/users/Show.js","webpack:///./test/dummy/frontend/js/views/admin/users/Form.js","webpack:///./test/dummy/frontend/js/controllers/admin/Users.js","webpack:///./test/dummy/frontend/js/controllers/Admin.js","webpack:///./test/dummy/frontend/js/selectors/comments.js","webpack:///./test/dummy/frontend/js/components/main/Comment.js","webpack:///./test/dummy/frontend/js/containers/main/articles/StatefulCommentList.js","webpack:///./test/dummy/frontend/js/containers/main/articles/CommentsNumber.js","webpack:///./test/dummy/frontend/js/views/main/articles/Show.js","webpack:///./test/dummy/frontend/js/controllers/main/Articles.js","webpack:///./test/dummy/frontend/js/containers/main/pages/LoadMoreLink.js","webpack:///./test/dummy/frontend/js/components/main/Article.js","webpack:///./test/dummy/frontend/js/containers/main/pages/StatefulArticleList.js","webpack:///./test/dummy/frontend/js/controllers/main/Pages.js","webpack:///./test/dummy/frontend/js/views/main/users/user_registration_form.coffee","webpack:///./test/dummy/frontend/js/controllers/main/users.coffee","webpack:///./test/dummy/frontend/js/controllers/Main.js","webpack:///./test/dummy/frontend/js/views/layouts/user.coffee","webpack:///./test/dummy/frontend/js/views/user/articles/show.coffee","webpack:///./test/dummy/frontend/js/views/user/articles/form.coffee","webpack:///./test/dummy/frontend/js/components/user/Article.js","webpack:///./test/dummy/frontend/js/containers/user/ArticleList.js","webpack:///./test/dummy/frontend/js/components/shared/Comment.js","webpack:///./test/dummy/frontend/js/containers/user/CommentList.js","webpack:///./test/dummy/frontend/js/controllers/user/articles.coffee","webpack:///./test/dummy/frontend/js/controllers/User.js","webpack:///./test/dummy/frontend/js/services/Connectivity.js","webpack:///./test/dummy/frontend/js/initializers/loco.js","webpack:///./test/dummy/frontend/js/validators/vulgarity.coffee","webpack:///./test/dummy/frontend/js/validators/index.js","webpack:///./test/dummy/frontend/js/locales/base/pl.coffee","webpack:///./test/dummy/frontend/js/locales/models/user/pl.coffee","webpack:///./test/dummy/frontend/js/locales/validators/en.vulgarity.coffee","webpack:///./test/dummy/frontend/js/locales/validators/pl.vulgarity.coffee","webpack:///./test/dummy/frontend/js/controllers/index.js","webpack:///./test/dummy/frontend/js/models/index.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","0","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","Rails","start","notification_center_coffee","receivedSignal","signal","this","_pingSignal","_messageSignal","loco","namespaceController","constructor","App","Controllers","User","alert","view","_getRoomView","receivedMessage","message","author","controller","Rooms","action","getView","combineReducers","articles","state","arguments","undefined","type","concat","_toConsumableArray","payload","index","article","users","users_toConsumableArray","store","createStore","reducer","articles_toConsumableArray","comments","_objectSpread","_defineProperty","articleId","comments_toConsumableArray","filter","comment","id","user_articles_toConsumableArray","comments_objectSpread","comments_defineProperty","user_comments_toConsumableArray","createFinder","resourceType","opts","resources","parentId","resource","find","a","indexOf","findArticle","findComment","article_coffee","superClass","Article","__super__","published","publishedAt","child","parent","hasProp","ctor","Base","identity","url","paginate","per","main","admin","attributes","title","validations","presence","within","content","minimum","remoteName","createdAt","updatedAt","commentsCount","adminReview","adminRate","categoryId","adminReviewStartedAt","validate","vulgarityLevel","exec","addErrorMessage","for","setDefaultValuesForAdminReview","Date","now","comment_coffee","Comment","comment_coffee_hasProp","param","text","vulgarity","emotion","pinned","approved","user_coffee","user_coffee_hasProp","email","format","with","username","password","on","confirmation","passwordConfirmation","confirmed","console","log","flash_coffee","Flash","ref","ref1","ref2","ref3","notice","warning","hide","flash_coffee_hasProp","setNotice","setAlert","setWarning","render","node","document","querySelector","classList","remove","add","textContent","hideAfterTime","time","setTimeout","disconnection_coffee","disconnectedForTooLong","_ref","Services","strftime","react_default","createElement","href","propTypes","PropTypes","instanceOf","CommentModel","isRequired","CommentList","Fragment","map","admin_comment","arrayOf","Edit","_this","_classCallCheck","_possibleConstructorReturn","_getPrototypeOf","Views","_this2","reload","then","applyChanges","_renderArticle","connectWith","renderElement","admin_CommentList","getElementById","Form","Form_classCallCheck","Form_possibleConstructorReturn","Form_getPrototypeOf","UI","date","toString","className","ArticleModel","ArticleListWrapper","props","_useState2","_slicedToArray","useState","setArticles","useEffect","unsubscribe","subscribe","getState","list","admin_Article","Articles","resp","dispatch","StatefulArticleList","editView","params","all","renderComments","comments_Form_classCallCheck","comments_Form_possibleConstructorReturn","comments_Form_getPrototypeOf","form","commentId","initObj","Env","test","commentFormObj","getObj","Comments","user","data-method","data-confirm","onClick","e","userId","preventDefault","emit","user_id","ping","UserModel","UserListWrapper","StatefulUserList_slicedToArray","setUsers","admin_User","Show","Show_classCallCheck","Show_possibleConstructorReturn","Show_getPrototypeOf","_updateEditLink","editLink","getAttribute","setAttribute","replace","users_Form_classCallCheck","users_Form_possibleConstructorReturn","users_Form_getPrototypeOf","Users","StatefulUserList","Admin","Mix","Disconnection","setScope","assign","commentsForArticle","StatefulCommentList","StatefulCommentList_slicedToArray","setComments","main_Comment","number","CommentsNumber","CommentsNumber_slicedToArray","articles_Show_classCallCheck","articles_Show_possibleConstructorReturn","articles_Show_getPrototypeOf","newComment","receiver","dateService","textEl","innerHTML","Helpers","Text","simpleFormat","insertAdjacentHTML","renderArticle","res","total","React","LoadMoreLink","LoadMoreLink_slicedToArray","page","setPage","_useState4","noMorePosts","setNoMorePosts","handleClick","currentPage","catch","err","StatefulArticleList_slicedToArray","main_Article","Pages","pages_StatefulArticleList","user_registration_form_coffee","UserRegistrationForm","user_registration_form_coffee_hasProp","delegator","callbackSuccess","_confirming","_confirmed","_created","style","display","location","users_coffee","users_coffee_hasProp","Main","layouts_user_coffee","layouts_user_coffee_hasProp","show_coffee","show_coffee_hasProp","_handlePublishing","articleReceivedSignal","addEventListener","target","put","outerHTML","form_coffee","changes","form_coffee_hasProp","_handleApplyingChanges","len","noCommentNode","parentNode","removeChild","_renderComment","_handleApprovingComment","mark","_displayChanges","receivedArticleCommentSignal","commentNode","article_id","template","JST","isAdmin","attrib","results","sel","getAttrRemoteName","querySelectorAll","attrName","getAttrName","is","fill","el","commentToApprove","len1","parseInt","updateAttribute","onArticleDestroyed","confirm","delete","success","func","ArticleList","ArticleList_slicedToArray","user_Article","approveLink","_ref$isAdmin","data-id","bool","CommentList_slicedToArray","shared_Comment","articles_coffee","articles_coffee_hasProp","initialize","layout","flash","stores_user","react_dom","user_ArticleList","show","showView","user_CommentList","edit","commentsChanged","_ref4","diff","mainStore","AdminController","adminStore","UserController","userStore","_findArticle4","Connectivity_slicedToArray","Connectivity_objectSpread","Connectivity","Connectivity_classCallCheck","Connectivity_possibleConstructorReturn","Connectivity_getPrototypeOf","abbr","_ref2","articlePublished","_ref3","findParams","_findArticle2","articleUpdated","_ref5","MainController","commentCreated","_ref6","commentDestroyed","_ref7","_findComment2","commentUpdated","Deps","cable","ActionCable","createConsumer","NotificationCenter","connectivity","Loco","notifications","enable","size","postInit","getWire","setPollingTime","init","vulgarity_coffee","Vulgarity","vulgarity_coffee_hasProp","vulgarWord","val","_getVulgarWord","RegExp","_addErrorMessage","TypeError","attr","getLocale","errors","messages","obj","Validators","pl","variants","few","num","Utils","String","last","models","ui","sending","connection","invalid_data","formats","default","short","long","day_names","abbr_day_names","month_names","abbr_month_names","accepted","blank","empty","equal_to","even","exclusion","greater_than","greater_than_or_equal_to","inclusion","invalid","less_than","less_than_or_equal_to","not_a_number","not_an_integer","odd","present","too_long","many","one","other","too_short","wrong_length","other_than","en","Models"],"mappings":"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","file":"application.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t0: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([129,1]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import Rails from \"rails-ujs\";\n\nRails.start();\n","import { Env } from \"loco-js\"\n\nclass NotificationCenter\n  receivedSignal: (data) ->\n    switch data.signal\n      when 'ping'\n        this._pingSignal()\n      when 'message'\n        this._messageSignal data\n\n  _pingSignal: ->\n    return if Env.namespaceController.constructor isnt App.Controllers.User\n    alert 'Ping!'\n\n  _messageSignal: (data) ->\n    return if not view = this._getRoomView()\n    view.receivedMessage data.message, data.author\n\n  _getRoomView: ->\n    return false if Env.namespaceController.constructor isnt App.Controllers.User\n    return false if Env.controller.constructor isnt App.Controllers.User.Rooms\n    return false if Env.action isnt 'show'\n    Env.controller.getView 'show'\n\nexport default NotificationCenter","export default (state = [], action) => {\n  switch (action.type) {\n    case \"APPEND_USER\":\n      return [...state, ...action.payload.users];\n    case \"SET_USERS\":\n      return [...action.payload.users];\n    case \"PREPEND_USER\":\n      return [...action.payload.users, ...state];\n    default:\n      return state;\n  }\n};\n","import { combineReducers } from \"redux\";\n\nimport articles from \"./articles\";\nimport users from \"./users\";\n\nexport default combineReducers({\n  articles,\n  users\n});\n","export default (state = [], action) => {\n  switch (action.type) {\n    case \"PREPEND_ARTICLE\":\n      return [...action.payload.articles, ...state];\n    case \"SET_ARTICLES\":\n      return [...action.payload.articles];\n    case \"UPDATE_ARTICLE\":\n      return [\n        ...state.slice(0, action.payload.index),\n        action.payload.article,\n        ...state.slice(action.payload.index + 1)\n      ];\n    default:\n      return state;\n  }\n};\n","import { createStore } from \"redux\";\n\nimport reducer from \"reducers/admin\";\n\nconst store = createStore(reducer, { users: [], articles: [] });\n\nexport default store;\n","export default (state = {}, action) => {\n  switch (action.type) {\n    case \"ADD_COMMENTS\":\n      return {\n        ...state,\n        [action.payload.articleId]: [\n          ...state[action.payload.articleId],\n          ...action.payload.comments\n        ]\n      };\n    case \"REMOVE_COMMENT\":\n      if (state[action.payload.articleId] == null) return state;\n      return {\n        ...state,\n        [action.payload.articleId]: state[action.payload.articleId].filter(\n          comment => comment.id !== action.payload.id\n        )\n      };\n    case \"SET_COMMENTS\":\n      return { [action.payload.articleId]: action.payload.comments };\n    case \"UPDATE_COMMENT\": {\n      const articleId = action.payload.articleId;\n      return {\n        ...state,\n        [articleId]: [\n          ...state[articleId].slice(0, action.payload.index),\n          action.payload.comment,\n          ...state[articleId].slice(action.payload.index + 1)\n        ]\n      };\n    }\n    default:\n      return state;\n  }\n};\n","import { combineReducers } from \"redux\";\n\nimport articles from \"./articles\";\nimport comments from \"./comments\";\n\nexport default combineReducers({\n  articles,\n  comments\n});\n","export default (state = [], action) => {\n  switch (action.type) {\n    case \"ADD_ARTICLES\":\n      return [...state, ...action.payload.articles];\n    case \"SET_ARTICLES\":\n      return [...action.payload.articles];\n    case \"UPDATE_ARTICLE\":\n      return [\n        ...state.slice(0, action.payload.index),\n        action.payload.article,\n        ...state.slice(action.payload.index + 1)\n      ];\n    default:\n      return state;\n  }\n};\n","import { createStore } from \"redux\";\n\nimport reducer from \"reducers/main\";\n\nconst store = createStore(reducer, { articles: [], comments: {} });\n\nexport default store;\n","export default (state = {}, action) => {\n  switch (action.type) {\n    case \"ADD_COMMENTS\":\n      return {\n        ...state,\n        [action.payload.articleId]: [\n          ...state[action.payload.articleId],\n          ...action.payload.comments\n        ]\n      };\n    case \"REMOVE_COMMENT\":\n      if (state[action.payload.articleId] == null) return state;\n      return {\n        ...state,\n        [action.payload.articleId]: state[action.payload.articleId].filter(\n          comment => comment.id !== action.payload.id\n        )\n      };\n    case \"SET_COMMENTS\":\n      return { [action.payload.articleId]: action.payload.comments };\n    case \"UPDATE_COMMENT\": {\n      const articleId = action.payload.articleId;\n      return {\n        ...state,\n        [articleId]: [\n          ...state[articleId].slice(0, action.payload.index),\n          action.payload.comment,\n          ...state[articleId].slice(action.payload.index + 1)\n        ]\n      };\n    }\n    default:\n      return state;\n  }\n};\n","import { combineReducers } from \"redux\";\n\nimport articles from \"./articles\";\nimport comments from \"./comments\";\n\nexport default combineReducers({\n  articles,\n  comments\n});\n","export default (state = [], action) => {\n  switch (action.type) {\n    case \"ADD_ARTICLES\":\n      return [...state, ...action.payload.articles];\n    case \"REMOVE_ARTICLE\":\n      return state.filter(article => article.id !== action.payload.id);\n    case \"SET_ARTICLES\":\n      return [...action.payload.articles];\n    case \"UPDATE_ARTICLE\":\n      return [\n        ...state.slice(0, action.payload.index),\n        action.payload.article,\n        ...state.slice(action.payload.index + 1)\n      ];\n    default:\n      return state;\n  }\n};\n","import { createStore } from \"redux\";\n\nimport reducer from \"reducers/user\";\n\nconst store = createStore(reducer, { articles: [], comments: {} });\n\nexport default store;\n","export const createFinder = resourceType => {\n  return function find(state, id, opts = {}) {\n    let resources = state[resourceType];\n    if (opts.parentId) resources = resources[opts.parentId];\n    const resource = resources.find(a => a.id === id);\n    if (!resource) return [null, null];\n    const index = resources.indexOf(resource);\n    return [resource, index];\n  };\n};\n","import { createFinder } from \"./index\";\n\nexport const findArticle = createFinder(\"articles\");\n\nexport const findComment = createFinder(\"comments\");\n","import { Models } from \"loco-js\"\n\nclass Article extends Models.Base\n  @identity = \"Article\"\n  @resources =\n    url: '/user/articles', paginate: {per: 5}\n    main:\n      url: '/articles', paginate: {per: 3}\n    admin:\n      url: '/admin/articles', paginate: {per: 4}\n\n  @attributes =\n    title:\n      validations:\n        presence: true\n        length: {within: [3, 255]}\n    content:\n      validations:\n        presence: true\n        length: {minimum: 100}\n      remoteName: \"text\"\n    createdAt:\n      type: \"Date\"\n      remoteName: \"created_at\"\n    updatedAt:\n      type: \"Date\"\n      remoteName: \"updated_at\"\n    commentsCount:\n      type: \"Int\"\n      remoteName: \"comments_count\"\n    publishedAt:\n      type: \"Date\"\n      remoteName: \"published_at\"\n    published: {}\n    adminReview:\n      remoteName: \"admin_review\"\n    adminRate:\n      type: \"Int\"\n      remoteName: \"admin_rate\"\n    categoryId:\n      type: \"Int\"\n      remoteName: \"category_id\"\n    adminReviewStartedAt:\n      remoteName: \"admin_review_started_at\"\n\n  @receivedSignal: (signal, data) ->\n\n  @validate = [\"vulgarityLevel\"]\n\n  constructor: (data) ->\n    super data\n    @published = if @publishedAt? then true else false\n\n  receivedSignal: (signal, data) ->\n\n  vulgarityLevel: ->\n    if (this.title? and /fuck/i.exec(this.title)) or (this.content? and /fuck/i.exec(this.content))\n      this.addErrorMessage \"Article contains strong language.\", for: 'base'\n\n  setDefaultValuesForAdminReview: ->\n    @adminRate ?= 3\n    @categoryId ?= 6\n    @adminReviewStartedAt = Date.now()\n\nexport default Article\n","import { Models } from \"loco-js\"\n\nclass Comment extends Models.Base\n  @identity = \"Article.Comment\"\n  @remoteName = \"Comment\"\n  @resources =\n    url: '/user/articles/:articleId/comments', paginate: {per: 10}\n    main:\n      url: '/articles/:articleId/comments', paginate: {per: 5, param: \"page-num\"}\n    admin:\n      url: '/admin/articles/:articleId/comments', paginate: {per: 5}\n\n  @attributes =\n    author:\n      validations:\n        presence: true\n    text:\n      validations:\n        presence: true\n        vulgarity: true\n    articleId:\n      type: \"Int\"\n      validations:\n        presence: true\n      remoteName: \"article_id\"\n    createdAt:\n      type: \"Date\"\n      remoteName: \"created_at\"\n    updatedAt:\n      type: \"Date\"\n      remoteName: \"updated_at\"\n    emotion:\n      type: \"Int\"\n    pinned:\n      type: \"Boolean\"\n    adminRate:\n      type: \"Int\"\n      remoteName: \"admin_rate\"\n    approved:\n      type: \"Boolean\"\n\n  constructor: (data) -> super data\n\n  @receivedSignal: (signal, data) ->\n\n  receivedSignal: (signal, data) ->\n\nexport default Comment\n","import { Models } from \"loco-js\"\n\nclass User extends Models.Base\n  @identity = \"User\"\n  @resources =\n    url: \"/users\"\n    admin:\n      url: \"/admin/users\"\n\n  @paginate = {per: 10}\n\n  @attributes =\n    email:\n      validations:\n        presence: true\n        format: {with: /^([^@\\s]+)@((?:[-a-z0-9]+\\.)+[a-z]{2,})$/i}\n    username:\n      validations:\n        presence: true\n        format: {with: /^[a-z][a-z0-9_\\-]*$/i}\n    password:\n      validations:\n        presence: {on: \"create\"}\n        confirmation: true\n    passwordConfirmation:\n      remoteName: \"password_confirmation\"\n    confirmed: {}\n    createdAt:\n      type: \"Date\"\n      remoteName: \"created_at\"\n    updatedAt:\n      type: \"Date\"\n      remoteName: \"updated_at\"\n\n  @receivedSignal: (signal, data) -> console.log \"App.Models.User.receivedSignal: #{signal}\"\n\n  constructor: (data) -> super data\n\n  receivedSignal: (signal, data) -> console.log \"App.Models.User#receivedSignal: #{signal}\"\n\nexport default User\n","import { Views } from \"loco-js\"\n\nclass Flash extends Views.Base\n  constructor: (opts = {}) ->\n    super opts\n    @notice = opts.notice ? null\n    @alert = opts.alert ? null\n    @warning = opts.warning ? null\n    @hide = opts.hide ? true\n\n  setNotice: (text) -> @notice = text\n  setAlert: (text) -> @alert = text\n  setWarning: (text) -> @warning = text\n\n  render: ->\n    node = document.querySelector('.flash')\n    node.classList.remove('notice')\n    node.classList.remove('alert')\n    node.classList.remove('warning')\n    if @notice?\n      node.classList.add('notice')\n      document.querySelector('.flash p').textContent = @notice\n    else if @alert?\n      node.classList.add('alert')\n      document.querySelector('.flash p').textContent = @alert\n    else if @warning?\n      node.classList.add('warning')\n      document.querySelector('.flash p').textContent = @warning\n    node.classList.remove('none') # slideDown initially\n    this.hideAfterTime() if @hide\n\n  hideAfterTime: (time = 4000) ->\n    setTimeout ->\n      document.querySelector('.flash').classList.add('none') # slideUp initially\n    , time\n\nexport default Flash","import Flash from \"views/shared/flash.coffee\"\n\nclass Disconnection\n  disconnectedForTooLong: (time) ->\n    msg = \"You have been disconnected from the server for too long. Reload page!\"\n    view = new Flash alert: msg, hide: false\n    view.render()\n\nexport default Disconnection","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Services } from \"loco-js\";\n\nimport CommentModel from \"models/article/comment.coffee\";\n\nfunction Comment({ comment }) {\n  const createdAt = new Services.Date(comment.createdAt).strftime(\"%d %b %y\");\n\n  return (\n    <p id={`comment_${comment.id}`}>\n      <b>{comment.author}</b> on <i>{createdAt}</i> (\n      <a\n        href={`/admin/articles/${comment.articleId}/comments/${\n          comment.id\n        }/edit`}\n      >\n        edit\n      </a>\n      )\n      <br />\n      {comment.text}\n    </p>\n  );\n}\n\nComment.propTypes = {\n  comment: PropTypes.instanceOf(CommentModel).isRequired\n};\n\nexport default Comment;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport CommentModel from \"models/article/comment.coffee\";\nimport Comment from \"components/admin/comment\";\n\nfunction CommentList({ comments }) {\n  if (comments.length === 0) {\n    return <p>No comments</p>;\n  }\n  return (\n    <>\n      {comments.map(comment => (\n        <Comment comment={comment} key={comment.id} />\n      ))}\n    </>\n  );\n}\n\nCommentList.propTypes = {\n  comments: PropTypes.arrayOf(PropTypes.instanceOf(CommentModel)).isRequired\n};\n\nexport default CommentList;\n","import React from \"react\";\nimport { render as renderElement } from \"react-dom\";\nimport { Views } from \"loco-js\";\n\nimport CommentList from \"components/admin/CommentList\";\n\nclass Edit extends Views.Base {\n  constructor(opts = {}) {\n    super(opts);\n    this.article = null;\n  }\n\n  receivedSignal(signal) {\n    switch (signal) {\n      case \"updated\":\n        this.article.reload().then(() => {\n          this.article.applyChanges();\n          this._renderArticle();\n        });\n    }\n  }\n\n  render(article) {\n    this.article = article;\n    this.connectWith(article);\n    this._renderArticle();\n  }\n\n  renderComments(comments) {\n    renderElement(\n      <CommentList comments={comments} />,\n      document.getElementById(\"comments\")\n    );\n  }\n\n  _renderArticle() {\n    document.getElementById(\"article_author\").textContent = this.article.author;\n    document.getElementById(\"article_title\").textContent = this.article.title;\n    document.getElementById(\"article_text\").textContent = this.article.content;\n  }\n}\n\nexport default Edit;\n","import { Views, UI } from \"loco-js\";\n\nclass Form extends Views.Base {\n  constructor(opts = {}) {\n    super(opts);\n  }\n\n  render(article) {\n    article.setDefaultValuesForAdminReview();\n    const form = new UI.Form({ id: \"edit_article_form\", for: article });\n    form.render();\n  }\n}\n\nexport default Form;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Services } from \"loco-js\";\n\nimport ArticleModel from \"models/article.coffee\";\n\nfunction Article({ article }) {\n  const date = new Services.Date(article.publishedAt).toString(\"short\");\n\n  return (\n    <article id={`article_${article.id}`}>\n      <h2>{article.title}</h2>\n      <p>\n        <i>\n          {article.author} wrote this on {date} /{\" \"}\n          <span className=\"comments_quantity\">\n            {article.commentsCount} comment\n            {article.commentsCount === 1 ? \"\" : \"s\"}\n          </span>\n        </i>\n      </p>\n      <p>{article.content}</p>\n      <p>\n        <a href={`/admin/articles/${article.id}/edit`}>Review</a>\n      </p>\n    </article>\n  );\n}\n\nArticle.propTypes = {\n  article: PropTypes.instanceOf(ArticleModel).isRequired\n};\n\nexport default Article;\n","import React, { useEffect, useState } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport store from \"stores/admin\";\nimport Article from \"components/admin/Article\";\nimport ArticleModel from \"models/article.coffee\";\n\nfunction ArticleListWrapper(props) {\n  const [articles, setArticles] = useState(props.articles);\n\n  useEffect(() => {\n    const unsubscribe = store.subscribe(() =>\n      setArticles(store.getState().articles)\n    );\n\n    return () => {\n      unsubscribe();\n    };\n  });\n\n  const list = articles.map(article => (\n    <Article key={article.id} article={article} />\n  ));\n\n  return <>{list}</>;\n}\n\nArticleListWrapper.propTypes = {\n  articles: PropTypes.arrayOf(PropTypes.instanceOf(ArticleModel)).isRequired\n};\n\nexport default ArticleListWrapper;\n","import React from \"react\";\nimport { render } from \"react-dom\";\nimport { Controllers } from \"loco-js\";\n\nimport store from \"stores/admin\";\nimport Article from \"models/article.coffee\";\nimport Comment from \"models/article/comment.coffee\";\nimport Edit from \"views/admin/articles/Edit\";\nimport Form from \"views/admin/articles/Form\";\n\nimport ArticleList from \"containers/admin/StatefulArticleList\";\n\nclass Articles extends Controllers.Base {\n  published() {\n    Article.get(\"published\").then(resp => {\n      store.dispatch({\n        type: \"SET_ARTICLES\",\n        payload: { articles: resp.resources }\n      });\n      render(\n        <ArticleList articles={resp.resources} />,\n        document.getElementById(\"articles\")\n      );\n    });\n  }\n\n  edit() {\n    const editView = new Edit();\n    Article.find(this.params.id).then(article => {\n      editView.render(article);\n      new Form().render(article);\n    });\n    Comment.all({ articleId: this.params.id }).then(resp => {\n      editView.renderComments(resp.resources);\n    });\n  }\n}\n\nexport default Articles;\n","import { Env, UI, Views } from \"loco-js\";\n\nimport CommentModel from \"models/article/comment.coffee\";\n\nclass Form extends Views.Base {\n  constructor(opts = {}) {\n    super(opts);\n  }\n\n  render(opts = {}) {\n    const form = new UI.Form({\n      for: new CommentModel({ id: opts.commentId, resource: \"admin\" }),\n      id: `edit_comment_${opts.commentId}`,\n      initObj: true\n    });\n    form.render();\n\n    // only for testing purpose\n    Env.test = { commentFormObj: form.getObj() };\n  }\n}\n\nexport default Form;\n","import { Controllers } from \"loco-js\";\n\nimport Form from \"views/admin/comments/Form\";\n\nclass Comments extends Controllers.Base {\n  edit() {\n    new Form().render({ commentId: this.params.id });\n  }\n}\n\nexport default Comments;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Env } from \"loco-js\";\n\nimport UserModel from \"models/user.coffee\";\n\nconst User = ({ user }) => {\n  const ping = (e, userId) => {\n    e.preventDefault();\n    Env.loco.emit({ signal: \"ping\", user_id: userId });\n  };\n\n  return (\n    <tr id={`user_${user.id}`}>\n      <td>{user.email}</td>\n      <td>{user.username}</td>\n      <td className=\"confirmed\">{user.confirmed ? \"Yes\" : \"No\"}</td>\n      <td>\n        <a href={`/admin/users/${user.id}`}>Show</a> |{\" \"}\n        <a href={`/admin/users/${user.id}/edit`}>Edit</a> |{\" \"}\n        <a\n          href={`/admin/users/${user.id}`}\n          data-method=\"delete\"\n          data-confirm=\"Are you sure?\"\n        >\n          Delete\n        </a>{\" \"}\n        |{\" \"}\n        <a href=\"#\" onClick={e => ping(e, user.id)}>\n          Ping\n        </a>\n      </td>\n    </tr>\n  );\n};\n\nUser.propTypes = {\n  user: PropTypes.instanceOf(UserModel).isRequired\n};\n\nexport default User;\n","import React, { useEffect, useState } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport store from \"stores/admin\";\nimport User from \"components/admin/User\";\nimport UserModel from \"models/user.coffee\";\n\nfunction UserListWrapper(props) {\n  const [users, setUsers] = useState(props.users);\n\n  useEffect(() => {\n    const unsubscribe = store.subscribe(() => setUsers(store.getState().users));\n\n    return () => {\n      unsubscribe();\n    };\n  });\n\n  const list = users.map(user => <User key={`user_${user.id}`} user={user} />);\n\n  return <>{list}</>;\n}\n\nUserListWrapper.propTypes = {\n  users: PropTypes.arrayOf(PropTypes.instanceOf(UserModel)).isRequired\n};\n\nexport default UserListWrapper;\n","import { Views } from \"loco-js\";\n\nclass Show extends Views.Base {\n  constructor(opts = {}) {\n    super(opts);\n    this.user = opts.user;\n  }\n\n  render() {\n    document.getElementById(\"user_email\").textContent = this.user.email;\n    document.getElementById(\"user_username\").textContent = this.user.username;\n    document.getElementById(\"user_confirmed\").textContent = this.user.confirmed\n      ? \"Yes\"\n      : \"No\";\n    this._updateEditLink();\n  }\n\n  _updateEditLink() {\n    const editLink = document.getElementById(\"edit_link\");\n    const href = editLink.getAttribute(\"href\");\n    editLink.setAttribute(\"href\", href.replace(\"/0/\", \"/#{@user.id}/\"));\n  }\n}\n\nexport default Show;\n","import { UI, Views } from \"loco-js\";\n\nclass Form extends Views.Base {\n  constructor(opts = {}) {\n    super(opts);\n    this.user = opts.user;\n  }\n\n  render() {\n    const form = new UI.Form({\n      for: this.user,\n      initObj: true,\n      id: \"admin_user_form\"\n    });\n    form.render();\n  }\n}\n\nexport default Form;\n","import React from \"react\";\nimport { render as renderElement } from \"react-dom\";\nimport { Controllers } from \"loco-js\";\n\nimport store from \"stores/admin\";\nimport User from \"models/user.coffee\";\nimport UserList from \"containers/admin/StatefulUserList\";\nimport Show from \"views/admin/users/Show\";\nimport Form from \"views/admin/users/Form\";\n\nclass Users extends Controllers.Base {\n  index() {\n    User.get(\"all\").then(resp => {\n      store.dispatch({ type: \"SET_USERS\", payload: { users: resp.resources } });\n      renderElement(\n        <UserList users={resp.resources} />,\n        document.querySelector(\"table tbody\")\n      );\n    });\n  }\n\n  show() {\n    User.find(this.params.id).then(user => new Show({ user: user }).render());\n  }\n\n  edit() {\n    const view = new Form({ user: new User({ id: this.params.id }) });\n    view.render();\n  }\n}\n\nexport default Users;\n","import { Controllers, Mix } from \"loco-js\";\n\nimport Disconnection from \"./concerns/disconnection.coffee\";\nimport Articles from \"./admin/Articles\";\nimport Comments from \"./admin/Comments\";\nimport Users from \"./admin/Users\";\n\nclass Admin extends Mix(Controllers.Base, Disconnection) {\n  initialize() {\n    this.setScope(\"admin\");\n  }\n}\n\nObject.assign(Admin, {\n  Articles,\n  Comments,\n  Users\n});\n\nexport default Admin;\n","export const commentsForArticle = (state, articleId) => {\n  return state.comments[articleId];\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Services } from \"loco-js\";\n\nimport CommentModel from \"models/article/comment.coffee\";\n\nfunction Comment({ comment }) {\n  const createdAt = new Services.Date(comment.createdAt).strftime(\"%d %b %y\");\n\n  return (\n    <p id={`comment_${comment.id}`}>\n      <b>{comment.author}</b> on <i>{createdAt}</i> wrote:\n      <br />\n      {comment.text}\n    </p>\n  );\n}\n\nComment.propTypes = {\n  comment: PropTypes.instanceOf(CommentModel).isRequired\n};\n\nexport default Comment;\n","import React, { useEffect, useState } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport store from \"stores/main\";\nimport { commentsForArticle } from \"selectors/comments\";\nimport Comment from \"components/main/Comment\";\nimport CommentModel from \"models/article/comment.coffee\";\n\nfunction StatefulCommentList(props) {\n  const articleId = props.articleId;\n  const [comments, setComments] = useState(props.comments);\n\n  useEffect(() => {\n    const unsubscribe = store.subscribe(() => {\n      setComments(commentsForArticle(store.getState(), articleId));\n    });\n\n    return () => {\n      unsubscribe();\n    };\n  });\n\n  const list = comments.map(comment => (\n    <Comment key={comment.id} comment={comment} />\n  ));\n\n  if (comments.length === 0) {\n    return <p id=\"no_comments\">No comments.</p>;\n  }\n\n  return <>{list}</>;\n}\n\nStatefulCommentList.propTypes = {\n  articleId: PropTypes.number.isRequired,\n  comments: PropTypes.arrayOf(PropTypes.instanceOf(CommentModel)).isRequired\n};\n\nexport default StatefulCommentList;\n","import React, { useEffect, useState } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport store from \"stores/main\";\nimport { commentsForArticle } from \"selectors/comments\";\nimport CommentModel from \"models/article/comment.coffee\";\n\nfunction CommentsNumber(props) {\n  const [comments, setComments] = useState(props.comments);\n\n  useEffect(() => {\n    const unsubscribe = store.subscribe(() => {\n      setComments(commentsForArticle(store.getState(), props.articleId));\n    });\n\n    return () => {\n      unsubscribe();\n    };\n  });\n\n  return <>{`${comments.length} comment${comments.length === 1 ? \"\" : \"s\"}`}</>;\n}\n\nCommentsNumber.propTypes = {\n  articleId: PropTypes.number.isRequired,\n  comments: PropTypes.arrayOf(PropTypes.instanceOf(CommentModel)).isRequired\n};\n\nexport default CommentsNumber;\n","import { Helpers, Services, UI, Views } from \"loco-js\";\n\nimport Flash from \"views/shared/flash.coffee\";\n\nclass Show extends Views.Base {\n  constructor(opts = {}) {\n    super(opts);\n    this.article = null;\n    this.newComment = opts.comment;\n  }\n\n  render() {\n    const form = new UI.Form({\n      for: this.newComment,\n      initObj: true,\n      id: \"new_comment\"\n    });\n    form.render();\n  }\n\n  renderArticle(article = null) {\n    if (!this.article) {\n      this.article = article;\n      this.connectWith(this.article, { receiver: \"_articleReceivedSignal\" });\n    }\n    document.getElementById(\"title\").textContent = this.article.title;\n    document.getElementById(\"author\").textContent = this.article.author;\n    const dateService = new Services.Date(this.article.publishedAt);\n    document.getElementById(\"pub_date\").textContent = dateService.toString(\n      \"short\"\n    );\n    const textEl = document.getElementById(\"text\");\n    textEl.innerHTML = \"\";\n    const text = new Helpers.Text().simpleFormat(this.article.content);\n    textEl.insertAdjacentHTML(\"beforeend\", text);\n  }\n\n  _articleReceivedSignal(signal) {\n    switch (signal) {\n      case \"updating\": {\n        const txt =\n          \"Author is currently editing article. Be aware of possible changes.\";\n        const flash = new Flash({ warning: txt });\n        flash.render();\n        break;\n      }\n      case \"updated\":\n        this.article.reload().then(() => {\n          this.article.applyChanges();\n          this.renderArticle();\n        });\n    }\n  }\n}\n\nexport default Show;\n","import React from \"react\";\nimport { render } from \"react-dom\";\nimport { Controllers } from \"loco-js\";\n\nimport store from \"stores/main\";\nimport CommentList from \"containers/main/articles/StatefulCommentList\";\nimport CommentsNumber from \"containers/main/articles/CommentsNumber\";\n\nimport Article from \"models/article.coffee\";\nimport Comment from \"models/article/comment.coffee\";\nimport Show from \"views/main/articles/Show\";\n\nclass Articles extends Controllers.Base {\n  show() {\n    const newComment = new Comment({ articleId: this.params.id });\n    const view = new Show({ comment: newComment });\n    view.render();\n    Article.find(this.params.id).then(article => view.renderArticle(article));\n    Comment.get(\"count\", { articleId: this.params.id }).then(res => {\n      Comment.all({ articleId: this.params.id, total: res.total }).then(\n        comments => {\n          store.dispatch({\n            type: \"SET_COMMENTS\",\n            payload: { articleId: this.params.id, comments }\n          });\n          render(\n            React.createElement(CommentList, {\n              articleId: this.params.id,\n              comments\n            }),\n            document.getElementById(\"comments\")\n          );\n          render(\n            React.createElement(CommentsNumber, {\n              articleId: this.params.id,\n              comments\n            }),\n            document.getElementById(\"comments_count\")\n          );\n        }\n      );\n    });\n  }\n}\n\nexport default Articles;\n","import React, { useState } from \"react\";\n\nimport Article from \"models/article.coffee\";\nimport store from \"stores/main\";\n\nexport default function LoadMoreLink() {\n  const [page, setPage] = useState(1);\n  const [noMorePosts, setNoMorePosts] = useState(false);\n\n  function handleClick(e) {\n    e.preventDefault();\n    const currentPage = page + 1;\n    setPage(currentPage);\n    Article.get(\"all\", { page: currentPage })\n      .then(resp => {\n        if (resp.resources.length > 0) {\n          store.dispatch({\n            type: \"ADD_ARTICLES\",\n            payload: { articles: resp.resources }\n          });\n        } else {\n          setNoMorePosts(true);\n        }\n      })\n      .catch(err => alert(`Invalid URL: ${err}`));\n  }\n\n  function output() {\n    if (noMorePosts) return <span>No more posts.</span>;\n    else\n      return (\n        <a href=\"#\" id=\"load_more\" onClick={handleClick}>\n          Load more\n        </a>\n      );\n  }\n\n  return output();\n}\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Services } from \"loco-js\";\n\nimport ArticleModel from \"models/article.coffee\";\n\nfunction Article({ article }) {\n  const date = new Services.Date(article.publishedAt).toString(\"short\");\n\n  return (\n    <article id={`article_${article.id}`}>\n      <h2>{article.title}</h2>\n      <p>\n        <i>\n          {article.author} wrote this on {date} /{\" \"}\n          <a\n            href={`/articles/${article.id}#comments`}\n            className=\"comments_quantity\"\n          >\n            {article.commentsCount} comment\n            {article.commentsCount === 1 ? \"\" : \"s\"}\n          </a>\n        </i>\n      </p>\n      <p>{article.content}</p>\n      <p>\n        <a href={`/articles/${article.id}`}>Continued</a>\n      </p>\n    </article>\n  );\n}\n\nArticle.propTypes = {\n  article: PropTypes.instanceOf(ArticleModel).isRequired\n};\n\nexport default Article;\n","import React, { useEffect, useState } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport store from \"stores/main\";\nimport Article from \"components/main/Article\";\nimport ArticleModel from \"models/article.coffee\";\n\nfunction StatefulArticleList(props) {\n  const [articles, setArticles] = useState(props.articles);\n\n  useEffect(() => {\n    const unsubscribe = store.subscribe(() =>\n      setArticles(store.getState().articles)\n    );\n\n    return () => {\n      unsubscribe();\n    };\n  });\n\n  const list = articles.map(article => (\n    <Article key={article.id} article={article} />\n  ));\n\n  return <>{list}</>;\n}\n\nStatefulArticleList.propTypes = {\n  articles: PropTypes.arrayOf(PropTypes.instanceOf(ArticleModel)).isRequired\n};\n\nexport default StatefulArticleList;\n","import React from \"react\";\nimport { render as renderElement } from \"react-dom\";\nimport { Controllers } from \"loco-js\";\n\nimport store from \"stores/main\";\nimport Article from \"models/article.coffee\";\nimport LoadMoreLink from \"containers/main/pages/LoadMoreLink\";\nimport ArticleList from \"containers/main/pages/StatefulArticleList\";\n\nclass Pages extends Controllers.Base {\n  index() {\n    renderElement(\n      <LoadMoreLink />,\n      document.getElementById(\"load_more_wrapper\")\n    );\n\n    Article.get(\"all\", { page: 1 }).then(resp => {\n      store.dispatch({\n        type: \"SET_ARTICLES\",\n        payload: { articles: resp.resources }\n      });\n      renderElement(\n        <ArticleList articles={resp.resources} />,\n        document.getElementById(\"articles\")\n      );\n    });\n  }\n}\n\nexport default Pages;\n","import { UI, Views } from \"loco-js\"\n\nimport User from \"models/user.coffee\"\nimport Flash from \"views/shared/flash.coffee\"\n\nclass UserRegistrationForm extends Views.Base\n  constructor: (opts = {}) ->\n    super opts\n\n  render: ->\n    form = new UI.Form for: new User, delegator: this, callbackSuccess: '_created'\n    form.render()\n\n  receivedSignal: (signal, data) ->\n    switch signal\n      when 'confirming' then this._confirming()\n      when 'confirmed' then this._confirmed()\n\n  _created: (data) ->\n    this.connectWith new User(id: data.id)\n    document.querySelector('form').style.display = 'none'\n    document.getElementById('sign_in_paragraph').classList.remove('none')\n    document.getElementById('verification_info').classList.remove('none')\n    flash = new Flash notice: data.notice\n    flash.render()\n\n  _confirming: ->\n    document.getElementById('verification_info').textContent = document.getElementById('verification_progress').textContent\n\n  _confirmed: -> window.location.href = '/user/sessions/new?event=confirmed'\n\nexport default UserRegistrationForm","import { Controllers } from \"loco-js\"\n\nimport UserRegistrationForm from \"views/main/users/user_registration_form.coffee\"\n\nclass Users extends Controllers.Base\n  new: ->\n    view = new UserRegistrationForm\n    view.render()\n\nexport default Users\n","import { Controllers, Mix } from \"loco-js\";\n\nimport Disconnection from \"./concerns/disconnection.coffee\";\nimport Articles from \"./main/Articles\";\nimport Pages from \"./main/Pages\";\nimport Users from \"./main/users.coffee\";\n\nclass Main extends Mix(Controllers.Base, Disconnection) {\n  initialize() {\n    this.setScope(\"main\");\n  }\n}\n\nObject.assign(Main, {\n  Articles,\n  Pages,\n  Users\n});\n\nexport default Main;\n","import { Views } from \"loco-js\";\n\nclass User extends Views.Base\n  constructor: (opts = {}) -> super opts\n\nexport default User;\n","import { Views } from \"loco-js\";\n\nimport FlashView from \"views/shared/flash.coffee\";\n\nclass Show extends Views.Base\n  constructor: (opts = {}) ->\n    super opts\n    @article = null\n\n  renderArticle: (article = null) ->\n    if not @article?\n      this.connectWith article, receiver: \"articleReceivedSignal\"\n      @article = article\n    document.getElementById('article_title').textContent = @article.title\n    document.getElementById('article_text').textContent = @article.content\n    node = document.getElementById('publish_article')\n    if node and @article.publishedAt?\n      node.style.display = 'none'\n    else if node\n      node.style.display = ''\n    this._handlePublishing()\n    this._updateEditLink()\n\n  articleReceivedSignal: (signal, data) ->\n    switch signal\n      when \"updated\"\n        @article.reload().then =>\n          @article.applyChanges()\n          this.renderArticle()\n      when \"destroyed\"\n        window.location.href = \"/user/articles?message=deleted\"\n\n  _handlePublishing: ->\n    document.getElementById('publish_article').addEventListener 'click', (e) =>\n      e.preventDefault()\n      e.target.textContent = 'Publishing...'\n      @article.put(\"publish\")\n      .then (res) ->\n        document.getElementById('publish_article').outerHTML = '<span>Published!</span>'\n      .catch (err) ->\n        e.target.textContent = 'Publish'\n        flash = new FlashView alert: \"Connection error!\"\n        flash.render()\n\n  _updateEditLink: ->\n    href = document.getElementById('edit_link').getAttribute('href')\n    document.getElementById('edit_link').setAttribute('href', href.replace(\"/0/\", \"/#{@article.id}/\"))\n\nexport default Show;\n","import { UI, Views } from \"loco-js\";\n\nimport Comment from \"models/article/comment.coffee\";\n\nimport FlashView from \"views/shared/flash.coffee\";\n\nclass Form extends Views.Base\n  constructor: (opts = {}) ->\n    super opts\n    @article = null\n    @comments = null\n    @form = null\n    @changes = null\n\n  render: (article = null) ->\n    @article = article\n    this.connectWith @article\n    this.connectWith [Comment], receiver: 'receivedArticleCommentSignal'\n    this._handleApplyingChanges()\n    @form = new UI.Form for: @article\n    @form.render()\n\n  renderComments: (comments) ->\n    @comments = comments\n    if comments.length is 0\n      document.getElementById('comments').insertAdjacentHTML('beforeend', '<p id=\"no_comments\">No comments.</p>')\n      return\n    noCommentNode = document.getElementById('no_comments')\n    if noCommentNode\n      noCommentNode.parentNode.removeChild(noCommentNode)\n    this._renderComment comment for comment in comments\n    this._handleApprovingComment()\n\n  receivedSignal: (signal, data) ->\n    switch signal\n      when \"updating\"\n        if document.querySelector('h1').getAttribute('data-mark') isnt data.mark\n          flash = new FlashView warning: 'Uuups someone else started editing this article.'\n          flash.render()\n      when \"updated\"\n        @article.reload().then =>\n          @changes = @article.changes()\n          this._displayChanges()\n      when \"destroyed\"\n        window.location.href = \"/user/articles?message=deleted\"\n\n  receivedArticleCommentSignal: (signal, data) ->\n    return if not @article.id?\n    return if data.article_id? and data.article_id isnt @article.id\n    switch signal\n      when 'Article.Comment created'\n        Comment.find(articleId: data.article_id, id: data.id).then (comment) =>\n          this.renderComments [comment]\n      when 'Article.Comment updated'\n        Comment.find(articleId: data.article_id, id: data.id).then (comment) =>\n          this._renderComment comment\n      when 'Article.Comment destroyed'\n        commentNode = document.getElementById(\"comment_#{data.id}\")\n        commentNode.parentNode.removeChild(commentNode)\n\n  _renderComment: (comment) ->\n    template = JST[\"templates/user/comments/comment\"] {comment: comment, isAdmin: true}\n    commentNode = document.getElementById(\"comment_#{comment.id}\")\n    if commentNode\n      commentNode.outerHTML = template\n    else\n      document.getElementById('comments').insertAdjacentHTML('beforeend', template)\n\n  _displayChanges: ->\n    for attrib, changes of @changes\n      sel = document.querySelector(\"a.apply_changes[data-for=#{@article.getAttrRemoteName(attrib)}]\")\n      continue unless sel\n      sel.classList.remove('none')\n\n  _handleApplyingChanges: ->\n    for sel in document.querySelectorAll('a.apply_changes')\n      sel.addEventListener 'click', (e) =>\n        e.preventDefault()\n        attrName = @article.getAttrName(e.target.getAttribute('data-for'))\n        @article[attrName] = @changes[attrName].is\n        @form.fill attrName\n        e.target.classList.add('none')\n\n  _handleApprovingComment: ->\n    for el in document.querySelectorAll('a.approve')\n      el.addEventListener 'click', (e) =>\n        e.preventDefault()\n        commentId = parseInt e.target.parentNode.getAttribute('data-id')\n        commentToApprove = null\n        for comment in @comments\n          continue if comment.id isnt commentId\n          commentToApprove = comment\n          break\n        commentToApprove.approved = true\n        commentToApprove.updateAttribute 'approved'\n        .then (res) ->\n          document.getElementById(\"comment_#{res.id}\").querySelector('a.approve').outerHTML = '<span>approved</span>'\n\nexport default Form;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport ArticleModel from \"models/article.coffee\";\n\nimport store from \"stores/user\";\n\nfunction Article({ article, onArticleDestroyed }) {\n  const handleDeletingArticle = e => {\n    e.preventDefault();\n    if (!confirm(\"Are you sure?\")) return;\n    article.delete(null).then(data => {\n      if (data.success) {\n        store.dispatch({\n          type: \"REMOVE_ARTICLE\",\n          payload: { id: data.id }\n        });\n      }\n      onArticleDestroyed(data);\n    });\n  };\n\n  return (\n    <tr id={`article_${article.id}`}>\n      <td>{article.title}</td>\n      <td>{article.content}</td>\n      <td className=\"comments_quantity\">{article.commentsCount}</td>\n      <td className=\"published\">{article.publishedAt ? \"yes\" : \"no\"}</td>\n      <td>\n        <a href={`/user/articles/${article.id}`}>Show</a> |\n        <a href={`/user/articles/${article.id}/edit`}>Edit</a> |\n        <a\n          href={`/user/articles/${article.id}`}\n          className=\"delete_article\"\n          onClick={handleDeletingArticle}\n        >\n          Delete\n        </a>\n      </td>\n    </tr>\n  );\n}\n\nArticle.propTypes = {\n  article: PropTypes.instanceOf(ArticleModel).isRequired,\n  onArticleDestroyed: PropTypes.func.isRequired\n};\n\nexport default Article;\n","import React, { useEffect, useState } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport store from \"stores/user\";\nimport Article from \"components/user/Article\";\nimport ArticleModel from \"models/article.coffee\";\n\nfunction ArticleList(props) {\n  const [articles, setArticles] = useState(props.articles);\n\n  useEffect(() => {\n    const unsubscribe = store.subscribe(() =>\n      setArticles(store.getState().articles)\n    );\n\n    return () => {\n      unsubscribe();\n    };\n  });\n\n  const list = articles.map(article => (\n    <Article\n      key={article.id}\n      article={article}\n      onArticleDestroyed={props.onArticleDestroyed}\n    />\n  ));\n\n  return <>{list}</>;\n}\n\nArticleList.propTypes = {\n  articles: PropTypes.arrayOf(PropTypes.instanceOf(ArticleModel)).isRequired,\n  onArticleDestroyed: PropTypes.func.isRequired\n};\n\nexport default ArticleList;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Services } from \"loco-js\";\n\nimport CommentModel from \"models/article/comment.coffee\";\n\nfunction Comment({ comment, isAdmin = false }) {\n  const createdAt = new Services.Date(comment.createdAt).strftime(\"%d %b %y\");\n\n  const adminSection = () => {\n    let approveLink;\n\n    if (comment.approved) {\n      approveLink =\n        (\n          <a\n            href={`/user/articles/${comment.articleId}/comments/${\n              comment.id\n            }/approve`}\n            className=\"approve\"\n          >\n            approve\n          </a>\n        ) + \" | \";\n    }\n\n    return (\n      <>\n        {approveLink}\n        <a\n          href={`/user/articles/${comment.articleId}/comments/${\n            comment.id\n          }/edit`}\n        >\n          edit\n        </a>{\" \"}\n        |\n        <a\n          href={`/user/articles/${comment.articleId}/comments/${comment.id}`}\n          data-method=\"delete\"\n          data-confirm=\"Are you sure?\"\n        >\n          delete\n        </a>\n      </>\n    );\n  };\n\n  return (\n    <p id={`comment_${comment.id}`} data-id={comment.id}>\n      <b>{comment.author}</b> on <i>{createdAt}</i>\n      {isAdmin ? `(${adminSection()})` : \"\"}\n      <br />\n      {comment.text}\n    </p>\n  );\n}\n\nComment.propTypes = {\n  comment: PropTypes.instanceOf(CommentModel).isRequired,\n  isAdmin: PropTypes.bool\n};\n\nexport default Comment;\n","import React, { useEffect, useState } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport store from \"stores/user\";\nimport { commentsForArticle } from \"selectors/comments\";\nimport Comment from \"components/shared/Comment\";\nimport CommentModel from \"models/article/comment.coffee\";\n\nfunction CommentList(props) {\n  const articleId = props.articleId;\n  const [comments, setComments] = useState(props.comments);\n\n  useEffect(() => {\n    const unsubscribe = store.subscribe(() =>\n      setComments(commentsForArticle(store.getState(), articleId))\n    );\n\n    return () => {\n      unsubscribe();\n    };\n  });\n\n  if (comments.length === 0) return <p>No comments.</p>;\n\n  const list = comments.map(comment => (\n    <Comment key={comment.id} comment={comment} />\n  ));\n\n  return <>{list}</>;\n}\n\nCommentList.propTypes = {\n  articleId: PropTypes.number.isRequired,\n  comments: PropTypes.arrayOf(PropTypes.instanceOf(CommentModel)).isRequired\n};\n\nexport default CommentList;\n","import React from \"react\";\nimport { render } from \"react-dom\";\nimport { Controllers } from \"loco-js\"\n\nimport store from \"stores/user\";\n\nimport UserLayout from \"views/layouts/user.coffee\";\nimport FlashView from \"views/shared/flash.coffee\";\nimport ShowView from \"views/user/articles/show.coffee\";\nimport FormView from \"views/user/articles/form.coffee\";\n\nimport Article from \"models/article.coffee\";\nimport Comment from \"models/article/comment.coffee\";\n\nimport ArticleList from \"containers/user/ArticleList\";\nimport CommentList from \"containers/user/CommentList\";\n\nclass Articles extends Controllers.Base\n  initialize: ->\n    this.layout = new UserLayout\n\n  onArticleDestroyed: (res) ->\n    flash = new FlashView\n    if res.success\n      flash.setNotice res.notice\n    else\n      flash.setAlert res.alert\n    flash.render()\n\n  index: ->\n    if this.params.message is 'deleted'\n      flash = new FlashView alert: 'Article has been deleted.'\n      flash.render()\n    Article.get(\"all\").then (resp) =>\n      store.dispatch({\n        type: \"SET_ARTICLES\",\n        payload: { articles: resp.resources }\n      });\n      render(\n        React.createElement(ArticleList, {\n          articles: resp.resources,\n          onArticleDestroyed: this.onArticleDestroyed\n        }),\n        document.getElementById(\"article_list\");\n      );\n\n  show: ->\n    this.showView = new ShowView\n    Article.find(this.params.id).then (article) =>\n      store.dispatch({\n        type: \"SET_ARTICLES\",\n        payload: { articles: [article] }\n      });\n      this.showView.renderArticle(article)\n    Comment.all(articleId: this.params.id).then (resp) =>\n      store.dispatch({\n        type: \"SET_COMMENTS\",\n        payload: { articleId: this.params.id, comments: resp.resources }\n      });\n      render(\n        React.createElement(CommentList, {\n          articleId: this.params.id,\n          comments: resp.resources\n        }),\n        document.getElementById(\"comments\");\n      );\n\n  new: ->\n    view = new FormView;\n    view.render(new Article);\n\n  edit: ->\n    view = new FormView;\n    Article.find(this.params.id).then (article) -> view.render article\n    Comment.all(articleId: this.params.id).then (resp) ->\n      view.renderComments(resp.resources)\n\nexport default Articles\n","import { Controllers, Mix } from \"loco-js\";\n\nimport Disconnection from \"./concerns/disconnection.coffee\";\nimport Articles from \"./user/articles.coffee\";\n\nclass User extends Mix(Controllers.Base, Disconnection) {}\n\nObject.assign(User, {\n  Articles\n});\n\nexport default User;\n","import { Env, Views } from \"loco-js\";\n\nimport adminStore from \"stores/admin\";\nimport mainStore from \"stores/main\";\nimport userStore from \"stores/user\";\nimport { findArticle, findComment } from \"selectors/articles\";\n\nimport Article from \"models/article.coffee\";\nimport Comment from \"models/article/comment.coffee\";\nimport User from \"models/user.coffee\";\n\nimport AdminController from \"controllers/Admin\";\nimport MainController from \"controllers/Main\";\nimport UserController from \"controllers/User\";\n\nconst articleCreated = ({ id }) => {\n  if (Env.namespaceController.constructor !== UserController) return;\n  Article.find({ id, abbr: true }).then(article => {\n    userStore.dispatch({\n      type: \"ADD_ARTICLES\",\n      payload: { articles: [article] }\n    });\n  });\n};\n\nconst articlePublished = ({ id }) => {\n  if (Env.namespaceController.constructor === AdminController) {\n    Article.find({ id, abbr: true, resource: \"admin\" }).then(article => {\n      adminStore.dispatch({\n        type: \"PREPEND_ARTICLE\",\n        payload: { articles: [article] }\n      });\n    });\n  } else {\n    Article.find({ id, abbr: true }).then(article => {\n      mainStore.dispatch({\n        type: \"ADD_ARTICLES\",\n        payload: { articles: [article] }\n      });\n    });\n  }\n};\n\nconst articleUpdated = ({ id }) => {\n  const findParams = { id: id, abbr: true };\n  let store = mainStore;\n\n  if (Env.namespaceController.constructor === AdminController) {\n    findParams[\"resource\"] = \"admin\";\n    store = adminStore;\n  } else if (Env.namespaceController.constructor === UserController) {\n    store = userStore;\n  }\n\n  const [article, index] = findArticle(store.getState(), id);\n  if (!article) return;\n  Article.find(findParams).then(article =>\n    store.dispatch({\n      type: \"UPDATE_ARTICLE\",\n      payload: { article, index }\n    })\n  );\n};\n\nconst commentsChanged = ({ article_id: articleId }, diff) => {\n  let store = mainStore;\n  if (Env.namespaceController.constructor === AdminController) {\n    store = adminStore;\n  } else if (Env.namespaceController.constructor === UserController) {\n    store = userStore;\n  }\n  const [article, index] = findArticle(store.getState(), articleId);\n  if (!article) return;\n  store.dispatch({\n    type: \"UPDATE_ARTICLE\",\n    payload: {\n      article: new Article({\n        ...article,\n        commentsCount: article.commentsCount + diff\n      }),\n      index: index\n    }\n  });\n};\n\nconst commentCreated = ({ article_id: articleId, id }) => {\n  let store = userStore;\n  const findParams = { articleId, id };\n\n  if (Env.namespaceController.constructor === MainController) {\n    store = mainStore;\n    findParams[\"resource\"] = \"main\";\n  }\n  const [article] = findArticle(store.getState(), articleId);\n  if (!article) return;\n  Comment.find(findParams).then(comment =>\n    store.dispatch({\n      type: \"ADD_COMMENTS\",\n      payload: { articleId, comments: [comment] }\n    })\n  );\n};\n\nconst commentDestroyed = ({ article_id: articleId, id }) => {\n  let store = mainStore;\n  if (Env.namespaceController.constructor === UserController) {\n    store = userStore;\n  }\n  store.dispatch({\n    type: \"REMOVE_COMMENT\",\n    payload: { id, articleId }\n  });\n};\n\nconst commentUpdated = ({ article_id: articleId, id }) => {\n  let store = mainStore;\n  if (Env.namespaceController.constructor === UserController) {\n    store = userStore;\n  }\n  const [comment, index] = findComment(store.getState(), id, {\n    parentId: articleId\n  });\n  if (!comment) return;\n  comment.reload().then(() => {\n    comment.applyChanges();\n    store.dispatch({\n      type: \"UPDATE_COMMENT\",\n      payload: { comment, index, articleId }\n    });\n  });\n};\n\nclass Connectivity extends Views.Base {\n  constructor(opts = {}) {\n    super(opts);\n  }\n\n  receivedSignal(signal, data) {\n    switch (signal) {\n      case \"Article created\":\n        articleCreated(data);\n        break;\n      case \"Article published\":\n        articlePublished(data);\n        break;\n      case \"Article updated\":\n        articleUpdated(data);\n        break;\n      case \"Article.Comment created\":\n        commentsChanged(data, 1);\n        commentCreated(data);\n        break;\n      case \"Article.Comment destroyed\":\n        commentsChanged(data, -1);\n        commentDestroyed(data);\n        break;\n      case \"Article.Comment updated\":\n        commentUpdated(data);\n        break;\n      case \"User created\":\n        User.find(data.id).then(user =>\n          adminStore.dispatch({\n            type: \"PREPEND_USER\",\n            payload: { users: [user] }\n          })\n        );\n        break;\n    }\n  }\n\n  call() {\n    this.connectWith([Article, Comment, User]);\n  }\n}\n\nexport default Connectivity;\n","import { Deps, Env, Loco } from \"loco-js\";\nimport ActionCable from \"actioncable\";\nimport NotificationCenter from \"services/notification_center.coffee\";\nimport Connectivity from \"services/Connectivity\";\n\nDeps.cable = ActionCable.createConsumer();\nDeps.NotificationCenter = NotificationCenter;\n\nconst connectivity = new Connectivity();\n\nconst loco = new Loco({\n  notifications: {\n    enable: true,\n    log: true,\n    size: 10\n  },\n  postInit: () => {\n    connectivity.call();\n\n    if (\n      document.querySelector(\"body\").getAttribute(\"data-rails-env\") !== \"test\"\n    )\n      return;\n    Env.loco.getWire().setPollingTime(1000);\n  }\n});\n\nloco.init();\n","import { Env, I18n, Validators } from \"loco-js\";\n\nclass Vulgarity extends Validators.Base\n  @identity = 'Vulgarity'\n\n  constructor: -> super\n\n  validate: ->\n    return if not @val?\n    switch typeof @val\n      when 'string'\n        vulgarWord = this._getVulgarWord()\n        if ///#{vulgarWord}///i.exec @val\n          this._addErrorMessage()\n        else\n          return\n      else\n        throw new TypeError \"Vulgarity validator is applicable only for strings and #{@attr} isn't.\"\n\n  _addErrorMessage: ->\n    message = I18n[Env.loco.getLocale()].errors.messages.vulgarity\n    @obj.addErrorMessage message, for: @attr\n\n  _getVulgarWord: ->\n    switch Env.loco.getLocale()\n      when 'pl' then 'kurwa'\n      when 'en' then 'fuck'\n\nexport default Vulgarity\n","import { Validators } from \"loco-js\";\n\nimport Vulgarity from \"./vulgarity.coffee\";\n\nObject.assign(Validators, {\n  Vulgarity\n});\n","import { I18n } from \"loco-js\";\n\nI18n.pl =\n  variants:\n    few: (i) ->\n      num = parseInt App.Utils.String.last String(i)\n      [2,3,4].indexOf(num) isnt -1 and not(String(i).length is 2 && String(i)[0] is '1')\n  models: {}\n  attributes: {}\n  ui:\n    form:\n      sending: \"Wysyam...\"\n      success: \"Sukces\"\n      errors:\n        connection: \"Bd z poczeniem\"\n        invalid_data: \"Nieprawidowe dane\"\n  date:\n    formats:\n      default: \"%d-%m-%Y\"\n      short: \"%d %b\"\n      long: \"%B %d, %Y\"\n    day_names: [\"niedziela\", \"poniedziaek\", \"wtorek\", \"roda\", \"czwartek\", \"pitek\", \"sobota\"]\n    abbr_day_names: [\"nie\", \"pon\", \"wto\", \"ro\", \"czw\", \"pi\", \"sob\"]\n    month_names: [\"stycze\", \"luty\", \"marzec\", \"kwiecie\", \"maj\", \"czerwiec\", \"lipiec\", \"sierpie\", \"wrzesie\", \"padziernik\", \"listopad\", \"grudzie\"]\n    abbr_month_names: [\"sty\", \"lut\", \"mar\", \"kwi\", \"maj\", \"cze\", \"lip\", \"sie\", \"wrz\", \"pa\", \"lis\", \"gru\"]\n  errors:\n    messages:\n      accepted: \"musi zosta zaakceptowane\"\n      blank: \"nie moe by puste\"\n      confirmation: \"nie zgadza si z polem %{attribute}\"\n      empty: \"nie moe by puste\"\n      equal_to: \"musi by rwne %{count}\"\n      even: \"musi by parzyste\"\n      exclusion: \"jest zarezerwowane\"\n      greater_than: \"musi by wiksze od %{count}\"\n      greater_than_or_equal_to: \"musi by wiksze lub rwne %{count}\"\n      inclusion: \"nie znajduje si na licie dopuszczalnych wartoci\"\n      invalid: \"jest nieprawidowe\"\n      less_than: \"musi by mniejsze od %{count}\"\n      less_than_or_equal_to: \"musi by mniejsze lub rwne %{count}\"\n      not_a_number: \"nie jest liczb\"\n      not_an_integer: \"musi by liczb cakowit\"\n      odd: \"musi by nieparzyste\"\n      present: \"musi by puste\"\n      too_long:\n        few: \"jest za dugie (maksymalnie %{count} znaki)\"\n        many: \"jest za dugie (maksymalnie %{count} znakw)\"\n        one: \"jest za dugie (maksymalnie jeden znak)\"\n        other: \"jest za dugie (maksymalnie %{count} znakw)\"\n      too_short:\n        few: \"jest za krtkie (przynajmniej %{count} znaki)\"\n        many: \"jest za krtkie (przynajmniej %{count} znakw)\"\n        one: \"jest za krtkie (przynajmniej jeden znak)\"\n        other: \"jest za krtkie (przynajmniej %{count} znakw)\"\n      wrong_length:\n        few: \"ma nieprawidow dugo (powinna wynosi %{count} znaki)\"\n        many: \"ma nieprawidow dugo (powinna wynosi %{count} znakw)\"\n        one: \"ma nieprawidow dugo (powinna wynosi jeden znak)\"\n        other: \"ma nieprawidow dugo (powinna wynosi %{count} znakw)\"\n      other_than: \"musi by inna ni %{count}\"\n","import { I18n } from \"loco-js\";\n\nI18n.pl.models.User = 'Uytkownik'\nI18n.pl.attributes.User =\n  password: 'Haso'\n  passwordConfirmation: 'Powtrz haso'\n","import { I18n } from \"loco-js\";\n\nI18n.en.errors.messages.vulgarity = 'contains strong language.';\n","import { I18n } from \"loco-js\";\n\nI18n.pl.errors.messages.vulgarity = 'zawiera mocny jzyk.'\n","import { Controllers } from \"loco-js\";\n\nimport Admin from \"controllers/Admin\";\nimport Main from \"controllers/Main\";\nimport User from \"controllers/User\";\n\nObject.assign(Controllers, {\n  Admin,\n  Main,\n  User\n});\n","import { Models } from \"loco-js\";\n\nimport Article from \"./article.coffee\";\nimport Comment from \"./article/comment.coffee\";\nimport User from \"./user.coffee\";\n\nObject.assign(Article, { Comment });\n\nObject.assign(Models, {\n  Article,\n  User\n});\n"],"sourceRoot":""}