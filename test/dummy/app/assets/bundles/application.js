!function(e){function t(t){for(var r,a,c=t[0],u=t[1],l=t[2],s=0,p=[];s<c.length;s++)a=c[s],o[a]&&p.push(o[a][0]),o[a]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);for(f&&f(t);p.length;)p.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,c=1;c<n.length;c++){var u=n[c];0!==o[u]&&(r=!1)}r&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},o={0:0},i=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var c=window.webpackJsonp=window.webpackJsonp||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var f=u;i.push([143,1]),n()}({101:function(e,t,n){},102:function(e,t,n){},143:function(e,t,n){"use strict";n.r(t);n(101),n(102);var r=n(98);n.n(r).a.start();var o=n(1),i=n(99);n(4),n(5),n(6),n(3),n(33),n(10),n(11),n(2),n(7),n(8);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var s=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=u(this,l(t).call(this,n))).notice=n.notice,e.alert=n.alert,e.warning=n.warning,e.hide=n.hide,e}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,o["Views"].Base),n=t,(r=[{key:"setNotice",value:function(e){this.notice=e}},{key:"setAlert",value:function(e){this.alert=e}},{key:"setWarning",value:function(e){this.warning=e}},{key:"render",value:function(){var e=document.querySelector(".flash");e.classList.remove("notice"),e.classList.remove("alert"),e.classList.remove("warning"),null!=this.notice?(e.classList.add("notice"),document.querySelector(".flash p").textContent=this.notice):null!=this.alert?(e.classList.add("alert"),document.querySelector(".flash p").textContent=this.alert):null!=this.warning&&(e.classList.add("warning"),document.querySelector(".flash p").textContent=this.warning),e.classList.remove("none"),this.hide&&this.hideAfterTime()}},{key:"hideAfterTime",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4e3;setTimeout(function(){document.querySelector(".flash").classList.add("none")},e)}}])&&c(n.prototype,r),i&&c(n,i),t}(),p={disconnectedForTooLong:function(){new s({alert:"You have been disconnected from the server for too long. Reload page!",hide:!1}).render()}},y=(n(29),n(0)),m=n.n(y),b=n(16),d="ADD_ARTICLES",h="PREPEND_ARTICLES",v="REMOVE_ARTICLE",w="SET_ARTICLES",g="UPDATE_ARTICLE",O="ADD_COMMENTS",_="REMOVE_COMMENT",j="SET_COMMENTS",S="UPDATE_COMMENT",E="PREPEND_USERS";function k(e){return{type:d,payload:{articles:e}}}function P(e){return{type:w,payload:{articles:e}}}function C(e,t){return{type:g,payload:{article:e,index:t}}}function I(e,t){return{type:j,payload:{comments:e,articleId:t}}}function A(e,t,n){return{type:S,payload:{comment:e,articleId:t,index:n}}}var T=n(23);n(26),n(52),n(53),n(92),n(30);function x(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return[].concat(x(e),x(t.payload.articles));case h:return[].concat(x(t.payload.articles),x(e));case v:return e.filter(function(e){return e.id!==t.payload.id});case w:return x(t.payload.articles);case g:return[].concat(x(e.slice(0,t.payload.index)),[t.payload.article],x(e.slice(t.payload.index+1)));default:return e}};n(66),n(67),n(68),n(69);function B(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){D(e,t,n[t])})}return e}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var N=Object(T.a)({articles:R,comments:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return z({},e,D({},t.payload.articleId,[].concat(B(e[t.payload.articleId]),B(t.payload.comments))));case _:return null==e[t.payload.articleId]?e:z({},e,D({},t.payload.articleId,e[t.payload.articleId].filter(function(e){return e.id!==t.payload.id})));case j:return D({},t.payload.articleId,t.payload.comments);case S:var n=t.payload.articleId,r=t.payload.index;if(!r){var o=e[n].find(function(e){return e.id===t.payload.comment.id});r=e[n].indexOf(o)}return z({},e,D({},n,[].concat(B(e[n].slice(0,r)),[t.payload.comment],B(e[n].slice(r+1)))));default:return e}}}),L=Object(T.b)(N,{articles:[],comments:{}});function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(e,t){return!t||"object"!==q(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function V(e){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function U(e,t){return(U=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var F=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),M(this,V(t).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&U(e,t)}(t,o["Views"].Base),t}();n(94);function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function J(e,t){return!t||"object"!==W(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Y(e){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $(e,t){return($=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var G=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=J(this,Y(t).call(this,n))).article=null,e}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$(e,t)}(t,o["Views"].Base),n=t,(r=[{key:"renderArticle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null==this.article&&(this.connectWith(e,{receiver:"articleReceivedSignal"}),this.article=e),document.getElementById("article_title").textContent=this.article.title,document.getElementById("article_text").textContent=this.article.content;var t=document.getElementById("publish_article");t&&null!=this.article.publishedAt?t.style.display="none":t&&(t.style.display=""),this._handlePublishing(),this._updateEditLink()}},{key:"articleReceivedSignal",value:function(e){var t=this;switch(e){case"updated":this.article.reload().then(function(){t.article.applyChanges(),t.renderArticle()});break;case"destroyed":window.location.href="/user/articles?message=deleted"}}},{key:"_handlePublishing",value:function(){var e=this;document.getElementById("publish_article").addEventListener("click",function(t){t.preventDefault(),t.target.textContent="Publishing...",e.article.put("publish").then(function(){return document.getElementById("publish_article").outerHTML="<span>Published!</span>"}).catch(function(){t.target.textContent="Publish",new s({alert:"Connection error!"}).render()})})}},{key:"_updateEditLink",value:function(){var e=document.getElementById("edit_link").getAttribute("href");document.getElementById("edit_link").setAttribute("href",e.replace("/0/","/".concat(this.article.id,"/")))}}])&&H(n.prototype,r),i&&H(n,i),t}();n(129),n(131);function K(e){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Q(e,t){return!t||"object"!==K(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function X(e){return(X=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Z(e,t){return(Z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var te=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Q(this,X(t).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Z(e,t)}(t,o["Models"].Base),t}();ee(te,"identity","Article.Comment"),ee(te,"remoteName","Comment"),ee(te,"resources",{url:"/user/articles/:articleId/comments",paginate:{per:10},main:{url:"/articles/:articleId/comments",paginate:{per:5,param:"page-num"}},admin:{url:"/admin/articles/:articleId/comments",paginate:{per:5}}}),ee(te,"attributes",{author:{validations:{presence:!0}},text:{validations:{presence:!0,vulgarity:!0}},articleId:{type:"Int",validations:{presence:!0},remoteName:"article_id"},createdAt:{type:"Date",remoteName:"created_at"},updatedAt:{type:"Date",remoteName:"updated_at"},emotion:{type:"Int"},pinned:{type:"Boolean"},adminRate:{type:"Int",remoteName:"admin_rate"},approved:{type:"Boolean"}});var ne=te,re=(n(31),n(9)),oe=n.n(re),ie=function(e,t){return e.comments[t]};function ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ce(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ue(e){var t,n=e.comment,r=e.isAdmin,i=void 0!==r&&r,a=ce(Object(y.useState)(!1),2),c=a[0],u=a[1],l=new o.Services.Date(n.createdAt).strftime("%d %b %y"),f=function(e){e.preventDefault(),u(!0),n.approved=!0,n.updateAttribute("approved").then(function(e){e.ok&&L.dispatch(A(new ne(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ae(e,t,n[t])})}return e}({},n,{approved:!0})),n.articleId))})};return m.a.createElement("p",{id:"comment_".concat(n.id)},m.a.createElement("b",null,n.author)," on ",m.a.createElement("i",null,l),i?(t=n.approved?m.a.createElement(m.a.Fragment,null,m.a.createElement("span",null,"approved")," |"," "):c?m.a.createElement(m.a.Fragment,null,m.a.createElement("span",null,"approving...")," |"," "):m.a.createElement(m.a.Fragment,null,m.a.createElement("a",{href:"/user/articles/".concat(n.articleId,"/comments/").concat(n.id,"/approve"),className:"approve",onClick:f},"approve")," ","|"," "),m.a.createElement(m.a.Fragment,null," ","(",t,m.a.createElement("a",{href:"/user/articles/".concat(n.articleId,"/comments/").concat(n.id,"/edit")},"edit")," ","|"," ",m.a.createElement("a",{href:"/user/articles/".concat(n.articleId,"/comments/").concat(n.id),"data-method":"delete","data-confirm":"Are you sure?"},"delete"),")")):"",m.a.createElement("br",null),n.text)}ue.propTypes={comment:oe.a.instanceOf(ne).isRequired,isAdmin:oe.a.bool};var le=ue;function fe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function se(e){var t=e.articleId,n=e.isAdmin||!1,r=fe(Object(y.useState)(e.comments),2),o=r[0],i=r[1];if(Object(y.useEffect)(function(){var e=L.subscribe(function(){return i(ie(L.getState(),t))});return function(){e()}}),0===o.length)return m.a.createElement("p",null,"No comments.");var a=o.map(function(e){return m.a.createElement(le,{key:e.id,comment:e,isAdmin:n})});return m.a.createElement(m.a.Fragment,null,a)}se.propTypes={articleId:oe.a.number.isRequired,isAdmin:oe.a.bool,comments:oe.a.arrayOf(oe.a.instanceOf(ne)).isRequired};var pe=se;function ye(e){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function me(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function de(e,t){return!t||"object"!==ye(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function he(e){return(he=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ve(e,t){return(ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var we=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=de(this,he(t).call(this,n))).article=null,e.form=null,e.changes=null,e}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ve(e,t)}(t,o["Views"].Base),n=t,(r=[{key:"render",value:function(e){L.dispatch(k([e])),this.article=e,this.connectWith(this.article),this._handleApplyingChanges(),this.form=new o.UI.Form({for:this.article}),this.form.render()}},{key:"renderComments",value:function(e){ne.all({articleId:e}).then(function(t){L.dispatch(I(t.resources,e)),Object(b.render)(m.a.createElement(pe,{articleId:e,comments:t.resources,isAdmin:!0}),document.getElementById("comments"))})}},{key:"receivedSignal",value:function(e,t){var n=this;switch(e){case"updating":if(document.querySelector("h1").getAttribute("data-mark")!==t.mark)new s({warning:"Uuups someone else started editing this article."}).render();break;case"updated":this.article.reload().then(function(){n.changes=n.article.changes(),n._displayChanges()});break;case"destroyed":window.location.href="/user/articles?message=deleted"}}},{key:"_displayChanges",value:function(){for(var e=0,t=Object.entries(this.changes);e<t.length;e++){var n=me(t[e],1)[0],r=document.querySelector("a.apply_changes[data-for=".concat(this.article.getAttrRemoteName(n),"]"));r&&r.classList.remove("none")}}},{key:"_handleApplyingChanges",value:function(){for(var e=this,t=0,n=Array.from(document.querySelectorAll("a.apply_changes"));t<n.length;t++){n[t].addEventListener("click",function(t){t.preventDefault();var n=e.article.getAttrName(t.target.getAttribute("data-for"));e.article[n]=e.changes[n].is,e.form.fill(n),t.target.classList.add("none")})}}}])&&be(n.prototype,r),i&&be(n,i),t}();function ge(e){return(ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _e(e,t){return!t||"object"!==ge(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function je(e){return(je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Se(e,t){return(Se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ke=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=_e(this,je(t).call(this,e))).published=null!=n.publishedAt,n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Se(e,t)}(t,o["Models"].Base),n=t,(r=[{key:"vulgarityLevel",value:function(){(null!=this.title&&/fuck/i.exec(this.title)||null!=this.content&&/fuck/i.exec(this.content))&&this.addErrorMessage("Article contains strong language.",{for:"base"})}},{key:"setDefaultValuesForAdminReview",value:function(){this.adminRate=null==this.adminRate?3:this.adminRate,this.categoryId=null==this.categoryId?6:this.categoryId,this.adminReviewStartedAt=Date.now()}}])&&Oe(n.prototype,r),i&&Oe(n,i),t}();Ee(ke,"identity","Article"),Ee(ke,"resources",{url:"/user/articles",paginate:{per:5},main:{url:"/articles",paginate:{per:3}},admin:{url:"/admin/articles",paginate:{per:4}}}),Ee(ke,"attributes",{title:{validations:{presence:!0,length:{within:[3,255]}}},content:{validations:{presence:!0,length:{minimum:100}},remoteName:"text"},createdAt:{type:"Date",remoteName:"created_at"},updatedAt:{type:"Date",remoteName:"updated_at"},commentsCount:{type:"Int",remoteName:"comments_count"},publishedAt:{type:"Date",remoteName:"published_at"},published:{},adminReview:{remoteName:"admin_review"},adminRate:{type:"Int",remoteName:"admin_rate"},categoryId:{type:"Int",remoteName:"category_id"},adminReviewStartedAt:{remoteName:"admin_review_started_at"}}),Ee(ke,"validate",["vulgarityLevel"]);var Pe=ke;function Ce(e){var t=e.article,n=e.onArticleDestroyed;return m.a.createElement("tr",{id:"article_".concat(t.id)},m.a.createElement("td",null,t.title),m.a.createElement("td",null,t.content),m.a.createElement("td",{className:"comments_quantity"},t.commentsCount),m.a.createElement("td",{className:"published"},t.publishedAt?"yes":"no"),m.a.createElement("td",null,m.a.createElement("a",{href:"/user/articles/".concat(t.id)},"Show")," |",m.a.createElement("a",{href:"/user/articles/".concat(t.id,"/edit")},"Edit")," |",m.a.createElement("a",{href:"/user/articles/".concat(t.id),className:"delete_article",onClick:function(e){e.preventDefault(),confirm("Are you sure?")&&t.delete(null).then(function(e){var t;e.success&&L.dispatch((t=e.id,{type:v,payload:{id:t}})),n(e)})}},"Delete")))}Ce.propTypes={article:oe.a.instanceOf(Pe).isRequired,onArticleDestroyed:oe.a.func.isRequired};var Ie=Ce;function Ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Te(e){var t=Ae(Object(y.useState)(e.articles),2),n=t[0],r=t[1];Object(y.useEffect)(function(){var e=L.subscribe(function(){return r(L.getState().articles)});return function(){e()}});var o=n.map(function(t){return m.a.createElement(Ie,{key:t.id,article:t,onArticleDestroyed:e.onArticleDestroyed})});return m.a.createElement(m.a.Fragment,null,o)}Te.propTypes={articles:oe.a.arrayOf(oe.a.instanceOf(Pe)).isRequired,onArticleDestroyed:oe.a.func.isRequired};var xe=Te;function Re(e){return(Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ze(e,t){return!t||"object"!==Re(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function De(e){return(De=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ne(e,t){return(Ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Le=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ze(this,De(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ne(e,t)}(t,o["Controllers"].Base),n=t,(r=[{key:"initialize",value:function(){this.layout=new F}},{key:"onArticleDestroyed",value:function(e){var t=new s;e.success?t.setNotice(e.notice):t.setAlert(e.alert),t.render()}},{key:"index",value:function(){var e=this;"deleted"===this.params.message&&new s({alert:"Article has been deleted."}).render();Pe.get("all").then(function(t){L.dispatch(P(t.resources)),Object(b.render)(m.a.createElement(xe,{articles:t.resources,onArticleDestroyed:e.onArticleDestroyed}),document.getElementById("article_list"))})}},{key:"show",value:function(){var e=this;this.showView=new G,Pe.find(this.params.id).then(function(t){L.dispatch(P([t])),e.showView.renderArticle(t)}),ne.all({articleId:this.params.id}).then(function(t){L.dispatch(I(t.resources,e.params.id)),Object(b.render)(m.a.createElement(pe,{articleId:e.params.id,comments:t.resources}),document.getElementById("comments"))})}},{key:"new",value:function(){(new we).render(new Pe)}},{key:"edit",value:function(){var e=new we;Pe.find(this.params.id).then(function(t){return e.render(t)}),e.renderComments(this.params.id)}}])&&Be(n.prototype,r),i&&Be(n,i),t}();function qe(e){return(qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Me(e,t){return!t||"object"!==qe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ve(e){return(Ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ue(e,t){return(Ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var We=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Me(this,Ve(t).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ue(e,t)}(t,o["Models"].Base),t}();Fe(We,"identity","Room.Member"),Fe(We,"resources",{url:"/user/rooms/:roomId/members",paginate:{per:100}}),Fe(We,"attributes",{}),Fe(We,"validate",[]);var He=We;n(135),n(96);function Je(e){return(Je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ye(e,t){return!t||"object"!==Je(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $e(e){return($e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ke(e,t,n){return t&&Ge(e.prototype,t),n&&Ge(e,n),e}function Qe(e,t){return(Qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ze=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ye(this,$e(t).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qe(e,t)}(t,o["Models"].Base),Ke(t,null,[{key:"receivedSignal",value:function(e){console.log("User.receivedSignal: ".concat(e))}}]),Ke(t,[{key:"receivedSignal",value:function(e){console.log("User#receivedSignal: ".concat(e))}}]),t}();Xe(Ze,"identity","User"),Xe(Ze,"resources",{url:"/users",admin:{url:"/admin/users"}}),Xe(Ze,"paginate",{per:10}),Xe(Ze,"attributes",{email:{validations:{presence:!0,format:{with:/^([^@\s]+)@((?:[-a-z0-9]+\.)+[a-z]{2,})$/i}}},username:{validations:{presence:!0,format:{with:/^[a-z][a-z0-9_-]*$/i}}},password:{validations:{presence:{on:"create"},confirmation:!0}},passwordConfirmation:{remoteName:"password_confirmation"},confirmed:{},createdAt:{type:"Date",remoteName:"created_at"},updatedAt:{type:"Date",remoteName:"updated_at"}});var et=Ze;function tt(e){return(tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rt(e,t){return!t||"object"!==tt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ot(e){return(ot=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function it(e,t){return(it=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var at=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),rt(this,ot(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&it(e,t)}(t,o["Views"].Base),n=t,(r=[{key:"render",value:function(){this.connectWith(et)}},{key:"receivedSignal",value:function(e,t){switch(e){case"Room member_joined":this._memberJoined(t.room_id);break;case"Room member_left":this._memberLeft(t.room_id);break;case"Room created":var n=this._renderRoom(t.room);document.getElementById("rooms_list").insertAdjacentHTML("beforeend",n);break;case"Room destroyed":var r=document.getElementById("room_".concat(t.room_id));r.parentNode.removeChild(r)}}},{key:"_memberJoined",value:function(e){var t=this._membersNode(e);t.textContent=parseInt(t.text())+1}},{key:"_memberLeft",value:function(e){var t=this._membersNode(e);t.textContent=parseInt(t.text())-1}},{key:"_membersNode",value:function(e){document.querySelector("#room_".concat(e," td.members"))}},{key:"_renderRoom",value:function(e){"\n    <tr id='room_".concat(e.id,"'>\n      <td>").concat(e.name,"</td>\n      <td class='members'>0</td>\n      <td>\n        <a rel='nofollow' data-method='patch' href='/user/rooms/").concat(e.id,"/join'>Join</a> |\n        <a data-confirm='R U sure?' rel='nofollow' data-method='delete'\n          href='/user/rooms/").concat(e.id,"'>Destroy</a>\n      </td>\n    </tr>\n    ")}}])&&nt(n.prototype,r),i&&nt(n,i),t}();function ct(e){return(ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ut(e,t){return!t||"object"!==ct(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function lt(e){return(lt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ft(e,t){return(ft=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function st(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pt=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ut(this,lt(t).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ft(e,t)}(t,o["Models"].Base),t}();st(pt,"identity","Room"),st(pt,"resources",{}),st(pt,"attributes",{}),st(pt,"validate",[]);var yt=pt;function mt(e){return(mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dt(e,t){return!t||"object"!==mt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ht(e){return(ht=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vt(e,t){return(vt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var wt=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=dt(this,ht(t).call(this,n))).roomId=n.id,e}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vt(e,t)}(t,o["Views"].Base),n=t,(r=[{key:"render",value:function(){this.connectWith(yt),this._handleSendingMessage()}},{key:"renderMembers",value:function(e){var t=!0,n=!1,r=void 0;try{for(var o,i=e[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;this._memberJoined(a)}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}}},{key:"receivedMessage",value:function(e,t){var n="<p><b>".concat(t,"</b>: ").concat(e,"</p>");document.getElementById("messages").insertAdjacentHTML("beforeend",n)}},{key:"receivedSignal",value:function(e,t){switch(e){case"Room member_joined":if(t.room_id!==this.roomId)return;this._memberJoined(t.member);break;case"Room member_left":if(t.room_id!==this.roomId)return;this._memberLeft(t.member)}}},{key:"_handleSendingMessage",value:function(){var e=this;document.querySelector("[data-behavior~=room-speaker]").addEventListener("keypress",function(t){13===t.keyCode&&(t.preventDefault(),o.Env.loco.emit({signal:"message",txt:t.target.value,room_id:e.roomId}),t.target.value="")})}},{key:"_memberJoined",value:function(e){var t="<li id='user_".concat(e.id,"'>").concat(e.username,"</li>");document.getElementById("members").insertAdjacentHTML("beforeend",t)}},{key:"_memberLeft",value:function(e){var t=document.querySelector("#members li#user_".concat(e.id));t.parentNode.removeChild(t)}}])&&bt(n.prototype,r),i&&bt(n,i),t}();function gt(e){return(gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ot(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _t(e,t){return!t||"object"!==gt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function jt(e){return(jt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function St(e,t){return(St=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Et=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),_t(this,jt(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&St(e,t)}(t,o["Controllers"].Base),n=t,(r=[{key:"initialize",value:function(){}},{key:"index",value:function(){(new at).render()}},{key:"show",value:function(){var e=new wt({id:this.params.id});this.setView("show",e),e.render(),He.all({roomId:this.params.id}).then(function(t){return e.renderMembers(t.resources)})}}])&&Ot(n.prototype,r),i&&Ot(n,i),t}();function kt(e){return(kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pt(e,t){return!t||"object"!==kt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ct(e){return(Ct=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function It(e,t){return(It=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Object.assign(o.Controllers.Base.prototype,p);var At=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Pt(this,Ct(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&It(e,t)}(t,o["Controllers"].Base),t}();Object.assign(At,{Articles:Le,Rooms:Et});var Tt=At;function xt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Rt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"receivedSignal",value:function(e){switch(e.signal){case"ping":this._pingSignal();break;case"message":this._messageSignal(e)}}},{key:"_pingSignal",value:function(){o.Env.namespaceController.constructor===Tt&&alert("Ping!")}},{key:"_messageSignal",value:function(e){var t=this._getRoomView();t&&t.receivedMessage(e.message,e.author)}},{key:"_getRoomView",value:function(){return o.Env.namespaceController.constructor===Tt&&(o.Env.controller.constructor===Et&&("show"===o.Env.action&&o.Env.controller.getView("show")))}}])&&xt(t.prototype,n),r&&xt(t,r),e}();function Bt(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var zt=Object(T.a)({articles:R,users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USERS":return Bt(t.payload.users);case E:return[].concat(Bt(t.payload.users),Bt(e));default:return e}}}),Dt=Object(T.b)(zt,{users:[],articles:[]}),Nt=Object(T.b)(N,{articles:[],comments:{}}),Lt=function(e){return function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=t[e];r.parentId&&(o=o[r.parentId]);var i=o.find(function(e){return e.id===n});return i?[i,o.indexOf(i)]:[null,null]}},qt=Lt("articles"),Mt=Lt("comments");function Vt(e){var t=e.comment,n=new o.Services.Date(t.createdAt).strftime("%d %b %y");return m.a.createElement("p",{id:"comment_".concat(t.id)},m.a.createElement("b",null,t.author)," on ",m.a.createElement("i",null,n)," (",m.a.createElement("a",{href:"/admin/articles/".concat(t.articleId,"/comments/").concat(t.id,"/edit")},"edit"),")",m.a.createElement("br",null),t.text)}Vt.propTypes={comment:oe.a.instanceOf(ne).isRequired};var Ut=Vt;function Ft(e){var t=e.comments;return 0===t.length?m.a.createElement("p",null,"No comments"):m.a.createElement(m.a.Fragment,null,t.map(function(e){return m.a.createElement(Ut,{comment:e,key:e.id})}))}Ft.propTypes={comments:oe.a.arrayOf(oe.a.instanceOf(ne)).isRequired};var Wt=Ft;function Ht(e){return(Ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yt(e,t){return!t||"object"!==Ht(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $t(e){return($t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gt(e,t){return(Gt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Kt=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=Yt(this,$t(t).call(this,n))).article=null,e}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gt(e,t)}(t,o["Views"].Base),n=t,(r=[{key:"receivedSignal",value:function(e){var t=this;switch(e){case"updated":this.article.reload().then(function(){t.article.applyChanges(),t._renderArticle()})}}},{key:"render",value:function(e){this.article=e,this.connectWith(e),this._renderArticle()}},{key:"renderComments",value:function(e){Object(b.render)(m.a.createElement(Wt,{comments:e}),document.getElementById("comments"))}},{key:"_renderArticle",value:function(){document.getElementById("article_author").textContent=this.article.author,document.getElementById("article_title").textContent=this.article.title,document.getElementById("article_text").textContent=this.article.content}}])&&Jt(n.prototype,r),i&&Jt(n,i),t}();function Qt(e){return(Qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zt(e,t){return!t||"object"!==Qt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function en(e){return(en=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tn(e,t){return(tn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var nn=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Zt(this,en(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tn(e,t)}(t,o["Views"].Base),n=t,(r=[{key:"render",value:function(e){e.setDefaultValuesForAdminReview(),new o.UI.Form({id:"edit_article_form",for:e}).render()}}])&&Xt(n.prototype,r),i&&Xt(n,i),t}();function rn(e){var t=e.article,n=new o.Services.Date(t.publishedAt).toString("short");return m.a.createElement("article",{id:"article_".concat(t.id)},m.a.createElement("h2",null,t.title),m.a.createElement("p",null,m.a.createElement("i",null,t.author," wrote this on ",n," /"," ",m.a.createElement("span",{className:"comments_quantity"},t.commentsCount," comment",1===t.commentsCount?"":"s"))),m.a.createElement("p",null,t.content),m.a.createElement("p",null,m.a.createElement("a",{href:"/admin/articles/".concat(t.id,"/edit")},"Review")))}rn.propTypes={article:oe.a.instanceOf(Pe).isRequired};var on=rn;function an(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function cn(e){var t=an(Object(y.useState)(e.articles),2),n=t[0],r=t[1];Object(y.useEffect)(function(){var e=Dt.subscribe(function(){return r(Dt.getState().articles)});return function(){e()}});var o=n.map(function(e){return m.a.createElement(on,{key:e.id,article:e})});return m.a.createElement(m.a.Fragment,null,o)}cn.propTypes={articles:oe.a.arrayOf(oe.a.instanceOf(Pe)).isRequired};var un=cn;function ln(e){return(ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sn(e,t){return!t||"object"!==ln(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function pn(e){return(pn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yn(e,t){return(yn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var mn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),sn(this,pn(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yn(e,t)}(t,o["Controllers"].Base),n=t,(r=[{key:"published",value:function(){Pe.get("published").then(function(e){Dt.dispatch(P(e.resources)),Object(b.render)(m.a.createElement(un,{articles:e.resources}),document.getElementById("articles"))})}},{key:"edit",value:function(){var e=new Kt;Pe.find(this.params.id).then(function(t){e.render(t),(new nn).render(t)}),ne.all({articleId:this.params.id}).then(function(t){e.renderComments(t.resources)})}}])&&fn(n.prototype,r),i&&fn(n,i),t}();function bn(e){return(bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hn(e,t){return!t||"object"!==bn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function vn(e){return(vn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wn(e,t){return(wn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var gn=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),hn(this,vn(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wn(e,t)}(t,o["Views"].Base),n=t,(r=[{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new o.UI.Form({for:new ne({id:e.commentId,resource:"admin"}),id:"edit_comment_".concat(e.commentId),initObj:!0});t.render(),o.Env.test={commentFormObj:t.getObj()}}}])&&dn(n.prototype,r),i&&dn(n,i),t}();function On(e){return(On="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jn(e,t){return!t||"object"!==On(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Sn(e){return(Sn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function En(e,t){return(En=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var kn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),jn(this,Sn(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&En(e,t)}(t,o["Controllers"].Base),n=t,(r=[{key:"edit",value:function(){(new gn).render({commentId:this.params.id})}}])&&_n(n.prototype,r),i&&_n(n,i),t}();function Pn(e){return(Pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function In(e,t){return!t||"object"!==Pn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function An(e){return(An=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Tn(e,t){return(Tn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var xn=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),In(this,An(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tn(e,t)}(t,o["Views"].Base),n=t,(r=[{key:"render",value:function(){new o.UI.Form({id:"sign_in_admin",delegator:this,callbackSuccess:"_signedIn"}).render()}},{key:"_signedIn",value:function(){window.location.href="/admin"}}])&&Cn(n.prototype,r),i&&Cn(n,i),t}();function Rn(e){return(Rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zn(e,t){return!t||"object"!==Rn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Dn(e){return(Dn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Nn(e,t){return(Nn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ln=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),zn(this,Dn(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nn(e,t)}(t,o["Controllers"].Base),n=t,(r=[{key:"new",value:function(){(new xn).render()}}])&&Bn(n.prototype,r),i&&Bn(n,i),t}(),qn=function(e){var t=e.user;return m.a.createElement("tr",{id:"user_".concat(t.id)},m.a.createElement("td",null,t.email),m.a.createElement("td",null,t.username),m.a.createElement("td",{className:"confirmed"},t.confirmed?"Yes":"No"),m.a.createElement("td",null,m.a.createElement("a",{href:"/admin/users/".concat(t.id)},"Show")," |"," ",m.a.createElement("a",{href:"/admin/users/".concat(t.id,"/edit")},"Edit")," |"," ",m.a.createElement("a",{href:"/admin/users/".concat(t.id),"data-method":"delete","data-confirm":"Are you sure?"},"Delete")," ","|"," ",m.a.createElement("a",{href:"#",onClick:function(e){return function(e,t){e.preventDefault(),o.Env.loco.emit({signal:"ping",user_id:t})}(e,t.id)}},"Ping")))};qn.propTypes={user:oe.a.instanceOf(et).isRequired};var Mn=qn;function Vn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Un(e){var t=Vn(Object(y.useState)(e.users),2),n=t[0],r=t[1];Object(y.useEffect)(function(){var e=Dt.subscribe(function(){return r(Dt.getState().users)});return function(){e()}});var o=n.map(function(e){return m.a.createElement(Mn,{key:"user_".concat(e.id),user:e})});return m.a.createElement(m.a.Fragment,null,o)}Un.propTypes={users:oe.a.arrayOf(oe.a.instanceOf(et)).isRequired};var Fn=Un;function Wn(e){return(Wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jn(e,t){return!t||"object"!==Wn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Yn(e){return(Yn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $n(e,t){return($n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Gn=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=Jn(this,Yn(t).call(this,n))).user=n.user,e}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$n(e,t)}(t,o["Views"].Base),n=t,(r=[{key:"render",value:function(){document.getElementById("user_email").textContent=this.user.email,document.getElementById("user_username").textContent=this.user.username,document.getElementById("user_confirmed").textContent=this.user.confirmed?"Yes":"No",this._updateEditLink()}},{key:"_updateEditLink",value:function(){var e=document.getElementById("edit_link"),t=e.getAttribute("href");e.setAttribute("href",t.replace("/0/","/#{@user.id}/"))}}])&&Hn(n.prototype,r),i&&Hn(n,i),t}();function Kn(e){return(Kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xn(e,t){return!t||"object"!==Kn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Zn(e){return(Zn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function er(e,t){return(er=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var tr=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=Xn(this,Zn(t).call(this,n))).user=n.user,e}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&er(e,t)}(t,o["Views"].Base),n=t,(r=[{key:"render",value:function(){new o.UI.Form({for:this.user,initObj:!0,id:"admin_user_form"}).render()}}])&&Qn(n.prototype,r),i&&Qn(n,i),t}();function nr(e){return(nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function or(e,t){return!t||"object"!==nr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ir(e){return(ir=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ar(e,t){return(ar=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var cr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),or(this,ir(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ar(e,t)}(t,o["Controllers"].Base),n=t,(r=[{key:"index",value:function(){et.get("all").then(function(e){var t;Dt.dispatch((t=e.resources,{type:E,payload:{users:t}})),Object(b.render)(m.a.createElement(Fn,{users:e.resources}),document.querySelector("table tbody"))})}},{key:"show",value:function(){et.find(this.params.id).then(function(e){return new Gn({user:e}).render()})}},{key:"edit",value:function(){new tr({user:new et({id:this.params.id})}).render()}}])&&rr(n.prototype,r),i&&rr(n,i),t}();function ur(e){return(ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fr(e,t){return!t||"object"!==ur(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function sr(e){return(sr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pr(e,t){return(pr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Object.assign(o.Controllers.Base.prototype,p);var yr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),fr(this,sr(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pr(e,t)}(t,o["Controllers"].Base),n=t,(r=[{key:"initialize",value:function(){this.setScope("admin")}}])&&lr(n.prototype,r),i&&lr(n,i),t}();Object.assign(yr,{Articles:mn,Comments:kn,Sessions:Ln,Users:cr});var mr=yr;function br(e){var t=e.comment,n=new o.Services.Date(t.createdAt).strftime("%d %b %y");return m.a.createElement("p",{id:"comment_".concat(t.id)},m.a.createElement("b",null,t.author)," on ",m.a.createElement("i",null,n)," wrote:",m.a.createElement("br",null),t.text)}br.propTypes={comment:oe.a.instanceOf(ne).isRequired};var dr=br;function hr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function vr(e){var t=e.articleId,n=hr(Object(y.useState)(e.comments),2),r=n[0],o=n[1];Object(y.useEffect)(function(){var e=Nt.subscribe(function(){o(ie(Nt.getState(),t))});return function(){e()}});var i=r.map(function(e){return m.a.createElement(dr,{key:e.id,comment:e})});return 0===r.length?m.a.createElement("p",{id:"no_comments"},"No comments."):m.a.createElement(m.a.Fragment,null,i)}vr.propTypes={articleId:oe.a.number.isRequired,comments:oe.a.arrayOf(oe.a.instanceOf(ne)).isRequired};var wr=vr;function gr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Or(e){var t=gr(Object(y.useState)(e.comments),2),n=t[0],r=t[1];return Object(y.useEffect)(function(){var t=Nt.subscribe(function(){r(ie(Nt.getState(),e.articleId))});return function(){t()}}),m.a.createElement(m.a.Fragment,null,"".concat(n.length," comment").concat(1===n.length?"":"s"))}Or.propTypes={articleId:oe.a.number.isRequired,comments:oe.a.arrayOf(oe.a.instanceOf(ne)).isRequired};var _r=Or;function jr(e){return(jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Er(e,t){return!t||"object"!==jr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function kr(e){return(kr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pr(e,t){return(Pr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Cr=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=Er(this,kr(t).call(this,n))).article=null,e.newComment=n.comment,e}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pr(e,t)}(t,o["Views"].Base),n=t,(r=[{key:"render",value:function(){new o.UI.Form({for:this.newComment,initObj:!0,id:"new_comment"}).render()}},{key:"renderArticle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.article||(this.article=e,this.connectWith(this.article,{receiver:"_articleReceivedSignal"})),document.getElementById("title").textContent=this.article.title,document.getElementById("author").textContent=this.article.author;var t=new o.Services.Date(this.article.publishedAt);document.getElementById("pub_date").textContent=t.toString("short");var n=document.getElementById("text");n.innerHTML="";var r=(new o.Helpers.Text).simpleFormat(this.article.content);n.insertAdjacentHTML("beforeend",r)}},{key:"_articleReceivedSignal",value:function(e){var t=this;switch(e){case"updating":new s({warning:"Author is currently editing article. Be aware of possible changes."}).render();break;case"updated":this.article.reload().then(function(){t.article.applyChanges(),t.renderArticle()})}}}])&&Sr(n.prototype,r),i&&Sr(n,i),t}();function Ir(e){return(Ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ar(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tr(e,t){return!t||"object"!==Ir(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function xr(e){return(xr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Rr(e,t){return(Rr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Br=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Tr(this,xr(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rr(e,t)}(t,o["Controllers"].Base),n=t,(r=[{key:"show",value:function(){var e=this,t=new ne({articleId:this.params.id}),n=new Cr({comment:t});n.render(),Pe.find(this.params.id).then(function(e){Nt.dispatch(P([e])),n.renderArticle(e)}),ne.get("count",{articleId:this.params.id}).then(function(t){ne.all({articleId:e.params.id,total:t.total}).then(function(t){Nt.dispatch(I(t,e.params.id)),Object(b.render)(m.a.createElement(wr,{articleId:e.params.id,comments:t}),document.getElementById("comments")),Object(b.render)(m.a.createElement(_r,{articleId:e.params.id,comments:t}),document.getElementById("comments_count"))})})}}])&&Ar(n.prototype,r),i&&Ar(n,i),t}();function zr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Dr(){var e=zr(Object(y.useState)(1),2),t=e[0],n=e[1],r=zr(Object(y.useState)(!1),2),o=r[0],i=r[1];function a(e){e.preventDefault();var r=t+1;n(r),Pe.get("all",{page:r}).then(function(e){e.resources.length>0?Nt.dispatch(k(e.resources)):i(!0)}).catch(function(e){return alert("Invalid URL: ".concat(e))})}return o?m.a.createElement("span",null,"No more posts."):m.a.createElement("a",{href:"#",id:"load_more",onClick:a},"Load more…")}function Nr(e){var t=e.article,n=new o.Services.Date(t.publishedAt).toString("short");return m.a.createElement("article",{id:"article_".concat(t.id)},m.a.createElement("h2",null,t.title),m.a.createElement("p",null,m.a.createElement("i",null,t.author," wrote this on ",n," /"," ",m.a.createElement("a",{href:"/articles/".concat(t.id,"#comments"),className:"comments_quantity"},t.commentsCount," comment",1===t.commentsCount?"":"s"))),m.a.createElement("p",null,t.content),m.a.createElement("p",null,m.a.createElement("a",{href:"/articles/".concat(t.id)},"Continued…")))}Nr.propTypes={article:oe.a.instanceOf(Pe).isRequired};var Lr=Nr;function qr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Mr(e){var t=qr(Object(y.useState)(e.articles),2),n=t[0],r=t[1];Object(y.useEffect)(function(){var e=Nt.subscribe(function(){return r(Nt.getState().articles)});return function(){e()}});var o=n.map(function(e){return m.a.createElement(Lr,{key:e.id,article:e})});return m.a.createElement(m.a.Fragment,null,o)}Mr.propTypes={articles:oe.a.arrayOf(oe.a.instanceOf(Pe)).isRequired};var Vr=Mr;function Ur(e){return(Ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wr(e,t){return!t||"object"!==Ur(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Hr(e){return(Hr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Jr(e,t){return(Jr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Yr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Wr(this,Hr(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jr(e,t)}(t,o["Controllers"].Base),n=t,(r=[{key:"index",value:function(){Object(b.render)(m.a.createElement(Dr,null),document.getElementById("load_more_wrapper")),Pe.get("all",{page:1}).then(function(e){Nt.dispatch(P(e.resources)),Object(b.render)(m.a.createElement(Vr,{articles:e.resources}),document.getElementById("articles"))})}}])&&Fr(n.prototype,r),i&&Fr(n,i),t}();function $r(e){return($r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Kr(e,t){return!t||"object"!==$r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Qr(e){return(Qr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xr(e,t){return(Xr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Zr=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Kr(this,Qr(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xr(e,t)}(t,o["Views"].Base),n=t,(r=[{key:"render",value:function(){new o.UI.Form({for:new et,delegator:this,callbackSuccess:"_created"}).render()}},{key:"receivedSignal",value:function(e){switch(e){case"confirming":this._confirming();break;case"confirmed":this._confirmed()}}},{key:"_created",value:function(e){this.connectWith(new et({id:e.id})),document.querySelector("form").style.display="none",document.getElementById("sign_in_paragraph").classList.remove("none"),document.getElementById("verification_info").classList.remove("none"),new s({notice:e.notice}).render()}},{key:"_confirming",value:function(){document.getElementById("verification_info").textContent=document.getElementById("verification_progress").textContent}},{key:"_confirmed",value:function(){window.location.href="/user/sessions/new?event=confirmed"}}])&&Gr(n.prototype,r),i&&Gr(n,i),t}();function eo(e){return(eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function to(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function no(e,t){return!t||"object"!==eo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ro(e){return(ro=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oo(e,t){return(oo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var io=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),no(this,ro(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oo(e,t)}(t,o["Controllers"].Base),n=t,(r=[{key:"new",value:function(){(new Zr).render()}}])&&to(n.prototype,r),i&&to(n,i),t}();function ao(e){return(ao="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function co(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uo(e,t){return!t||"object"!==ao(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function lo(e){return(lo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fo(e,t){return(fo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Object.assign(o.Controllers.Base.prototype,p);var so=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),uo(this,lo(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fo(e,t)}(t,o["Controllers"].Base),n=t,(r=[{key:"initialize",value:function(){this.setScope("main")}}])&&co(n.prototype,r),i&&co(n,i),t}();Object.assign(so,{Articles:Br,Pages:Yr,Users:io});var po=so;function yo(e){return(yo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bo(e,t){return!t||"object"!==yo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ho(e){return(ho=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vo(e,t){return(vo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function wo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function go(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Oo=function(e){var t=e.id;o.Env.namespaceController.constructor===mr?Pe.find({id:t,abbr:!0,resource:"admin"}).then(function(e){Dt.dispatch({type:h,payload:{articles:[e]}})}):Pe.find({id:t,abbr:!0}).then(function(e){return Nt.dispatch(k([e]))})},_o=function(e,t){var n=e.article_id,r=Nt;o.Env.namespaceController.constructor===mr?r=Dt:o.Env.namespaceController.constructor===Tt&&(r=L);var i=go(qt(r.getState(),n),2),a=i[0],c=i[1];if(a){var u=new Pe(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){wo(e,t,n[t])})}return e}({},a,{commentsCount:a.commentsCount+t}));r.dispatch(C(u,c))}},jo=function(e){var t=e.article_id,n=e.id,r=L,i={articleId:t,id:n};o.Env.namespaceController.constructor===po&&(r=Nt,i.resource="main"),go(qt(r.getState(),t),1)[0]&&ne.find(i).then(function(e){return r.dispatch(function(e,t){return{type:O,payload:{articleId:t,comments:e}}}([e],t))})},So=function(e){var t=e.article_id,n=e.id,r=Nt;o.Env.namespaceController.constructor===Tt&&(r=L),r.dispatch(function(e,t){return{type:_,payload:{id:e,articleId:t}}}(n,t))},Eo=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),bo(this,ho(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vo(e,t)}(t,o["Views"].Base),n=t,(r=[{key:"receivedSignal",value:function(e,t){switch(e){case"Article created":n=t.id,o.Env.namespaceController.constructor===Tt&&Pe.find({id:n,abbr:!0}).then(function(e){return L.dispatch(k([e]))});break;case"Article published":Oo(t);break;case"Article updated":!function(e){var t=e.id,n={id:t,abbr:!0},r=Nt;o.Env.namespaceController.constructor===mr?(n.resource="admin",r=Dt):o.Env.namespaceController.constructor===Tt&&(r=L);var i=go(qt(r.getState(),t),2),a=i[0],c=i[1];a&&Pe.find(n).then(function(e){return r.dispatch(C(e,c))})}(t);break;case"Article.Comment created":_o(t,1),jo(t);break;case"Article.Comment destroyed":_o(t,-1),So(t);break;case"Article.Comment updated":!function(e){var t=e.article_id,n=e.id,r=Nt;o.Env.namespaceController.constructor===Tt&&(r=L);var i=go(Mt(r.getState(),n,{parentId:t}),2),a=i[0],c=i[1];a&&a.reload().then(function(){a.applyChanges(),r.dispatch(A(a,t,c))})}(t);break;case"User created":et.find(t.id).then(function(e){return Dt.dispatch({type:E,payload:{users:[e]}})})}var n}},{key:"call",value:function(){this.connectWith([Pe,ne,et])}}])&&mo(n.prototype,r),i&&mo(n,i),t}();o.Deps.cable=Object(i.createConsumer)(),o.Deps.NotificationCenter=Rt;var ko=new Eo;new o.Loco({notifications:{enable:!0,log:!0,size:10},postInit:function(){ko.call(),"test"===document.querySelector("body").getAttribute("data-rails-env")&&o.Env.loco.getWire().setPollingTime(1e3)}}).init();n(138);function Po(e){return(Po="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Co(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Io(e,t){return!t||"object"!==Po(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ao(e){return(Ao=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function To(e,t){return(To=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var xo,Ro,Bo,zo=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Io(this,Ao(t).call(this))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&To(e,t)}(t,o["Validators"].Base),n=t,(r=[{key:"validate",value:function(){if(null!=this.val)switch(Po(this.val)){case"string":var e=this._getVulgarWord();if(!new RegExp("".concat(e),["i"]).exec(this.val))return;this._addErrorMessage();break;default:throw new TypeError("Vulgarity validator is applicable only for strings and ".concat(this.attr," isn't."))}}},{key:"_addErrorMessage",value:function(){var e=o.I18n[o.Env.loco.getLocale()].errors.messages.vulgarity;this.obj.addErrorMessage(e,{for:this.attr})}},{key:"_getVulgarWord",value:function(){switch(o.Env.loco.getLocale()){case"pl":return"kurwa";case"en":return"fuck"}}}])&&Co(n.prototype,r),i&&Co(n,i),t}();Bo="Vulgarity",(Ro="identity")in(xo=zo)?Object.defineProperty(xo,Ro,{value:Bo,enumerable:!0,configurable:!0,writable:!0}):xo[Ro]=Bo;var Do=zo;Object.assign(o.Validators,{Vulgarity:Do}),o.I18n.pl={variants:{few:function(e){var t=parseInt(o.Utils.String.last(String(e)));-1!==[2,3,4].indexOf(t)&&(2!==String(e).length||String(e)[0])}},models:{},attributes:{},ui:{form:{sending:"Wysyłam...",success:"Sukces",errors:{connection:"Błąd z połączeniem",invalid_data:"Nieprawidłowe dane"}}},date:{formats:{default:"%d-%m-%Y",short:"%d %b",long:"%B %d, %Y"},day_names:["niedziela","poniedziałek","wtorek","środa","czwartek","piątek","sobota"],abbr_day_names:["nie","pon","wto","śro","czw","pią","sob"],month_names:["styczeń","luty","marzec","kwiecień","maj","czerwiec","lipiec","sierpień","wrzesień","październik","listopad","grudzień"],abbr_month_names:["sty","lut","mar","kwi","maj","cze","lip","sie","wrz","paź","lis","gru"]},errors:{messages:{accepted:"musi zostać zaakceptowane",blank:"nie może być puste",confirmation:"nie zgadza się z polem %{attribute}",empty:"nie może być puste",equal_to:"musi być równe %{count}",even:"musi być parzyste",exclusion:"jest zarezerwowane",greater_than:"musi być większe od %{count}",greater_than_or_equal_to:"musi być większe lub równe %{count}",inclusion:"nie znajduje się na liście dopuszczalnych wartości",invalid:"jest nieprawidłowe",less_than:"musi być mniejsze od %{count}",less_than_or_equal_to:"musi być mniejsze lub równe %{count}",not_a_number:"nie jest liczbą",not_an_integer:"musi być liczbą całkowitą",odd:"musi być nieparzyste",present:"musi być puste",too_long:{few:"jest za długie (maksymalnie %{count} znaki)",many:"jest za długie (maksymalnie %{count} znaków)",one:"jest za długie (maksymalnie jeden znak)",other:"jest za długie (maksymalnie %{count} znaków)"},too_short:{few:"jest za krótkie (przynajmniej %{count} znaki)",many:"jest za krótkie (przynajmniej %{count} znaków)",one:"jest za krótkie (przynajmniej jeden znak)",other:"jest za krótkie (przynajmniej %{count} znaków)"},wrong_length:{few:"ma nieprawidłową długość (powinna wynosić %{count} znaki)",many:"ma nieprawidłową długość (powinna wynosić %{count} znaków)",one:"ma nieprawidłową długość (powinna wynosić jeden znak)",other:"ma nieprawidłową długość (powinna wynosić %{count} znaków)"},other_than:"musi być inna niż %{count}"}}},o.I18n.pl.models.User="Użytkownik",o.I18n.pl.attributes.User={password:"Hasło",passwordConfirmation:"Powtórz hasło"},o.I18n.en.errors.messages.vulgarity="contains strong language.",o.I18n.pl.errors.messages.vulgarity="zawiera mocny język.",Object.assign(o.Controllers,{Admin:mr,Main:po,User:Tt}),Object.assign(Pe,{Comment:ne}),Object.assign(yt,{Member:He}),Object.assign(o.Models,{Article:Pe,Room:yt,User:et}),window.test={Channels:o.Channels,Env:o.Env}}});
//# sourceMappingURL=application.js.map