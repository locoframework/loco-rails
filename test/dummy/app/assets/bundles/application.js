!function(e){function t(t){for(var r,a,c=t[0],u=t[1],l=t[2],f=0,p=[];f<c.length;f++)a=c[f],o[a]&&p.push(o[a][0]),o[a]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);for(s&&s(t);p.length;)p.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,c=1;c<n.length;c++){var u=n[c];0!==o[u]&&(r=!1)}r&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},o={0:0},i=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var c=window.webpackJsonp=window.webpackJsonp||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var s=u;i.push([129,1]),n()}({127:function(e,t,n){},128:function(e,t,n){},129:function(e,t,n){"use strict";n.r(t);n(35);var r=n(1),o=n(92);n.n(o).a.start();var i=n(93),a=n.n(i),c=function(){function e(){}return e.prototype.receivedSignal=function(e){switch(e.signal){case"ping":return this._pingSignal();case"message":return this._messageSignal(e)}},e.prototype._pingSignal=function(){if(r.Env.namespaceController.constructor===App.Controllers.User)return alert("Ping!")},e.prototype._messageSignal=function(e){var t;if(t=this._getRoomView())return t.receivedMessage(e.message,e.author)},e.prototype._getRoomView=function(){return r.Env.namespaceController.constructor===App.Controllers.User&&(r.Env.controller.constructor===App.Controllers.User.Rooms&&("show"===r.Env.action&&r.Env.controller.getView("show")))},e}(),u=(n(5),n(6),n(7),n(26),n(73),n(50),n(4),n(80),n(14),n(81),n(15),n(3),n(8),n(84),n(9),n(25));n(51),n(87),n(29);function l(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){p(e,t,n[t])})}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=Object(u.a)({articles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ARTICLES":return l(t.payload.articles);case"ADD_ARTICLES":return[].concat(l(e),l(t.payload.articles));case"UPDATE_ARTICLE":return[].concat(l(e.slice(0,t.payload.index)),[t.payload.article],l(e.slice(t.payload.index+1)));default:return e}},comments:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_COMMENTS":return f({},e,p({},t.payload.articleId,[].concat(s(e[t.payload.articleId]),s(t.payload.comments))));case"REMOVE_COMMENT":return f({},e,p({},t.payload.articleId,e[t.payload.articleId].filter(function(e){return e.id!==t.payload.id})));case"SET_COMMENTS":return p({},t.payload.articleId,t.payload.comments);default:return e}}}),m=Object(u.b)(y,{articles:[],comments:[]});function d(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function b(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var h=Object(u.a)({articles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PREPEND_ARTICLE":return[].concat(d(t.payload.articles),d(e));case"SET_ARTICLES":return d(t.payload.articles);case"UPDATE_ARTICLE":return[].concat(d(e.slice(0,t.payload.index)),[t.payload.article],d(e.slice(t.payload.index+1)));default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APPEND_USER":return[].concat(b(e),b(t.payload.users));case"SET_USERS":return b(t.payload.users);case"PREPEND_USER":return[].concat(b(t.payload.users),b(e));default:return e}}}),v=Object(u.b)(h,{users:[],articles:[]}),g=(n(116),function(e,t){var n=e.articles.find(function(e){return e.id===t});return n?[n,e.articles.indexOf(n)]:[null,null]}),_={}.hasOwnProperty,w=function(e){function t(e){t.__super__.constructor.call(this,e),this.published=null!=this.publishedAt}return function(e,t){for(var n in t)_.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,r["Models"].Base),t.identity="Article",t.resources={url:"/user/articles",paginate:{per:5},main:{url:"/articles",paginate:{per:3}},admin:{url:"/admin/articles",paginate:{per:4}}},t.attributes={title:{validations:{presence:!0,length:{within:[3,255]}}},content:{validations:{presence:!0,length:{minimum:100}},remoteName:"text"},createdAt:{type:"Date",remoteName:"created_at"},updatedAt:{type:"Date",remoteName:"updated_at"},commentsCount:{type:"Int",remoteName:"comments_count"},publishedAt:{type:"Date",remoteName:"published_at"},published:{},adminReview:{remoteName:"admin_review"},adminRate:{type:"Int",remoteName:"admin_rate"},categoryId:{type:"Int",remoteName:"category_id"},adminReviewStartedAt:{remoteName:"admin_review_started_at"}},t.receivedSignal=function(e,t){},t.validate=["vulgarityLevel"],t.prototype.receivedSignal=function(e,t){},t.prototype.vulgarityLevel=function(){if(null!=this.title&&/fuck/i.exec(this.title)||null!=this.content&&/fuck/i.exec(this.content))return this.addErrorMessage("Article contains strong language.",{for:"base"})},t.prototype.setDefaultValuesForAdminReview=function(){return null==this.adminRate&&(this.adminRate=3),null==this.categoryId&&(this.categoryId=6),this.adminReviewStartedAt=Date.now()},t}(),O={}.hasOwnProperty,E=function(e){function t(e){t.__super__.constructor.call(this,e)}return function(e,t){for(var n in t)O.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,r["Models"].Base),t.identity="Article.Comment",t.remoteName="Comment",t.resources={url:"/user/articles/:articleId/comments",paginate:{per:10},main:{url:"/articles/:articleId/comments",paginate:{per:5,param:"page-num"}},admin:{url:"/admin/articles/:articleId/comments",paginate:{per:5}}},t.attributes={author:{validations:{presence:!0}},text:{validations:{presence:!0,vulgarity:!0}},articleId:{type:"Int",validations:{presence:!0},remoteName:"article_id"},createdAt:{type:"Date",remoteName:"created_at"},updatedAt:{type:"Date",remoteName:"updated_at"},emotion:{type:"Int"},pinned:{type:"Boolean"},adminRate:{type:"Int",remoteName:"admin_rate"},approved:{type:"Boolean"}},t.receivedSignal=function(e,t){},t.prototype.receivedSignal=function(e,t){},t}(),S={}.hasOwnProperty,j=function(e){function t(e){t.__super__.constructor.call(this,e)}return function(e,t){for(var n in t)S.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,r["Models"].Base),t.identity="User",t.resources={url:"/users",admin:{url:"/admin/users"}},t.paginate={per:10},t.attributes={email:{validations:{presence:!0,format:{with:/^([^@\s]+)@((?:[-a-z0-9]+\.)+[a-z]{2,})$/i}}},username:{validations:{presence:!0,format:{with:/^[a-z][a-z0-9_\-]*$/i}}},password:{validations:{presence:{on:"create"},confirmation:!0}},passwordConfirmation:{remoteName:"password_confirmation"},confirmed:{},createdAt:{type:"Date",remoteName:"created_at"},updatedAt:{type:"Date",remoteName:"updated_at"}},t.receivedSignal=function(e,t){return console.log("App.Models.User.receivedSignal: "+e)},t.prototype.receivedSignal=function(e,t){return console.log("App.Models.User#receivedSignal: "+e)},t}(),A={}.hasOwnProperty,P=function(e){function t(e){var n,r,o,i;null==e&&(e={}),t.__super__.constructor.call(this,e),this.notice=null!=(n=e.notice)?n:null,this.alert=null!=(r=e.alert)?r:null,this.warning=null!=(o=e.warning)?o:null,this.hide=null==(i=e.hide)||i}return function(e,t){for(var n in t)A.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,r["Views"].Base),t.prototype.setNotice=function(e){return this.notice=e},t.prototype.setAlert=function(e){return this.alert=e},t.prototype.setWarning=function(e){return this.warning=e},t.prototype.render=function(){var e;if((e=document.querySelector(".flash")).classList.remove("notice"),e.classList.remove("alert"),e.classList.remove("warning"),null!=this.notice?(e.classList.add("notice"),document.querySelector(".flash p").textContent=this.notice):null!=this.alert?(e.classList.add("alert"),document.querySelector(".flash p").textContent=this.alert):null!=this.warning&&(e.classList.add("warning"),document.querySelector(".flash p").textContent=this.warning),e.classList.remove("none"),this.hide)return this.hideAfterTime()},t.prototype.hideAfterTime=function(e){return null==e&&(e=4e3),setTimeout(function(){return document.querySelector(".flash").classList.add("none")},e)},t}(),C=function(){function e(){}return e.prototype.disconnectedForTooLong=function(e){return"You have been disconnected from the server for too long. Reload page!",new P({alert:"You have been disconnected from the server for too long. Reload page!",hide:!1}).render()},e}(),I=n(0),T=n.n(I),R=n(16),x=(n(34),n(2)),k=n.n(x);function B(e){var t=e.comment,n=new r.Services.Date(t.createdAt).strftime("%d %b %y");return T.a.createElement("p",{id:"comment_".concat(t.id)},T.a.createElement("b",null,t.author)," on ",T.a.createElement("i",null,n)," (",T.a.createElement("a",{href:"/admin/articles/".concat(t.articleId,"/comments/").concat(t.id,"/edit")},"edit"),")",T.a.createElement("br",null),t.text)}B.propTypes={comment:k.a.instanceOf(E).isRequired};var D=B;function N(e){var t=e.comments;return 0===t.length?T.a.createElement("p",null,"No comments"):T.a.createElement(T.a.Fragment,null,t.map(function(e){return T.a.createElement(D,{comment:e,key:e.id})}))}N.propTypes={comments:k.a.arrayOf(k.a.instanceOf(E)).isRequired};var L=N;function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function q(e,t){return!t||"object"!==M(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function V(e){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function F(e,t){return(F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var z=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=q(this,V(t).call(this,n))).article=null,e}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&F(e,t)}(t,r["Views"].Base),n=t,(o=[{key:"receivedSignal",value:function(e){var t=this;switch(e){case"updated":this.article.reload().then(function(){t.article.applyChanges(),t._renderArticle()})}}},{key:"render",value:function(e){this.article=e,this.connectWith(e),this._renderArticle()}},{key:"renderComments",value:function(e){Object(R.render)(T.a.createElement(L,{comments:e}),document.getElementById("comments"))}},{key:"_renderArticle",value:function(){document.getElementById("article_author").textContent=this.article.author,document.getElementById("article_title").textContent=this.article.title,document.getElementById("article_text").textContent=this.article.content}}])&&U(n.prototype,o),i&&U(n,i),t}();function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Y(e,t){return!t||"object"!==W(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function J(e){return(J=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $(e,t){return($=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var G=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Y(this,J(t).call(this,e))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$(e,t)}(t,r["Views"].Base),n=t,(o=[{key:"render",value:function(e){e.setDefaultValuesForAdminReview(),new r.UI.Form({id:"edit_article_form",for:e}).render()}}])&&H(n.prototype,o),i&&H(n,i),t}();function K(e){var t=e.article,n=new r.Services.Date(t.publishedAt).toString("short");return T.a.createElement("article",{id:"article_".concat(t.id)},T.a.createElement("h2",null,t.title),T.a.createElement("p",null,T.a.createElement("i",null,t.author," wrote this on ",n," /"," ",T.a.createElement("span",{className:"comments_quantity"},t.commentsCount," comment",1===t.commentsCount?"":"s"))),T.a.createElement("p",null,t.content),T.a.createElement("p",null,T.a.createElement("a",{href:"/admin/articles/".concat(t.id,"/edit")},"Review")))}K.propTypes={article:k.a.instanceOf(w).isRequired};var Q=K;function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Z(e){var t=X(Object(I.useState)(e.articles),2),n=t[0],r=t[1];Object(I.useEffect)(function(){var e=v.subscribe(function(){return r(v.getState().articles)});return function(){e()}});var o=n.map(function(e){return T.a.createElement(Q,{key:e.id,article:e})});return T.a.createElement(T.a.Fragment,null,o)}Z.propTypes={articles:k.a.arrayOf(k.a.instanceOf(w)).isRequired};var ee=Z;function te(e){return(te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function re(e,t){return!t||"object"!==te(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function oe(e){return(oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ie(e,t){return(ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ae=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),re(this,oe(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ie(e,t)}(t,r["Controllers"].Base),n=t,(o=[{key:"published",value:function(){w.get("published").then(function(e){v.dispatch({type:"SET_ARTICLES",payload:{articles:e.resources}}),Object(R.render)(T.a.createElement(ee,{articles:e.resources}),document.getElementById("articles"))})}},{key:"edit",value:function(){var e=new z;w.find(this.params.id).then(function(t){e.render(t),(new G).render(t)}),E.all({articleId:this.params.id}).then(function(t){e.renderComments(t.resources)})}}])&&ne(n.prototype,o),i&&ne(n,i),t}();function ce(e){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function le(e,t){return!t||"object"!==ce(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function se(e){return(se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fe(e,t){return(fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var pe=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),le(this,se(t).call(this,e))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fe(e,t)}(t,r["Views"].Base),n=t,(o=[{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new r.UI.Form({for:new E({id:e.commentId,resource:"admin"}),id:"edit_comment_".concat(e.commentId),initObj:!0});t.render(),r.Env.test={commentFormObj:t.getObj()}}}])&&ue(n.prototype,o),i&&ue(n,i),t}();function ye(e){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function de(e,t){return!t||"object"!==ye(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function be(e){return(be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function he(e,t){return(he=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ve=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),de(this,be(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&he(e,t)}(t,r["Controllers"].Base),n=t,(o=[{key:"edit",value:function(){(new pe).render({commentId:this.params.id})}}])&&me(n.prototype,o),i&&me(n,i),t}(),ge=function(e){var t=e.user;return T.a.createElement("tr",{id:"user_".concat(t.id)},T.a.createElement("td",null,t.email),T.a.createElement("td",null,t.username),T.a.createElement("td",{className:"confirmed"},t.confirmed?"Yes":"No"),T.a.createElement("td",null,T.a.createElement("a",{href:"/admin/users/".concat(t.id)},"Show")," |"," ",T.a.createElement("a",{href:"/admin/users/".concat(t.id,"/edit")},"Edit")," |"," ",T.a.createElement("a",{href:"/admin/users/".concat(t.id),"data-method":"delete","data-confirm":"Are you sure?"},"Delete")," ","|"," ",T.a.createElement("a",{href:"#",onClick:function(e){return function(e,t){e.preventDefault(),r.Env.loco.emit({signal:"ping",user_id:t})}(e,t.id)}},"Ping")))};ge.propTypes={user:k.a.instanceOf(j).isRequired};var _e=ge;function we(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Oe(e){var t=we(Object(I.useState)(e.users),2),n=t[0],r=t[1];Object(I.useEffect)(function(){var e=v.subscribe(function(){return r(v.getState().users)});return function(){e()}});var o=n.map(function(e){return T.a.createElement(_e,{key:"user_".concat(e.id),user:e})});return T.a.createElement(T.a.Fragment,null,o)}Oe.propTypes={users:k.a.arrayOf(k.a.instanceOf(j)).isRequired};var Ee=Oe;n(123);function Se(e){return(Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ae(e,t){return!t||"object"!==Se(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pe(e){return(Pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ce(e,t){return(Ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ie=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=Ae(this,Pe(t).call(this,n))).user=n.user,e}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ce(e,t)}(t,r["Views"].Base),n=t,(o=[{key:"render",value:function(){document.getElementById("user_email").textContent=this.user.email,document.getElementById("user_username").textContent=this.user.username,document.getElementById("user_confirmed").textContent=this.user.confirmed?"Yes":"No",this._updateEditLink()}},{key:"_updateEditLink",value:function(){var e=document.getElementById("edit_link"),t=e.getAttribute("href");e.setAttribute("href",t.replace("/0/","/#{@user.id}/"))}}])&&je(n.prototype,o),i&&je(n,i),t}();function Te(e){return(Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xe(e,t){return!t||"object"!==Te(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ke(e){return(ke=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Be(e,t){return(Be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var De=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=xe(this,ke(t).call(this,n))).user=n.user,e}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Be(e,t)}(t,r["Views"].Base),n=t,(o=[{key:"render",value:function(){new r.UI.Form({for:this.user,initObj:!0,id:"admin_user_form"}).render()}}])&&Re(n.prototype,o),i&&Re(n,i),t}();function Ne(e){return(Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Me(e,t){return!t||"object"!==Ne(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ue(e){return(Ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qe(e,t){return(qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ve=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Me(this,Ue(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qe(e,t)}(t,r["Controllers"].Base),n=t,(o=[{key:"index",value:function(){j.get("all").then(function(e){v.dispatch({type:"SET_USERS",payload:{users:e.resources}}),Object(R.render)(T.a.createElement(Ee,{users:e.resources}),document.querySelector("table tbody"))})}},{key:"show",value:function(){j.find(this.params.id).then(function(e){return new Ie({user:e}).render()})}},{key:"edit",value:function(){new De({user:new j({id:this.params.id})}).render()}}])&&Le(n.prototype,o),i&&Le(n,i),t}();function Fe(e){return(Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ze(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function We(e,t){return!t||"object"!==Fe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function He(e){return(He=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ye(e,t){return(Ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Je=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),We(this,He(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ye(e,t)}(t,Object(r["Mix"])(r["Controllers"].Base,C)),n=t,(o=[{key:"initialize",value:function(){this.setScope("admin")}}])&&ze(n.prototype,o),i&&ze(n,i),t}();Object.assign(Je,{Articles:ae,Comments:ve,Users:Ve});var $e=Je;function Ge(e){return(Ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ke(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qe(e,t){return!t||"object"!==Ge(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Xe(e){return(Xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ze(e,t){return(Ze=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){tt(e,t,n[t])})}return e}function tt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var rt=function(e,t){var n=e.article_id,o=m;r.Env.namespaceController.constructor===$e&&(o=v);var i=nt(g(o.getState(),n),2),a=i[0],c=i[1];a&&o.dispatch({type:"UPDATE_ARTICLE",payload:{article:new w(et({},a,{commentsCount:a.commentsCount+t})),index:c}})},ot=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Qe(this,Xe(t).call(this,e))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ze(e,t)}(t,r["Views"].Base),n=t,(o=[{key:"receivedSignal",value:function(e,t){switch(e){case"Article published":n=t.id,r.Env.namespaceController.constructor===$e?w.find({id:n,abbr:!0,resource:"admin"}).then(function(e){v.dispatch({type:"PREPEND_ARTICLE",payload:{articles:[e]}})}):w.find({id:n,abbr:!0}).then(function(e){m.dispatch({type:"ADD_ARTICLES",payload:{articles:[e]}})});break;case"Article updated":!function(e){var t=e.id,n={id:t,abbr:!0},o=m;r.Env.namespaceController.constructor===$e&&(n.resource="admin",o=v);var i=nt(g(o.getState(),t),2),a=i[0],c=i[1];a&&w.find(n).then(function(e){return o.dispatch({type:"UPDATE_ARTICLE",payload:{article:e,index:c}})})}(t);break;case"Article.Comment created":rt(t,1),function(e){var t=e.article_id,n=e.id;E.find({articleId:t,id:n}).then(function(e){return m.dispatch({type:"ADD_COMMENTS",payload:{articleId:t,comments:[e]}})})}(t);break;case"Article.Comment destroyed":rt(t,-1),function(e){var t=e.article_id,n=e.id;m.dispatch({type:"REMOVE_COMMENT",payload:{id:n,articleId:t}})}(t);break;case"User created":j.find(t.id).then(function(e){return v.dispatch({type:"PREPEND_USER",payload:{users:[e]}})})}var n}},{key:"call",value:function(){this.connectWith([w,E,j])}}])&&Ke(n.prototype,o),i&&Ke(n,i),t}();r.Deps.cable=a.a.createConsumer(),r.Deps.NotificationCenter=c;var it=new ot;new r.Loco({notifications:{enable:!0,log:!0,size:10},postInit:function(){it.call(),"test"===document.querySelector("body").getAttribute("data-rails-env")&&r.Env.loco.getWire().setPollingTime(1e3)}}).init();n(127),n(128);var at=function(e,t){return e.comments[t]};function ct(e){var t=e.comment,n=new r.Services.Date(t.createdAt).strftime("%d %b %y");return T.a.createElement("p",{id:"comment_".concat(t.id)},T.a.createElement("b",null,t.author)," on ",T.a.createElement("i",null,n)," wrote:",T.a.createElement("br",null),t.text)}ct.propTypes={comment:k.a.instanceOf(E).isRequired};var ut=ct;function lt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function st(e){var t=e.articleId,n=lt(Object(I.useState)(e.comments),2),r=n[0],o=n[1];Object(I.useEffect)(function(){var e=m.subscribe(function(){o(at(m.getState(),t))});return function(){e()}});var i=r.map(function(e){return T.a.createElement(ut,{key:e.id,comment:e})});return 0===r.length?T.a.createElement("p",{id:"no_comments"},"No comments."):T.a.createElement(T.a.Fragment,null,i)}st.propTypes={articleId:k.a.number.isRequired,comments:k.a.arrayOf(k.a.instanceOf(E)).isRequired};var ft=st;function pt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function yt(e){var t=pt(Object(I.useState)(e.comments),2),n=t[0],r=t[1];return Object(I.useEffect)(function(){var t=m.subscribe(function(){r(at(m.getState(),e.articleId))});return function(){t()}}),T.a.createElement(T.a.Fragment,null,"".concat(n.length," comment").concat(1===n.length?"":"s"))}yt.propTypes={articleId:k.a.number.isRequired,comments:k.a.arrayOf(k.a.instanceOf(E)).isRequired};var mt=yt,dt={}.hasOwnProperty,bt=function(e){function t(e){null==e&&(e={}),t.__super__.constructor.call(this,e),this.article=null,this.comments=[],this.newComment=e.comment}return function(e,t){for(var n in t)dt.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,r["Views"].Base),t.prototype.render=function(){return new r.UI.Form({for:this.newComment,initObj:!0,id:"new_comment"}).render()},t.prototype.renderArticle=function(e){var t,n,o;return null==e&&(e=null),null==this.article&&(this.article=e,this.connectWith(this.article,{receiver:"_articleReceivedSignal"})),document.getElementById("title").textContent=this.article.title,document.getElementById("author").textContent=this.article.author,t=new r.Services.Date(this.article.publishedAt),document.getElementById("pub_date").textContent=t.toString("short"),(o=document.getElementById("text")).innerHTML="",n=(new r.Helpers.Text).simpleFormat(this.article.content),o.insertAdjacentHTML("beforeend",n)},t.prototype._articleReceivedSignal=function(e,t){var n;switch(e){case"updating":return"Author is currently editing article. Be aware of possible changes.",new P({warning:"Author is currently editing article. Be aware of possible changes."}).render();case"updated":return this.article.reload().then((n=this,function(){return n.article.applyChanges(),n.renderArticle()}));default:return console.log("App.Views.Main.Articles.Show#_articleReceivedSignal: "+e)}},t.prototype._commentReceivedSignal=function(e,t){var n;switch(e){case"updated":return(n=App.Utils.Collection.find(this.comments,function(e){return e.id===t.id})).reload().then(function(){var e;return n.applyChanges(),e=JST["templates/main/comments/comment"]({comment:n}),document.getElementById("comment_"+n.id).outerHTML=e})}},t}(),ht={}.hasOwnProperty,vt=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)ht.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,r["Controllers"].Base),t.prototype.show=function(){var e,t;return e=new E({articleId:this.params.id}),this.view=new bt({comment:e}),this.view.render(),this.connectWith([E]),w.find(this.params.id).then((t=this,function(e){return t.view.renderArticle(e)})),E.get("count",{articleId:this.params.id}).then(function(e){return function(t){return E.all({articleId:e.params.id,total:t.total}).then(function(t){return m.dispatch({type:"SET_COMMENTS",payload:{articleId:e.params.id,comments:t}}),Object(R.render)(T.a.createElement(ft,{articleId:e.params.id,comments:t}),document.getElementById("comments")),Object(R.render)(T.a.createElement(mt,{articleId:e.params.id,comments:t}),document.getElementById("comments_count"))})}}(this))},t}();function gt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function _t(){var e=gt(Object(I.useState)(1),2),t=e[0],n=e[1],r=gt(Object(I.useState)(!1),2),o=r[0],i=r[1];function a(e){e.preventDefault();var r=t+1;n(r),w.get("all",{page:r}).then(function(e){e.resources.length>0?m.dispatch({type:"ADD_ARTICLES",payload:{articles:e.resources}}):i(!0)}).catch(function(e){return alert("Invalid URL: ".concat(e))})}return o?T.a.createElement("span",null,"No more posts."):T.a.createElement("a",{href:"#",id:"load_more",onClick:a},"Load more…")}function wt(e){var t=e.article,n=new r.Services.Date(t.publishedAt).toString("short");return T.a.createElement("article",{id:"article_".concat(t.id)},T.a.createElement("h2",null,t.title),T.a.createElement("p",null,T.a.createElement("i",null,t.author," wrote this on ",n," /"," ",T.a.createElement("a",{href:"/articles/".concat(t.id,"#comments"),className:"comments_quantity"},t.commentsCount," comment",1===t.commentsCount?"":"s"))),T.a.createElement("p",null,t.content),T.a.createElement("p",null,T.a.createElement("a",{href:"/articles/".concat(t.id)},"Continued…")))}wt.propTypes={article:k.a.instanceOf(w).isRequired};var Ot=wt;function Et(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function St(e){var t=Et(Object(I.useState)(e.articles),2),n=t[0],r=t[1];Object(I.useEffect)(function(){var e=m.subscribe(function(){return r(m.getState().articles)});return function(){e()}});var o=n.map(function(e){return T.a.createElement(Ot,{key:e.id,article:e})});return T.a.createElement(T.a.Fragment,null,o)}St.propTypes={articles:k.a.arrayOf(k.a.instanceOf(w)).isRequired};var jt=St;function At(e){return(At="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ct(e,t){return!t||"object"!==At(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function It(e){return(It=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Tt(e,t){return(Tt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Rt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ct(this,It(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tt(e,t)}(t,r["Controllers"].Base),n=t,(o=[{key:"index",value:function(){Object(R.render)(T.a.createElement(_t,null),document.getElementById("load_more_wrapper")),w.get("all",{page:1}).then(function(e){m.dispatch({type:"SET_ARTICLES",payload:{articles:e.resources}}),Object(R.render)(T.a.createElement(jt,{articles:e.resources}),document.getElementById("articles"))})}}])&&Pt(n.prototype,o),i&&Pt(n,i),t}(),xt={}.hasOwnProperty,kt=function(e){function t(e){null==e&&(e={}),t.__super__.constructor.call(this,e)}return function(e,t){for(var n in t)xt.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,r["Views"].Base),t.prototype.render=function(){return new r.UI.Form({for:new j,delegator:this,callbackSuccess:"_created"}).render()},t.prototype.receivedSignal=function(e,t){switch(e){case"confirming":return this._confirming();case"confirmed":return this._confirmed()}},t.prototype._created=function(e){return this.connectWith(new j({id:e.id})),document.querySelector("form").style.display="none",document.getElementById("sign_in_paragraph").classList.remove("none"),document.getElementById("verification_info").classList.remove("none"),new P({notice:e.notice}).render()},t.prototype._confirming=function(){return document.getElementById("verification_info").textContent=document.getElementById("verification_progress").textContent},t.prototype._confirmed=function(){return window.location.href="/user/sessions/new?event=confirmed"},t}(),Bt={}.hasOwnProperty,Dt=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)Bt.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,r["Controllers"].Base),t.prototype.new=function(){return(new kt).render()},t}();function Nt(e){return(Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mt(e,t){return!t||"object"!==Nt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ut(e){return(Ut=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qt(e,t){return(qt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Vt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Mt(this,Ut(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qt(e,t)}(t,Object(r["Mix"])(r["Controllers"].Base,C)),n=t,(o=[{key:"initialize",value:function(){this.setScope("main")}}])&&Lt(n.prototype,o),i&&Lt(n,i),t}();Object.assign(Vt,{Articles:vt,Pages:Rt,Users:Dt});var Ft=Vt;Object.assign(w,{Comment:E});var zt={Article:w,User:j};Object.assign(r.Models,zt),Object.assign(r.Controllers,{Admin:$e,Main:Ft})}});
//# sourceMappingURL=application.js.map